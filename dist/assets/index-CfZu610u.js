(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var l=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:function(){return n[s]}})}),t}var qf={exports:{}},ed={},zf={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function q0(){if(gg)return Ut;gg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function L(D,N,M){this.props=D,this.context=N,this.refs=P,this.updater=M||v}L.prototype.isReactComponent={},L.prototype.setState=function(D,N){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,N,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function S(){}S.prototype=L.prototype;function k(D,N,M){this.props=D,this.context=N,this.refs=P,this.updater=M||v}var A=k.prototype=new S;A.constructor=k,C(A,L.prototype),A.isPureReactComponent=!0;var E=Array.isArray,U=Object.prototype.hasOwnProperty,Z={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function B(D,N,M){var Q,ie={},oe=null,ve=null;if(N!=null)for(Q in N.ref!==void 0&&(ve=N.ref),N.key!==void 0&&(oe=""+N.key),N)U.call(N,Q)&&!q.hasOwnProperty(Q)&&(ie[Q]=N[Q]);var ge=arguments.length-2;if(ge===1)ie.children=M;else if(1<ge){for(var ke=Array(ge),$e=0;$e<ge;$e++)ke[$e]=arguments[$e+2];ie.children=ke}if(D&&D.defaultProps)for(Q in ge=D.defaultProps,ge)ie[Q]===void 0&&(ie[Q]=ge[Q]);return{$$typeof:n,type:D,key:oe,ref:ve,props:ie,_owner:Z.current}}function te(D,N){return{$$typeof:n,type:D.type,key:N,ref:D.ref,props:D.props,_owner:D._owner}}function le(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function F(D){var N={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(M){return N[M]})}var R=/\/+/g;function ee(D,N){return typeof D=="object"&&D!==null&&D.key!=null?F(""+D.key):N.toString(36)}function G(D,N,M,Q,ie){var oe=typeof D;(oe==="undefined"||oe==="boolean")&&(D=null);var ve=!1;if(D===null)ve=!0;else switch(oe){case"string":case"number":ve=!0;break;case"object":switch(D.$$typeof){case n:case e:ve=!0}}if(ve)return ve=D,ie=ie(ve),D=Q===""?"."+ee(ve,0):Q,E(ie)?(M="",D!=null&&(M=D.replace(R,"$&/")+"/"),G(ie,N,M,"",function($e){return $e})):ie!=null&&(le(ie)&&(ie=te(ie,M+(!ie.key||ve&&ve.key===ie.key?"":(""+ie.key).replace(R,"$&/")+"/")+D)),N.push(ie)),1;if(ve=0,Q=Q===""?".":Q+":",E(D))for(var ge=0;ge<D.length;ge++){oe=D[ge];var ke=Q+ee(oe,ge);ve+=G(oe,N,M,ke,ie)}else if(ke=b(D),typeof ke=="function")for(D=ke.call(D),ge=0;!(oe=D.next()).done;)oe=oe.value,ke=Q+ee(oe,ge++),ve+=G(oe,N,M,ke,ie);else if(oe==="object")throw N=String(D),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ve}function ue(D,N,M){if(D==null)return D;var Q=[],ie=0;return G(D,Q,"","",function(oe){return N.call(M,oe,ie++)}),Q}function $(D){if(D._status===-1){var N=D._result;N=N(),N.then(function(M){(D._status===0||D._status===-1)&&(D._status=1,D._result=M)},function(M){(D._status===0||D._status===-1)&&(D._status=2,D._result=M)}),D._status===-1&&(D._status=0,D._result=N)}if(D._status===1)return D._result.default;throw D._result}var X={current:null},O={transition:null},W={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:O,ReactCurrentOwner:Z};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:ue,forEach:function(D,N,M){ue(D,function(){N.apply(this,arguments)},M)},count:function(D){var N=0;return ue(D,function(){N++}),N},toArray:function(D){return ue(D,function(N){return N})||[]},only:function(D){if(!le(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ut.Component=L,Ut.Fragment=t,Ut.Profiler=l,Ut.PureComponent=k,Ut.StrictMode=s,Ut.Suspense=d,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ut.act=V,Ut.cloneElement=function(D,N,M){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Q=C({},D.props),ie=D.key,oe=D.ref,ve=D._owner;if(N!=null){if(N.ref!==void 0&&(oe=N.ref,ve=Z.current),N.key!==void 0&&(ie=""+N.key),D.type&&D.type.defaultProps)var ge=D.type.defaultProps;for(ke in N)U.call(N,ke)&&!q.hasOwnProperty(ke)&&(Q[ke]=N[ke]===void 0&&ge!==void 0?ge[ke]:N[ke])}var ke=arguments.length-2;if(ke===1)Q.children=M;else if(1<ke){ge=Array(ke);for(var $e=0;$e<ke;$e++)ge[$e]=arguments[$e+2];Q.children=ge}return{$$typeof:n,type:D.type,key:ie,ref:oe,props:Q,_owner:ve}},Ut.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},Ut.createElement=B,Ut.createFactory=function(D){var N=B.bind(null,D);return N.type=D,N},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(D){return{$$typeof:f,render:D}},Ut.isValidElement=le,Ut.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:$}},Ut.memo=function(D,N){return{$$typeof:p,type:D,compare:N===void 0?null:N}},Ut.startTransition=function(D){var N=O.transition;O.transition={};try{D()}finally{O.transition=N}},Ut.unstable_act=V,Ut.useCallback=function(D,N){return X.current.useCallback(D,N)},Ut.useContext=function(D){return X.current.useContext(D)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(D){return X.current.useDeferredValue(D)},Ut.useEffect=function(D,N){return X.current.useEffect(D,N)},Ut.useId=function(){return X.current.useId()},Ut.useImperativeHandle=function(D,N,M){return X.current.useImperativeHandle(D,N,M)},Ut.useInsertionEffect=function(D,N){return X.current.useInsertionEffect(D,N)},Ut.useLayoutEffect=function(D,N){return X.current.useLayoutEffect(D,N)},Ut.useMemo=function(D,N){return X.current.useMemo(D,N)},Ut.useReducer=function(D,N,M){return X.current.useReducer(D,N,M)},Ut.useRef=function(D){return X.current.useRef(D)},Ut.useState=function(D){return X.current.useState(D)},Ut.useSyncExternalStore=function(D,N,M){return X.current.useSyncExternalStore(D,N,M)},Ut.useTransition=function(){return X.current.useTransition()},Ut.version="18.3.1",Ut}var vg;function Yp(){return vg||(vg=1,zf.exports=q0()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function z0(){if(yg)return ed;yg=1;var n=Yp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(f,d,p){var y,_={},b=null,v=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(v=d.ref);for(y in d)s.call(d,y)&&!o.hasOwnProperty(y)&&(_[y]=d[y]);if(f&&f.defaultProps)for(y in d=f.defaultProps,d)_[y]===void 0&&(_[y]=d[y]);return{$$typeof:e,type:f,key:b,ref:v,props:_,_owner:l.current}}return ed.Fragment=t,ed.jsx=c,ed.jsxs=c,ed}var _g;function U0(){return _g||(_g=1,qf.exports=z0()),qf.exports}var i=U0(),ae=Yp();const H0=F1(ae);var dh={},Uf={exports:{}},Hs={},Hf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function W0(){return bg||(bg=1,(function(n){function e(O,W){var V=O.length;O.push(W);e:for(;0<V;){var D=V-1>>>1,N=O[D];if(0<l(N,W))O[D]=W,O[V]=N,V=D;else break e}}function t(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var W=O[0],V=O.pop();if(V!==W){O[0]=V;e:for(var D=0,N=O.length,M=N>>>1;D<M;){var Q=2*(D+1)-1,ie=O[Q],oe=Q+1,ve=O[oe];if(0>l(ie,V))oe<N&&0>l(ve,ie)?(O[D]=ve,O[oe]=V,D=oe):(O[D]=ie,O[Q]=V,D=Q);else if(oe<N&&0>l(ve,V))O[D]=ve,O[oe]=V,D=oe;else break e}}return W}function l(O,W){var V=O.sortIndex-W.sortIndex;return V!==0?V:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var d=[],p=[],y=1,_=null,b=3,v=!1,C=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var W=t(p);W!==null;){if(W.callback===null)s(p);else if(W.startTime<=O)s(p),W.sortIndex=W.expirationTime,e(d,W);else break;W=t(p)}}function E(O){if(P=!1,A(O),!C)if(t(d)!==null)C=!0,$(U);else{var W=t(p);W!==null&&X(E,W.startTime-O)}}function U(O,W){C=!1,P&&(P=!1,S(B),B=-1),v=!0;var V=b;try{for(A(W),_=t(d);_!==null&&(!(_.expirationTime>W)||O&&!F());){var D=_.callback;if(typeof D=="function"){_.callback=null,b=_.priorityLevel;var N=D(_.expirationTime<=W);W=n.unstable_now(),typeof N=="function"?_.callback=N:_===t(d)&&s(d),A(W)}else s(d);_=t(d)}if(_!==null)var M=!0;else{var Q=t(p);Q!==null&&X(E,Q.startTime-W),M=!1}return M}finally{_=null,b=V,v=!1}}var Z=!1,q=null,B=-1,te=5,le=-1;function F(){return!(n.unstable_now()-le<te)}function R(){if(q!==null){var O=n.unstable_now();le=O;var W=!0;try{W=q(!0,O)}finally{W?ee():(Z=!1,q=null)}}else Z=!1}var ee;if(typeof k=="function")ee=function(){k(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=R,ee=function(){ue.postMessage(null)}}else ee=function(){L(R,0)};function $(O){q=O,Z||(Z=!0,ee())}function X(O,W){B=L(function(){O(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){C||v||(C=!0,$(U))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(O){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var V=b;b=W;try{return O()}finally{b=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=b;b=O;try{return W()}finally{b=V}},n.unstable_scheduleCallback=function(O,W,V){var D=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,O){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=V+N,O={id:y++,callback:W,priorityLevel:O,startTime:V,expirationTime:N,sortIndex:-1},V>D?(O.sortIndex=V,e(p,O),t(d)===null&&O===t(p)&&(P?(S(B),B=-1):P=!0,X(E,V-D))):(O.sortIndex=N,e(d,O),C||v||(C=!0,$(U))),O},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(O){var W=b;return function(){var V=b;b=W;try{return O.apply(this,arguments)}finally{b=V}}}})(Wf)),Wf}var wg;function V0(){return wg||(wg=1,Hf.exports=W0()),Hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function G0(){if(xg)return Hs;xg=1;var n=Yp(),e=V0();function t(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function o(r,a){c(r,a),c(r+"Capture",a)}function c(r,a){for(l[r]=a,r=0;r<a.length;r++)s.add(a[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function b(r){return d.call(_,r)?!0:d.call(y,r)?!1:p.test(r)?_[r]=!0:(y[r]=!0,!1)}function v(r,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,a,u,m){if(a===null||typeof a>"u"||v(r,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(r,a,u,m,x,T,Y){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=r,this.type=a,this.sanitizeURL=T,this.removeEmptyString=Y}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];L[a]=new P(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,k);L[a]=new P(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,k);L[a]=new P(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,k);L[a]=new P(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,a,u,m){var x=L.hasOwnProperty(a)?L[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,x,m)&&(u=null),m||x===null?b(a)&&(u===null?r.removeAttribute(a):r.setAttribute(a,""+u)):x.mustUseProperty?r[x.propertyName]=u===null?x.type===3?!1:"":u:(a=x.attributeName,m=x.attributeNamespace,u===null?r.removeAttribute(a):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,m?r.setAttributeNS(m,a,u):r.setAttribute(a,u))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),Z=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),F=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),O=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var V=Object.assign,D;function N(r){if(D===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+r}var M=!1;function Q(r,a){if(!r||M)return"";M=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var m=Ee}Reflect.construct(r,[],a)}else{try{a.call()}catch(Ee){m=Ee}r.call(a.prototype)}else{try{throw Error()}catch(Ee){m=Ee}r()}}catch(Ee){if(Ee&&m&&typeof Ee.stack=="string"){for(var x=Ee.stack.split(`
`),T=m.stack.split(`
`),Y=x.length-1,fe=T.length-1;1<=Y&&0<=fe&&x[Y]!==T[fe];)fe--;for(;1<=Y&&0<=fe;Y--,fe--)if(x[Y]!==T[fe]){if(Y!==1||fe!==1)do if(Y--,fe--,0>fe||x[Y]!==T[fe]){var be=`
`+x[Y].replace(" at new "," at ");return r.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",r.displayName)),be}while(1<=Y&&0<=fe);break}}}finally{M=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?N(r):""}function ie(r){switch(r.tag){case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return r=Q(r.type,!1),r;case 11:return r=Q(r.type.render,!1),r;case 1:return r=Q(r.type,!0),r;default:return""}}function oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case q:return"Fragment";case Z:return"Portal";case te:return"Profiler";case B:return"StrictMode";case ee:return"Suspense";case G:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case le:return(r._context.displayName||"Context")+".Provider";case R:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ue:return a=r.displayName||null,a!==null?a:oe(r.type)||"Memo";case $:a=r._payload,r=r._init;try{return oe(r(a))}catch{}}return null}function ve(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $e(r){var a=ke(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),m=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,T=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return x.call(this)},set:function(Y){m=""+Y,T.call(this,Y)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(Y){m=""+Y},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function He(r){r._valueTracker||(r._valueTracker=$e(r))}function Ue(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return r&&(m=ke(r)?r.checked?"true":"false":r.value),r=m,r!==u?(a.setValue(r),!0):!1}function me(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function pe(r,a){var u=a.checked;return V({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function he(r,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=ge(a.value!=null?a.value:u),r._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function se(r,a){a=a.checked,a!=null&&A(r,"checked",a,!1)}function De(r,a){se(r,a);var u=ge(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Ie(r,a.type,u):a.hasOwnProperty("defaultValue")&&Ie(r,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Xe(r,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,u||a===r.value||(r.value=a),r.defaultValue=a}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ie(r,a,u){(a!=="number"||me(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Ye=Array.isArray;function st(r,a,u,m){if(r=r.options,a){a={};for(var x=0;x<u.length;x++)a["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=a.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+ge(u),a=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}a!==null||r[x].disabled||(a=r[x])}a!==null&&(a.selected=!0)}}function it(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return V({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function gt(r,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Ye(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}r._wrapperState={initialValue:ge(u)}}function Ot(r,a){var u=ge(a.value),m=ge(a.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),a.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),m!=null&&(r.defaultValue=""+m)}function Mt(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function zt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?zt(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var en,Ct=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,x){MSApp.execUnsafeLocalFunction(function(){return r(a,u,m,x)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=en.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function $t(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(r){Sr.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),at[a]=at[r]})});function Jt(r,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||at.hasOwnProperty(r)&&at[r]?(""+a).trim():a+"px"}function Ls(r,a){r=r.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,x=Jt(u,a[u],m);u==="float"&&(u="cssFloat"),m?r.setProperty(u,x):r[u]=x}}var _n=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(r,a){if(a){if(_n[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function As(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qt=null;function Ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var An=null,Cr=null,Kr=null;function Tn(r){if(r=cl(r)){if(typeof An!="function")throw Error(t(280));var a=r.stateNode;a&&(a=ic(a),An(r.stateNode,r.type,a))}}function It(r){Cr?Kr?Kr.push(r):Kr=[r]:Cr=r}function tn(){if(Cr){var r=Cr,a=Kr;if(Kr=Cr=null,Tn(r),a)for(r=0;r<a.length;r++)Tn(a[r])}}function ha(r,a){return r(a)}function pr(){}var Ps=!1;function Gs(r,a,u){if(Ps)return r(a,u);Ps=!0;try{return ha(r,a,u)}finally{Ps=!1,(Cr!==null||Kr!==null)&&(pr(),tn())}}function _t(r,a){var u=r.stateNode;if(u===null)return null;var m=ic(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var fs=!1;if(f)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{fs=!1}function Jr(r,a,u,m,x,T,Y,fe,be){var Ee=Array.prototype.slice.call(arguments,3);try{a.apply(u,Ee)}catch(Ke){this.onError(Ke)}}var On=!1,In=null,Lr=!1,fa=null,Oi={onError:function(r){On=!0,In=r}};function Ks(r,a,u,m,x,T,Y,fe,be){On=!1,In=null,Jr.apply(Oi,arguments)}function Ys(r,a,u,m,x,T,Y,fe,be){if(Ks.apply(this,arguments),On){if(On){var Ee=In;On=!1,In=null}else throw Error(t(198));Lr||(Lr=!0,fa=Ee)}}function yr(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function Js(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function ps(r){if(yr(r)!==r)throw Error(t(188))}function pi(r){var a=r.alternate;if(!a){if(a=yr(r),a===null)throw Error(t(188));return a!==r?null:r}for(var u=r,m=a;;){var x=u.return;if(x===null)break;var T=x.alternate;if(T===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===u)return ps(x),r;if(T===m)return ps(x),a;T=T.sibling}throw Error(t(188))}if(u.return!==m.return)u=x,m=T;else{for(var Y=!1,fe=x.child;fe;){if(fe===u){Y=!0,u=x,m=T;break}if(fe===m){Y=!0,m=x,u=T;break}fe=fe.sibling}if(!Y){for(fe=T.child;fe;){if(fe===u){Y=!0,u=T,m=x;break}if(fe===m){Y=!0,m=T,u=x;break}fe=fe.sibling}if(!Y)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:a}function pa(r){return r=pi(r),r!==null?Va(r):null}function Va(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Va(r);if(a!==null)return a;r=r.sibling}return null}var Ga=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Oo=e.unstable_shouldYield,Ic=e.unstable_requestPaint,Dn=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,ma=e.unstable_ImmediatePriority,Ml=e.unstable_UserBlockingPriority,Io=e.unstable_NormalPriority,Bl=e.unstable_LowPriority,Dc=e.unstable_IdlePriority,Ya=null,Es=null;function Do(r){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(Ya,r,void 0,(r.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:Fc,Vn=Math.log,Rc=Math.LN2;function Fc(r){return r>>>=0,r===0?32:31-(Vn(r)/Rc|0)|0}var Ja=64,ga=4194304;function Qa(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qr(r,a){var u=r.pendingLanes;if(u===0)return 0;var m=0,x=r.suspendedLanes,T=r.pingedLanes,Y=u&268435455;if(Y!==0){var fe=Y&~x;fe!==0?m=Qa(fe):(T&=Y,T!==0&&(m=Qa(T)))}else Y=u&~x,Y!==0?m=Qa(Y):T!==0&&(m=Qa(T));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,T=a&-a,x>=T||x===16&&(T&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=m;0<a;)u=31-ms(a),x=1<<u,m|=r[u],a&=~x;return m}function Ro(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(r,a){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,T=r.pendingLanes;0<T;){var Y=31-ms(T),fe=1<<Y,be=x[Y];be===-1?((fe&u)===0||(fe&m)!==0)&&(x[Y]=Ro(fe,a)):be<=a&&(r.expiredLanes|=fe),T&=~fe}}function Xa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $l(){var r=Ja;return Ja<<=1,(Ja&4194240)===0&&(Ja=64),r}function ql(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function va(r,a,u){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-ms(a),r[a]=u}function Iu(r,a){var u=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<u;){var x=31-ms(u),T=1<<x;a[x]=0,m[x]=-1,r[x]=-1,u&=~T}}function Fo(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var m=31-ms(u),x=1<<m;x&a|r[m]&a&&(r[m]|=a),u&=~x}}var nn=0;function Mo(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Mc,zl,Bc,mi,Za,ya=!1,eo=[],Rn=null,gi=null,Qs=null,St=new Map,to=new Map,vi=[],yi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(r,a){switch(r){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":St.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(a.pointerId)}}function _a(r,a,u,m,x,T){return r===null||r.nativeEvent!==T?(r={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:T,targetContainers:[x]},a!==null&&(a=cl(a),a!==null&&zl(a)),r):(r.eventSystemFlags|=m,a=r.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),r)}function Bo(r,a,u,m,x){switch(a){case"focusin":return Rn=_a(Rn,r,a,u,m,x),!0;case"dragenter":return gi=_a(gi,r,a,u,m,x),!0;case"mouseover":return Qs=_a(Qs,r,a,u,m,x),!0;case"pointerover":var T=x.pointerId;return St.set(T,_a(St.get(T)||null,r,a,u,m,x)),!0;case"gotpointercapture":return T=x.pointerId,to.set(T,_a(to.get(T)||null,r,a,u,m,x)),!0}return!1}function $o(r){var a=Pa(r.target);if(a!==null){var u=yr(a);if(u!==null){if(a=u.tag,a===13){if(a=Js(u),a!==null){r.blockedOn=a,Za(r.priority,function(){Bc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qo(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Uo(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);Qt=m,u.target.dispatchEvent(m),Qt=null}else return a=cl(u),a!==null&&zl(a),r.blockedOn=u,!1;a.shift()}return!0}function $c(r,a,u){qo(r)&&u.delete(a)}function Du(){ya=!1,Rn!==null&&qo(Rn)&&(Rn=null),gi!==null&&qo(gi)&&(gi=null),Qs!==null&&qo(Qs)&&(Qs=null),St.forEach($c),to.forEach($c)}function Ii(r,a){r.blockedOn===a&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Du)))}function Xs(r){function a(x){return Ii(x,r)}if(0<eo.length){Ii(eo[0],r);for(var u=1;u<eo.length;u++){var m=eo[u];m.blockedOn===r&&(m.blockedOn=null)}}for(Rn!==null&&Ii(Rn,r),gi!==null&&Ii(gi,r),Qs!==null&&Ii(Qs,r),St.forEach(a),to.forEach(a),u=0;u<vi.length;u++)m=vi[u],m.blockedOn===r&&(m.blockedOn=null);for(;0<vi.length&&(u=vi[0],u.blockedOn===null);)$o(u),u.blockedOn===null&&vi.shift()}var gs=E.ReactCurrentBatchConfig,zo=!0;function no(r,a,u,m){var x=nn,T=gs.transition;gs.transition=null;try{nn=1,ba(r,a,u,m)}finally{nn=x,gs.transition=T}}function Hl(r,a,u,m){var x=nn,T=gs.transition;gs.transition=null;try{nn=4,ba(r,a,u,m)}finally{nn=x,gs.transition=T}}function ba(r,a,u,m){if(zo){var x=Uo(r,a,u,m);if(x===null)nc(r,a,m,ro,u),Ul(r,m);else if(Bo(x,r,a,u,m))m.stopPropagation();else if(Ul(r,m),a&4&&-1<yi.indexOf(r)){for(;x!==null;){var T=cl(x);if(T!==null&&Mc(T),T=Uo(r,a,u,m),T===null&&nc(r,a,m,ro,u),T===x)break;x=T}x!==null&&m.stopPropagation()}else nc(r,a,m,null,u)}}var ro=null;function Uo(r,a,u,m){if(ro=null,r=Ti(m),r=Pa(r),r!==null)if(a=yr(r),a===null)r=null;else if(u=a.tag,u===13){if(r=Js(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return ro=r,null}function Wl(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case ma:return 1;case Ml:return 4;case Io:case Bl:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var Zs=null,Ts=null,Os=null;function qc(){if(Os)return Os;var r,a=Ts,u=a.length,m,x="value"in Zs?Zs.value:Zs.textContent,T=x.length;for(r=0;r<u&&a[r]===x[r];r++);var Y=u-r;for(m=1;m<=Y&&a[u-m]===x[T-m];m++);return Os=x.slice(r,1<m?1-m:void 0)}function ei(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function Ho(){return!1}function rr(r){function a(u,m,x,T,Y){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=T,this.target=Y,this.currentTarget=null;for(var fe in r)r.hasOwnProperty(fe)&&(u=r[fe],this[fe]=u?u(T):T[fe]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Zr:Ho,this.isPropagationStopped=Ho,this}return V(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),a}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=rr(wa),so=V({},wa,{view:0,detail:0}),Vl=rr(so),io,Wo,_i,ja=V({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ot,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_i&&(_i&&r.type==="mousemove"?(io=r.screenX-_i.screenX,Wo=r.screenY-_i.screenY):Wo=io=0,_i=r),io)},movementY:function(r){return"movementY"in r?r.movementY:Wo}}),Vo=rr(ja),zc=V({},ja,{dataTransfer:0}),Ru=rr(zc),Go=V({},so,{relatedTarget:0}),Di=rr(Go),Gl=V({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=rr(Gl),Kl=V({},wa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),w=rr(Kl),H=V({},wa,{data:0}),de=rr(H),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Fe[r])?!!a[r]:!1}function ot(){return Ve}var yt=V({},so,{key:function(r){if(r.key){var a=ye[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ei(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Se[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ot,charCode:function(r){return r.type==="keypress"?ei(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ei(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ft=rr(yt),Rt=V({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kt=rr(Rt),Fn=V({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ot}),zn=rr(Fn),Jn=V({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ar=rr(Jn),mr=V({},ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ti=rr(mr),vs=[9,13,27,32],Is=f&&"CompositionEvent"in window,Na=null;f&&"documentMode"in document&&(Na=document.documentMode);var Yl=f&&"TextEvent"in window&&!Na,Ko=f&&(!Is||Na&&8<Na&&11>=Na),ao=" ",Yo=!1;function Jo(r,a){switch(r){case"keyup":return vs.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Un=!1;function Qo(r,a){switch(r){case"compositionend":return oo(a);case"keypress":return a.which!==32?null:(Yo=!0,ao);case"textInput":return r=a.data,r===ao&&Yo?null:r;default:return null}}function Xo(r,a){if(Un)return r==="compositionend"||!Is&&Jo(r,a)?(r=qc(),Os=Ts=Zs=null,Un=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ko&&a.locale!=="ko"?null:a.data;default:return null}}var Zo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function el(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Zo[r.type]:a==="textarea"}function Fr(r,a,u,m){It(m),a=Vc(a,"onChange"),0<a.length&&(u=new xa("onChange","change",null,u,m),r.push({event:u,listeners:a}))}var lo=null,Ri=null;function Uc(r){ec(r,0)}function Mr(r){var a=yo(r);if(Ue(a))return r}function tl(r,a){if(r==="change")return a}var Jl=!1;if(f){var nl;if(f){var bi="oninput"in document;if(!bi){var Sa=document.createElement("div");Sa.setAttribute("oninput","return;"),bi=typeof Sa.oninput=="function"}nl=bi}else nl=!1;Jl=nl&&(!document.documentMode||9<document.documentMode)}function Br(){lo&&(lo.detachEvent("onpropertychange",Pr),Ri=lo=null)}function Pr(r){if(r.propertyName==="value"&&Mr(Ri)){var a=[];Fr(a,Ri,r,Ti(r)),Gs(Uc,a)}}function Ca(r,a,u){r==="focusin"?(Br(),lo=a,Ri=u,lo.attachEvent("onpropertychange",Pr)):r==="focusout"&&Br()}function Fi(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mr(Ri)}function Mi(r,a){if(r==="click")return Mr(a)}function rl(r,a){if(r==="input"||r==="change")return Mr(a)}function Bi(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var rn=typeof Object.is=="function"?Object.is:Bi;function $i(r,a){if(rn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!d.call(a,x)||!rn(r[x],a[x]))return!1}return!0}function Er(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ys(r,a){var u=Er(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=a&&m>=a)return{node:u,offset:a-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Er(u)}}function co(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?co(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Ql(){for(var r=window,a=me();a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=me(r.document)}return a}function uo(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function ho(r){var a=Ql(),u=r.focusedElem,m=r.selectionRange;if(a!==u&&u&&u.ownerDocument&&co(u.ownerDocument.documentElement,u)){if(m!==null&&uo(u)){if(a=m.start,r=m.end,r===void 0&&(r=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(r,u.value.length);else if(r=(a=u.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var x=u.textContent.length,T=Math.min(m.start,x);m=m.end===void 0?T:Math.min(m.end,x),!r.extend&&T>m&&(x=m,m=T,T=x),x=ys(u,T);var Y=ys(u,m);x&&Y&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==Y.node||r.focusOffset!==Y.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),r.removeAllRanges(),T>m?(r.addRange(a),r.extend(Y.node,Y.offset)):(a.setEnd(Y.node,Y.offset),r.addRange(a)))}}for(a=[],r=u;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)r=a[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fo=f&&"documentMode"in document&&11>=document.documentMode,_s=null,qi=null,wi=null,zi=!1;function Ui(r,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zi||_s==null||_s!==me(m)||(m=_s,"selectionStart"in m&&uo(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wi&&$i(wi,m)||(wi=m,m=Vc(qi,"onSelect"),0<m.length&&(a=new xa("onSelect","select",null,a,u),r.push({event:a,listeners:m}),a.target=_s)))}function La(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var _r={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},es={},bn={};f&&(bn=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function pn(r){if(es[r])return es[r];if(!_r[r])return r;var a=_r[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in bn)return es[r]=a[u];return r}var Hn=pn("animationend"),Qn=pn("animationiteration"),xi=pn("animationstart"),sl=pn("transitionend"),po=new Map,Xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(r,a){po.set(r,a),o(a,[r])}for(var il=0;il<Xl.length;il++){var $r=Xl[il],Ds=$r.toLowerCase(),Hc=$r[0].toUpperCase()+$r.slice(1);ji(Ds,"on"+Hc)}ji(Hn,"onAnimationEnd"),ji(Qn,"onAnimationIteration"),ji(xi,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(sl,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ed=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Zl(r,a,u){var m=r.type||"unknown-event";r.currentTarget=u,Ys(m,a,void 0,r),r.currentTarget=null}function ec(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var T=void 0;if(a)for(var Y=m.length-1;0<=Y;Y--){var fe=m[Y],be=fe.instance,Ee=fe.currentTarget;if(fe=fe.listener,be!==T&&x.isPropagationStopped())break e;Zl(x,fe,Ee),T=be}else for(Y=0;Y<m.length;Y++){if(fe=m[Y],be=fe.instance,Ee=fe.currentTarget,fe=fe.listener,be!==T&&x.isPropagationStopped())break e;Zl(x,fe,Ee),T=be}}}if(Lr)throw r=fa,Lr=!1,fa=null,r}function wn(r,a){var u=a[ns];u===void 0&&(u=a[ns]=new Set);var m=r+"__bubble";u.has(m)||(tc(a,r,2,!1),u.add(m))}function Wc(r,a,u){var m=0;a&&(m|=4),tc(u,r,m,a)}var al="_reactListening"+Math.random().toString(36).slice(2);function mo(r){if(!r[al]){r[al]=!0,s.forEach(function(u){u!=="selectionchange"&&(Ed.has(u)||Wc(u,!1,r),Wc(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[al]||(a[al]=!0,Wc("selectionchange",!1,a))}}function tc(r,a,u,m){switch(Wl(a)){case 1:var x=no;break;case 4:x=Hl;break;default:x=ba}u=x.bind(null,a,u,r),x=void 0,!fs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(a,u,{capture:!0,passive:x}):r.addEventListener(a,u,!0):x!==void 0?r.addEventListener(a,u,{passive:x}):r.addEventListener(a,u,!1)}function nc(r,a,u,m,x){var T=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var Y=m.tag;if(Y===3||Y===4){var fe=m.stateNode.containerInfo;if(fe===x||fe.nodeType===8&&fe.parentNode===x)break;if(Y===4)for(Y=m.return;Y!==null;){var be=Y.tag;if((be===3||be===4)&&(be=Y.stateNode.containerInfo,be===x||be.nodeType===8&&be.parentNode===x))return;Y=Y.return}for(;fe!==null;){if(Y=Pa(fe),Y===null)return;if(be=Y.tag,be===5||be===6){m=T=Y;continue e}fe=fe.parentNode}}m=m.return}Gs(function(){var Ee=T,Ke=Ti(u),Qe=[];e:{var Ge=po.get(r);if(Ge!==void 0){var ct=xa,ht=r;switch(r){case"keypress":if(ei(u)===0)break e;case"keydown":case"keyup":ct=Ft;break;case"focusin":ht="focus",ct=Di;break;case"focusout":ht="blur",ct=Di;break;case"beforeblur":case"afterblur":ct=Di;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=zn;break;case Hn:case Qn:case xi:ct=ka;break;case sl:ct=Ar;break;case"scroll":ct=Vl;break;case"wheel":ct=ti;break;case"copy":case"cut":case"paste":ct=w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Kt}var ft=(a&4)!==0,or=!ft&&r==="scroll",Ae=ft?Ge!==null?Ge+"Capture":null:Ge;ft=[];for(var je=Ee,Pe;je!==null;){Pe=je;var Ze=Pe.stateNode;if(Pe.tag===5&&Ze!==null&&(Pe=Ze,Ae!==null&&(Ze=_t(je,Ae),Ze!=null&&ft.push(rc(je,Ze,Pe)))),or)break;je=je.return}0<ft.length&&(Ge=new ct(Ge,ht,null,u,Ke),Qe.push({event:Ge,listeners:ft}))}}if((a&7)===0){e:{if(Ge=r==="mouseover"||r==="pointerover",ct=r==="mouseout"||r==="pointerout",Ge&&u!==Qt&&(ht=u.relatedTarget||u.fromElement)&&(Pa(ht)||ht[Tr]))break e;if((ct||Ge)&&(Ge=Ke.window===Ke?Ke:(Ge=Ke.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,ct?(ht=u.relatedTarget||u.toElement,ct=Ee,ht=ht?Pa(ht):null,ht!==null&&(or=yr(ht),ht!==or||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ct=null,ht=Ee),ct!==ht)){if(ft=Vo,Ze="onMouseLeave",Ae="onMouseEnter",je="mouse",(r==="pointerout"||r==="pointerover")&&(ft=Kt,Ze="onPointerLeave",Ae="onPointerEnter",je="pointer"),or=ct==null?Ge:yo(ct),Pe=ht==null?Ge:yo(ht),Ge=new ft(Ze,je+"leave",ct,u,Ke),Ge.target=or,Ge.relatedTarget=Pe,Ze=null,Pa(Ke)===Ee&&(ft=new ft(Ae,je+"enter",ht,u,Ke),ft.target=Pe,ft.relatedTarget=or,Ze=ft),or=Ze,ct&&ht)t:{for(ft=ct,Ae=ht,je=0,Pe=ft;Pe;Pe=go(Pe))je++;for(Pe=0,Ze=Ae;Ze;Ze=go(Ze))Pe++;for(;0<je-Pe;)ft=go(ft),je--;for(;0<Pe-je;)Ae=go(Ae),Pe--;for(;je--;){if(ft===Ae||Ae!==null&&ft===Ae.alternate)break t;ft=go(ft),Ae=go(Ae)}ft=null}else ft=null;ct!==null&&Td(Qe,Ge,ct,ft,!1),ht!==null&&or!==null&&Td(Qe,or,ht,ft,!0)}}e:{if(Ge=Ee?yo(Ee):window,ct=Ge.nodeName&&Ge.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Ge.type==="file")var mt=tl;else if(el(Ge))if(Jl)mt=rl;else{mt=Fi;var kt=Ca}else(ct=Ge.nodeName)&&ct.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(mt=Mi);if(mt&&(mt=mt(r,Ee))){Fr(Qe,mt,u,Ke);break e}kt&&kt(r,Ge,Ee),r==="focusout"&&(kt=Ge._wrapperState)&&kt.controlled&&Ge.type==="number"&&Ie(Ge,"number",Ge.value)}switch(kt=Ee?yo(Ee):window,r){case"focusin":(el(kt)||kt.contentEditable==="true")&&(_s=kt,qi=Ee,wi=null);break;case"focusout":wi=qi=_s=null;break;case"mousedown":zi=!0;break;case"contextmenu":case"mouseup":case"dragend":zi=!1,Ui(Qe,u,Ke);break;case"selectionchange":if(fo)break;case"keydown":case"keyup":Ui(Qe,u,Ke)}var Nt;if(Is)e:{switch(r){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Un?Jo(r,u)&&(Dt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ko&&u.locale!=="ko"&&(Un||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Un&&(Nt=qc()):(Zs=Ke,Ts="value"in Zs?Zs.value:Zs.textContent,Un=!0)),kt=Vc(Ee,Dt),0<kt.length&&(Dt=new de(Dt,r,null,u,Ke),Qe.push({event:Dt,listeners:kt}),Nt?Dt.data=Nt:(Nt=oo(u),Nt!==null&&(Dt.data=Nt)))),(Nt=Yl?Qo(r,u):Xo(r,u))&&(Ee=Vc(Ee,"onBeforeInput"),0<Ee.length&&(Ke=new de("onBeforeInput","beforeinput",null,u,Ke),Qe.push({event:Ke,listeners:Ee}),Ke.data=Nt))}ec(Qe,a)})}function rc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function Vc(r,a){for(var u=a+"Capture",m=[];r!==null;){var x=r,T=x.stateNode;x.tag===5&&T!==null&&(x=T,T=_t(r,u),T!=null&&m.unshift(rc(r,T,x)),T=_t(r,a),T!=null&&m.push(rc(r,T,x))),r=r.return}return m}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Td(r,a,u,m,x){for(var T=a._reactName,Y=[];u!==null&&u!==m;){var fe=u,be=fe.alternate,Ee=fe.stateNode;if(be!==null&&be===m)break;fe.tag===5&&Ee!==null&&(fe=Ee,x?(be=_t(u,T),be!=null&&Y.unshift(rc(u,be,fe))):x||(be=_t(u,T),be!=null&&Y.push(rc(u,be,fe)))),u=u.return}Y.length!==0&&r.push({event:a,listeners:Y})}var ef=/\r\n?/g,tf=/\u0000|\uFFFD/g;function Od(r){return(typeof r=="string"?r:""+r).replace(ef,`
`).replace(tf,"")}function Gc(r,a,u){if(a=Od(a),Od(r)!==a&&u)throw Error(t(425))}function ol(){}var sc=null,vo=null;function Fu(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mu=typeof setTimeout=="function"?setTimeout:void 0,Id=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,nf=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(r){return Dd.resolve(null).then(r).catch(rf)}:Mu;function rf(r){setTimeout(function(){throw r})}function Bu(r,a){var u=a,m=0;do{var x=u.nextSibling;if(r.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(m===0){r.removeChild(x),Xs(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=x}while(u);Xs(a)}function qr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function Rs(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}var ts=Math.random().toString(36).slice(2),ki="__reactFiber$"+ts,ll="__reactProps$"+ts,Tr="__reactContainer$"+ts,ns="__reactEvents$"+ts,sf="__reactListeners$"+ts,af="__reactHandles$"+ts;function Pa(r){var a=r[ki];if(a)return a;for(var u=r.parentNode;u;){if(a=u[Tr]||u[ki]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=Rs(r);r!==null;){if(u=r[ki])return u;r=Rs(r)}return a}r=u,u=r.parentNode}return null}function cl(r){return r=r[ki]||r[Tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ic(r){return r[ll]||null}var $u=[],Hi=-1;function ni(r){return{current:r}}function mn(r){0>Hi||(r.current=$u[Hi],$u[Hi]=null,Hi--)}function vn(r,a){Hi++,$u[Hi]=r.current,r.current=a}var Ea={},br=ni(Ea),rs=ni(!1),_o=Ea;function ul(r,a){var u=r.type.contextTypes;if(!u)return Ea;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},T;for(T in u)x[T]=a[T];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=x),x}function ss(r){return r=r.childContextTypes,r!=null}function Kc(){mn(rs),mn(br)}function Rd(r,a,u){if(br.current!==Ea)throw Error(t(168));vn(br,a),vn(rs,u)}function qu(r,a,u){var m=r.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(t(108,ve(r)||"Unknown",x));return V({},u,m)}function bo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ea,_o=br.current,vn(br,r),vn(rs,rs.current),!0}function Fd(r,a,u){var m=r.stateNode;if(!m)throw Error(t(169));u?(r=qu(r,a,_o),m.__reactInternalMemoizedMergedChildContext=r,mn(rs),mn(br),vn(br,r)):mn(rs),vn(rs,u)}var Wi=null,ac=!1,h=!1;function g(r){Wi===null?Wi=[r]:Wi.push(r)}function j(r){ac=!0,g(r)}function I(){if(!h&&Wi!==null){h=!0;var r=0,a=nn;try{var u=Wi;for(nn=1;r<u.length;r++){var m=u[r];do m=m(!0);while(m!==null)}Wi=null,ac=!1}catch(x){throw Wi!==null&&(Wi=Wi.slice(r+1)),Ga(ma,I),x}finally{nn=a,h=!1}}return null}var z=[],K=0,J=null,ne=0,re=[],ce=0,_e=null,Ce=1,Le="";function Ne(r,a){z[K++]=ne,z[K++]=J,J=r,ne=a}function We(r,a,u){re[ce++]=Ce,re[ce++]=Le,re[ce++]=_e,_e=r;var m=Ce;r=Le;var x=32-ms(m)-1;m&=~(1<<x),u+=1;var T=32-ms(a)+x;if(30<T){var Y=x-x%5;T=(m&(1<<Y)-1).toString(32),m>>=Y,x-=Y,Ce=1<<32-ms(a)+x|u<<x|m,Le=T+r}else Ce=1<<T|u<<x|m,Le=r}function Te(r){r.return!==null&&(Ne(r,1),We(r,1,0))}function we(r){for(;r===J;)J=z[--K],z[K]=null,ne=z[--K],z[K]=null;for(;r===_e;)_e=re[--ce],re[ce]=null,Le=re[--ce],re[ce]=null,Ce=re[--ce],re[ce]=null}var xe=null,Be=null,Me=!1,qe=null;function lt(r,a){var u=Pi(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=r,a=r.deletions,a===null?(r.deletions=[u],r.flags|=16):a.push(u)}function tt(r,a){switch(r.tag){case 5:var u=r.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,xe=r,Be=qr(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,xe=r,Be=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=_e!==null?{id:Ce,overflow:Le}:null,r.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Pi(18,null,null,0),u.stateNode=a,u.return=r,r.child=u,xe=r,Be=null,!0):!1;default:return!1}}function bt(r){return(r.mode&1)!==0&&(r.flags&128)===0}function rt(r){if(Me){var a=Be;if(a){var u=a;if(!tt(r,a)){if(bt(r))throw Error(t(418));a=qr(u.nextSibling);var m=xe;a&&tt(r,a)?lt(m,u):(r.flags=r.flags&-4097|2,Me=!1,xe=r)}}else{if(bt(r))throw Error(t(418));r.flags=r.flags&-4097|2,Me=!1,xe=r}}}function Xt(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xe=r}function Zt(r){if(r!==xe)return!1;if(!Me)return Xt(r),Me=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Fu(r.type,r.memoizedProps)),a&&(a=Be)){if(bt(r))throw Yt(),Error(t(418));for(;a;)lt(r,a),a=qr(a.nextSibling)}if(Xt(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(a===0){Be=qr(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}r=r.nextSibling}Be=null}}else Be=xe?qr(r.stateNode.nextSibling):null;return!0}function Yt(){for(var r=Be;r;)r=qr(r.nextSibling)}function qt(){Be=xe=null,Me=!1}function gn(r){qe===null?qe=[r]:qe.push(r)}var yn=E.ReactCurrentBatchConfig;function Tt(r,a,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,r));var x=m,T=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(Y){var fe=x.refs;Y===null?delete fe[T]:fe[T]=Y},a._stringRef=T,a)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function Mn(r,a){throw r=Object.prototype.toString.call(a),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function zr(r){var a=r._init;return a(r._payload)}function Gn(r){function a(Ae,je){if(r){var Pe=Ae.deletions;Pe===null?(Ae.deletions=[je],Ae.flags|=16):Pe.push(je)}}function u(Ae,je){if(!r)return null;for(;je!==null;)a(Ae,je),je=je.sibling;return null}function m(Ae,je){for(Ae=new Map;je!==null;)je.key!==null?Ae.set(je.key,je):Ae.set(je.index,je),je=je.sibling;return Ae}function x(Ae,je){return Ae=xl(Ae,je),Ae.index=0,Ae.sibling=null,Ae}function T(Ae,je,Pe){return Ae.index=Pe,r?(Pe=Ae.alternate,Pe!==null?(Pe=Pe.index,Pe<je?(Ae.flags|=2,je):Pe):(Ae.flags|=2,je)):(Ae.flags|=1048576,je)}function Y(Ae){return r&&Ae.alternate===null&&(Ae.flags|=2),Ae}function fe(Ae,je,Pe,Ze){return je===null||je.tag!==6?(je=Df(Pe,Ae.mode,Ze),je.return=Ae,je):(je=x(je,Pe),je.return=Ae,je)}function be(Ae,je,Pe,Ze){var mt=Pe.type;return mt===q?Ke(Ae,je,Pe.props.children,Ze,Pe.key):je!==null&&(je.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===$&&zr(mt)===je.type)?(Ze=x(je,Pe.props),Ze.ref=Tt(Ae,je,Pe),Ze.return=Ae,Ze):(Ze=rh(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ze),Ze.ref=Tt(Ae,je,Pe),Ze.return=Ae,Ze)}function Ee(Ae,je,Pe,Ze){return je===null||je.tag!==4||je.stateNode.containerInfo!==Pe.containerInfo||je.stateNode.implementation!==Pe.implementation?(je=Rf(Pe,Ae.mode,Ze),je.return=Ae,je):(je=x(je,Pe.children||[]),je.return=Ae,je)}function Ke(Ae,je,Pe,Ze,mt){return je===null||je.tag!==7?(je=pc(Pe,Ae.mode,Ze,mt),je.return=Ae,je):(je=x(je,Pe),je.return=Ae,je)}function Qe(Ae,je,Pe){if(typeof je=="string"&&je!==""||typeof je=="number")return je=Df(""+je,Ae.mode,Pe),je.return=Ae,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case U:return Pe=rh(je.type,je.key,je.props,null,Ae.mode,Pe),Pe.ref=Tt(Ae,null,je),Pe.return=Ae,Pe;case Z:return je=Rf(je,Ae.mode,Pe),je.return=Ae,je;case $:var Ze=je._init;return Qe(Ae,Ze(je._payload),Pe)}if(Ye(je)||W(je))return je=pc(je,Ae.mode,Pe,null),je.return=Ae,je;Mn(Ae,je)}return null}function Ge(Ae,je,Pe,Ze){var mt=je!==null?je.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return mt!==null?null:fe(Ae,je,""+Pe,Ze);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case U:return Pe.key===mt?be(Ae,je,Pe,Ze):null;case Z:return Pe.key===mt?Ee(Ae,je,Pe,Ze):null;case $:return mt=Pe._init,Ge(Ae,je,mt(Pe._payload),Ze)}if(Ye(Pe)||W(Pe))return mt!==null?null:Ke(Ae,je,Pe,Ze,null);Mn(Ae,Pe)}return null}function ct(Ae,je,Pe,Ze,mt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ae=Ae.get(Pe)||null,fe(je,Ae,""+Ze,mt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case U:return Ae=Ae.get(Ze.key===null?Pe:Ze.key)||null,be(je,Ae,Ze,mt);case Z:return Ae=Ae.get(Ze.key===null?Pe:Ze.key)||null,Ee(je,Ae,Ze,mt);case $:var kt=Ze._init;return ct(Ae,je,Pe,kt(Ze._payload),mt)}if(Ye(Ze)||W(Ze))return Ae=Ae.get(Pe)||null,Ke(je,Ae,Ze,mt,null);Mn(je,Ze)}return null}function ht(Ae,je,Pe,Ze){for(var mt=null,kt=null,Nt=je,Dt=je=0,Rr=null;Nt!==null&&Dt<Pe.length;Dt++){Nt.index>Dt?(Rr=Nt,Nt=null):Rr=Nt.sibling;var un=Ge(Ae,Nt,Pe[Dt],Ze);if(un===null){Nt===null&&(Nt=Rr);break}r&&Nt&&un.alternate===null&&a(Ae,Nt),je=T(un,je,Dt),kt===null?mt=un:kt.sibling=un,kt=un,Nt=Rr}if(Dt===Pe.length)return u(Ae,Nt),Me&&Ne(Ae,Dt),mt;if(Nt===null){for(;Dt<Pe.length;Dt++)Nt=Qe(Ae,Pe[Dt],Ze),Nt!==null&&(je=T(Nt,je,Dt),kt===null?mt=Nt:kt.sibling=Nt,kt=Nt);return Me&&Ne(Ae,Dt),mt}for(Nt=m(Ae,Nt);Dt<Pe.length;Dt++)Rr=ct(Nt,Ae,Dt,Pe[Dt],Ze),Rr!==null&&(r&&Rr.alternate!==null&&Nt.delete(Rr.key===null?Dt:Rr.key),je=T(Rr,je,Dt),kt===null?mt=Rr:kt.sibling=Rr,kt=Rr);return r&&Nt.forEach(function(jl){return a(Ae,jl)}),Me&&Ne(Ae,Dt),mt}function ft(Ae,je,Pe,Ze){var mt=W(Pe);if(typeof mt!="function")throw Error(t(150));if(Pe=mt.call(Pe),Pe==null)throw Error(t(151));for(var kt=mt=null,Nt=je,Dt=je=0,Rr=null,un=Pe.next();Nt!==null&&!un.done;Dt++,un=Pe.next()){Nt.index>Dt?(Rr=Nt,Nt=null):Rr=Nt.sibling;var jl=Ge(Ae,Nt,un.value,Ze);if(jl===null){Nt===null&&(Nt=Rr);break}r&&Nt&&jl.alternate===null&&a(Ae,Nt),je=T(jl,je,Dt),kt===null?mt=jl:kt.sibling=jl,kt=jl,Nt=Rr}if(un.done)return u(Ae,Nt),Me&&Ne(Ae,Dt),mt;if(Nt===null){for(;!un.done;Dt++,un=Pe.next())un=Qe(Ae,un.value,Ze),un!==null&&(je=T(un,je,Dt),kt===null?mt=un:kt.sibling=un,kt=un);return Me&&Ne(Ae,Dt),mt}for(Nt=m(Ae,Nt);!un.done;Dt++,un=Pe.next())un=ct(Nt,Ae,Dt,un.value,Ze),un!==null&&(r&&un.alternate!==null&&Nt.delete(un.key===null?Dt:un.key),je=T(un,je,Dt),kt===null?mt=un:kt.sibling=un,kt=un);return r&&Nt.forEach(function(M0){return a(Ae,M0)}),Me&&Ne(Ae,Dt),mt}function or(Ae,je,Pe,Ze){if(typeof Pe=="object"&&Pe!==null&&Pe.type===q&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case U:e:{for(var mt=Pe.key,kt=je;kt!==null;){if(kt.key===mt){if(mt=Pe.type,mt===q){if(kt.tag===7){u(Ae,kt.sibling),je=x(kt,Pe.props.children),je.return=Ae,Ae=je;break e}}else if(kt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===$&&zr(mt)===kt.type){u(Ae,kt.sibling),je=x(kt,Pe.props),je.ref=Tt(Ae,kt,Pe),je.return=Ae,Ae=je;break e}u(Ae,kt);break}else a(Ae,kt);kt=kt.sibling}Pe.type===q?(je=pc(Pe.props.children,Ae.mode,Ze,Pe.key),je.return=Ae,Ae=je):(Ze=rh(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ze),Ze.ref=Tt(Ae,je,Pe),Ze.return=Ae,Ae=Ze)}return Y(Ae);case Z:e:{for(kt=Pe.key;je!==null;){if(je.key===kt)if(je.tag===4&&je.stateNode.containerInfo===Pe.containerInfo&&je.stateNode.implementation===Pe.implementation){u(Ae,je.sibling),je=x(je,Pe.children||[]),je.return=Ae,Ae=je;break e}else{u(Ae,je);break}else a(Ae,je);je=je.sibling}je=Rf(Pe,Ae.mode,Ze),je.return=Ae,Ae=je}return Y(Ae);case $:return kt=Pe._init,or(Ae,je,kt(Pe._payload),Ze)}if(Ye(Pe))return ht(Ae,je,Pe,Ze);if(W(Pe))return ft(Ae,je,Pe,Ze);Mn(Ae,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,je!==null&&je.tag===6?(u(Ae,je.sibling),je=x(je,Pe),je.return=Ae,Ae=je):(u(Ae,je),je=Df(Pe,Ae.mode,Ze),je.return=Ae,Ae=je),Y(Ae)):u(Ae,je)}return or}var sr=Gn(!0),ln=Gn(!1),Or=ni(null),Ir=null,Bn=null,ir=null;function wr(){ir=Bn=Ir=null}function is(r){var a=Or.current;mn(Or),r._currentValue=a}function Fs(r,a,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),r===u)break;r=r.return}}function $n(r,a){Ir=r,ir=Bn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(qs=!0),r.firstContext=null)}function Xn(r){var a=r._currentValue;if(ir!==r)if(r={context:r,memoizedValue:a,next:null},Bn===null){if(Ir===null)throw Error(t(308));Bn=r,Ir.dependencies={lanes:0,firstContext:r}}else Bn=Bn.next=r;return a}var bs=null;function Ta(r){bs===null?bs=[r]:bs.push(r)}function Vi(r,a,u,m){var x=a.interleaved;return x===null?(u.next=u,Ta(a)):(u.next=x.next,x.next=u),a.interleaved=u,cn(r,m)}function cn(r,a){r.lanes|=a;var u=r.alternate;for(u!==null&&(u.lanes|=a),u=r,r=r.return;r!==null;)r.childLanes|=a,u=r.alternate,u!==null&&(u.childLanes|=a),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ni=!1;function Yc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zu(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ms(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Bs(r,a,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(sn&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,cn(r,u)}return x=m.interleaved,x===null?(a.next=a,Ta(m)):(a.next=x.next,x.next=a),m.interleaved=a,cn(r,u)}function wo(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=r.pendingLanes,u|=m,a.lanes=u,Fo(r,u)}}function $s(r,a){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var Y={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};T===null?x=T=Y:T=T.next=Y,u=u.next}while(u!==null);T===null?x=T=a:T=T.next=a}else x=T=a;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:m.shared,effects:m.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}function Gi(r,a,u,m){var x=r.updateQueue;Ni=!1;var T=x.firstBaseUpdate,Y=x.lastBaseUpdate,fe=x.shared.pending;if(fe!==null){x.shared.pending=null;var be=fe,Ee=be.next;be.next=null,Y===null?T=Ee:Y.next=Ee,Y=be;var Ke=r.alternate;Ke!==null&&(Ke=Ke.updateQueue,fe=Ke.lastBaseUpdate,fe!==Y&&(fe===null?Ke.firstBaseUpdate=Ee:fe.next=Ee,Ke.lastBaseUpdate=be))}if(T!==null){var Qe=x.baseState;Y=0,Ke=Ee=be=null,fe=T;do{var Ge=fe.lane,ct=fe.eventTime;if((m&Ge)===Ge){Ke!==null&&(Ke=Ke.next={eventTime:ct,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var ht=r,ft=fe;switch(Ge=a,ct=u,ft.tag){case 1:if(ht=ft.payload,typeof ht=="function"){Qe=ht.call(ct,Qe,Ge);break e}Qe=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ft.payload,Ge=typeof ht=="function"?ht.call(ct,Qe,Ge):ht,Ge==null)break e;Qe=V({},Qe,Ge);break e;case 2:Ni=!0}}fe.callback!==null&&fe.lane!==0&&(r.flags|=64,Ge=x.effects,Ge===null?x.effects=[fe]:Ge.push(fe))}else ct={eventTime:ct,lane:Ge,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ke===null?(Ee=Ke=ct,be=Qe):Ke=Ke.next=ct,Y|=Ge;if(fe=fe.next,fe===null){if(fe=x.shared.pending,fe===null)break;Ge=fe,fe=Ge.next,Ge.next=null,x.lastBaseUpdate=Ge,x.shared.pending=null}}while(!0);if(Ke===null&&(be=Qe),x.baseState=be,x.firstBaseUpdate=Ee,x.lastBaseUpdate=Ke,a=x.shared.interleaved,a!==null){x=a;do Y|=x.lane,x=x.next;while(x!==a)}else T===null&&(x.shared.lanes=0);uc|=Y,r.lanes=Y,r.memoizedState=Qe}}function xo(r,a,u){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var m=r[a],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(t(191,x));x.call(m)}}}var dl={},ws=ni(dl),hl=ni(dl),Oa=ni(dl);function Ki(r){if(r===dl)throw Error(t(174));return r}function fl(r,a){switch(vn(Oa,a),vn(hl,r),vn(ws,dl),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Gt(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Gt(a,r)}mn(ws),vn(ws,a)}function Si(){mn(ws),mn(hl),mn(Oa)}function Md(r){Ki(Oa.current);var a=Ki(ws.current),u=Gt(a,r.type);a!==u&&(vn(hl,r),vn(ws,u))}function Uu(r){hl.current===r&&(mn(ws),mn(hl))}var Sn=ni(0);function ri(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hu=[];function Wu(){for(var r=0;r<Hu.length;r++)Hu[r]._workInProgressVersionPrimary=null;Hu.length=0}var Jc=E.ReactCurrentDispatcher,Qc=E.ReactCurrentBatchConfig,Ci=0,Pn=null,Zn=null,Kn=null,pl=!1,Yi=!1,ml=0,of=0;function ar(){throw Error(t(321))}function Xc(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!rn(r[u],a[u]))return!1;return!0}function oc(r,a,u,m,x,T){if(Ci=T,Pn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Jc.current=r===null||r.memoizedState===null?u0:d0,r=u(m,x),Yi){T=0;do{if(Yi=!1,ml=0,25<=T)throw Error(t(301));T+=1,Kn=Zn=null,a.updateQueue=null,Jc.current=h0,r=u(m,x)}while(Yi)}if(Jc.current=Ud,a=Zn!==null&&Zn.next!==null,Ci=0,Kn=Zn=Pn=null,pl=!1,a)throw Error(t(300));return r}function Li(){var r=ml!==0;return ml=0,r}function si(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Pn.memoizedState=Kn=r:Kn=Kn.next=r,Kn}function xs(){if(Zn===null){var r=Pn.alternate;r=r!==null?r.memoizedState:null}else r=Zn.next;var a=Kn===null?Pn.memoizedState:Kn.next;if(a!==null)Kn=a,Zn=r;else{if(r===null)throw Error(t(310));Zn=r,r={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},Kn===null?Pn.memoizedState=Kn=r:Kn=Kn.next=r}return Kn}function lc(r,a){return typeof a=="function"?a(r):a}function Zc(r){var a=xs(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var m=Zn,x=m.baseQueue,T=u.pending;if(T!==null){if(x!==null){var Y=x.next;x.next=T.next,T.next=Y}m.baseQueue=x=T,u.pending=null}if(x!==null){T=x.next,m=m.baseState;var fe=Y=null,be=null,Ee=T;do{var Ke=Ee.lane;if((Ci&Ke)===Ke)be!==null&&(be=be.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),m=Ee.hasEagerState?Ee.eagerState:r(m,Ee.action);else{var Qe={lane:Ke,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};be===null?(fe=be=Qe,Y=m):be=be.next=Qe,Pn.lanes|=Ke,uc|=Ke}Ee=Ee.next}while(Ee!==null&&Ee!==T);be===null?Y=m:be.next=fe,rn(m,a.memoizedState)||(qs=!0),a.memoizedState=m,a.baseState=Y,a.baseQueue=be,u.lastRenderedState=m}if(r=u.interleaved,r!==null){x=r;do T=x.lane,Pn.lanes|=T,uc|=T,x=x.next;while(x!==r)}else x===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Ia(r){var a=xs(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,T=a.memoizedState;if(x!==null){u.pending=null;var Y=x=x.next;do T=r(T,Y.action),Y=Y.next;while(Y!==x);rn(T,a.memoizedState)||(qs=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,m]}function Bd(){}function Vu(r,a){var u=Pn,m=xs(),x=a(),T=!rn(m.memoizedState,x);if(T&&(m.memoizedState=x,qs=!0),m=m.queue,nu(qd.bind(null,u,m,r),[r]),m.getSnapshot!==a||T||Kn!==null&&Kn.memoizedState.tag&1){if(u.flags|=2048,js(9,Gu.bind(null,u,m,x,a),void 0,null),Dr===null)throw Error(t(349));(Ci&30)!==0||$d(u,a,x)}return x}function $d(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Pn.updateQueue,a===null?(a={lastEffect:null,stores:null},Pn.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Gu(r,a,u,m){a.value=u,a.getSnapshot=m,gl(a)&&eu(r)}function qd(r,a,u){return u(function(){gl(a)&&eu(r)})}function gl(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!rn(r,u)}catch{return!0}}function eu(r){var a=cn(r,1);a!==null&&ea(a,r,1,-1)}function cc(r){var a=si();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:r},a.queue=r,r=r.dispatch=c0.bind(null,Pn,r),[a.memoizedState,r]}function js(r,a,u,m){return r={tag:r,create:a,destroy:u,deps:m,next:null},a=Pn.updateQueue,a===null?(a={lastEffect:null,stores:null},Pn.updateQueue=a,a.lastEffect=r.next=r):(u=a.lastEffect,u===null?a.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,a.lastEffect=r)),r}function Ji(){return xs().memoizedState}function ii(r,a,u,m){var x=si();Pn.flags|=r,x.memoizedState=js(1|a,u,void 0,m===void 0?null:m)}function jo(r,a,u,m){var x=xs();m=m===void 0?null:m;var T=void 0;if(Zn!==null){var Y=Zn.memoizedState;if(T=Y.destroy,m!==null&&Xc(m,Y.deps)){x.memoizedState=js(a,u,T,m);return}}Pn.flags|=r,x.memoizedState=js(1|a,u,T,m)}function tu(r,a){return ii(8390656,8,r,a)}function nu(r,a){return jo(2048,8,r,a)}function zd(r,a){return jo(4,2,r,a)}function ru(r,a){return jo(4,4,r,a)}function su(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function pm(r,a,u){return u=u!=null?u.concat([r]):null,jo(4,4,su.bind(null,a,r),u)}function lf(){}function mm(r,a){var u=xs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Xc(a,m[1])?m[0]:(u.memoizedState=[r,a],r)}function gm(r,a){var u=xs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Xc(a,m[1])?m[0]:(r=r(),u.memoizedState=[r,a],r)}function vm(r,a,u){return(Ci&21)===0?(r.baseState&&(r.baseState=!1,qs=!0),r.memoizedState=u):(rn(u,a)||(u=$l(),Pn.lanes|=u,uc|=u,r.baseState=!0),a)}function o0(r,a){var u=nn;nn=u!==0&&4>u?u:4,r(!0);var m=Qc.transition;Qc.transition={};try{r(!1),a()}finally{nn=u,Qc.transition=m}}function ym(){return xs().memoizedState}function l0(r,a,u){var m=bl(r);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},_m(r))bm(a,u);else if(u=Vi(r,a,u,m),u!==null){var x=Ns();ea(u,r,m,x),wm(u,a,m)}}function c0(r,a,u){var m=bl(r),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(_m(r))bm(a,x);else{var T=r.alternate;if(r.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var Y=a.lastRenderedState,fe=T(Y,u);if(x.hasEagerState=!0,x.eagerState=fe,rn(fe,Y)){var be=a.interleaved;be===null?(x.next=x,Ta(a)):(x.next=be.next,be.next=x),a.interleaved=x;return}}catch{}finally{}u=Vi(r,a,x,m),u!==null&&(x=Ns(),ea(u,r,m,x),wm(u,a,m))}}function _m(r){var a=r.alternate;return r===Pn||a!==null&&a===Pn}function bm(r,a){Yi=pl=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function wm(r,a,u){if((u&4194240)!==0){var m=a.lanes;m&=r.pendingLanes,u|=m,a.lanes=u,Fo(r,u)}}var Ud={readContext:Xn,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},u0={readContext:Xn,useCallback:function(r,a){return si().memoizedState=[r,a===void 0?null:a],r},useContext:Xn,useEffect:tu,useImperativeHandle:function(r,a,u){return u=u!=null?u.concat([r]):null,ii(4194308,4,su.bind(null,a,r),u)},useLayoutEffect:function(r,a){return ii(4194308,4,r,a)},useInsertionEffect:function(r,a){return ii(4,2,r,a)},useMemo:function(r,a){var u=si();return a=a===void 0?null:a,r=r(),u.memoizedState=[r,a],r},useReducer:function(r,a,u){var m=si();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},m.queue=r,r=r.dispatch=l0.bind(null,Pn,r),[m.memoizedState,r]},useRef:function(r){var a=si();return r={current:r},a.memoizedState=r},useState:cc,useDebugValue:lf,useDeferredValue:function(r){return si().memoizedState=r},useTransition:function(){var r=cc(!1),a=r[0];return r=o0.bind(null,r[1]),si().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,u){var m=Pn,x=si();if(Me){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Dr===null)throw Error(t(349));(Ci&30)!==0||$d(m,a,u)}x.memoizedState=u;var T={value:u,getSnapshot:a};return x.queue=T,tu(qd.bind(null,m,T,r),[r]),m.flags|=2048,js(9,Gu.bind(null,m,T,u,a),void 0,null),u},useId:function(){var r=si(),a=Dr.identifierPrefix;if(Me){var u=Le,m=Ce;u=(m&~(1<<32-ms(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=ml++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=of++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},d0={readContext:Xn,useCallback:mm,useContext:Xn,useEffect:nu,useImperativeHandle:pm,useInsertionEffect:zd,useLayoutEffect:ru,useMemo:gm,useReducer:Zc,useRef:Ji,useState:function(){return Zc(lc)},useDebugValue:lf,useDeferredValue:function(r){var a=xs();return vm(a,Zn.memoizedState,r)},useTransition:function(){var r=Zc(lc)[0],a=xs().memoizedState;return[r,a]},useMutableSource:Bd,useSyncExternalStore:Vu,useId:ym,unstable_isNewReconciler:!1},h0={readContext:Xn,useCallback:mm,useContext:Xn,useEffect:nu,useImperativeHandle:pm,useInsertionEffect:zd,useLayoutEffect:ru,useMemo:gm,useReducer:Ia,useRef:Ji,useState:function(){return Ia(lc)},useDebugValue:lf,useDeferredValue:function(r){var a=xs();return Zn===null?a.memoizedState=r:vm(a,Zn.memoizedState,r)},useTransition:function(){var r=Ia(lc)[0],a=xs().memoizedState;return[r,a]},useMutableSource:Bd,useSyncExternalStore:Vu,useId:ym,unstable_isNewReconciler:!1};function Qi(r,a){if(r&&r.defaultProps){a=V({},a),r=r.defaultProps;for(var u in r)a[u]===void 0&&(a[u]=r[u]);return a}return a}function cf(r,a,u,m){a=r.memoizedState,u=u(m,a),u=u==null?a:V({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Hd={isMounted:function(r){return(r=r._reactInternals)?yr(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var m=Ns(),x=bl(r),T=Ms(m,x);T.payload=a,u!=null&&(T.callback=u),a=Bs(r,T,x),a!==null&&(ea(a,r,x,m),wo(a,r,x))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var m=Ns(),x=bl(r),T=Ms(m,x);T.tag=1,T.payload=a,u!=null&&(T.callback=u),a=Bs(r,T,x),a!==null&&(ea(a,r,x,m),wo(a,r,x))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=Ns(),m=bl(r),x=Ms(u,m);x.tag=2,a!=null&&(x.callback=a),a=Bs(r,x,m),a!==null&&(ea(a,r,m,u),wo(a,r,m))}};function xm(r,a,u,m,x,T,Y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,T,Y):a.prototype&&a.prototype.isPureReactComponent?!$i(u,m)||!$i(x,T):!0}function jm(r,a,u){var m=!1,x=Ea,T=a.contextType;return typeof T=="object"&&T!==null?T=Xn(T):(x=ss(a)?_o:br.current,m=a.contextTypes,T=(m=m!=null)?ul(r,x):Ea),a=new a(u,T),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Hd,r.stateNode=a,a._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=T),a}function km(r,a,u,m){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==r&&Hd.enqueueReplaceState(a,a.state,null)}function uf(r,a,u,m){var x=r.stateNode;x.props=u,x.state=r.memoizedState,x.refs={},Yc(r);var T=a.contextType;typeof T=="object"&&T!==null?x.context=Xn(T):(T=ss(a)?_o:br.current,x.context=ul(r,T)),x.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(cf(r,a,T,u),x.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Hd.enqueueReplaceState(x,x.state,null),Gi(r,u,x,m),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function iu(r,a){try{var u="",m=a;do u+=ie(m),m=m.return;while(m);var x=u}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:r,source:a,stack:x,digest:null}}function df(r,a,u){return{value:r,source:null,stack:u??null,digest:a??null}}function hf(r,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var f0=typeof WeakMap=="function"?WeakMap:Map;function Nm(r,a,u){u=Ms(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Qd||(Qd=!0,Cf=m),hf(r,a)},u}function Sm(r,a,u){u=Ms(-1,u),u.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;u.payload=function(){return m(x)},u.callback=function(){hf(r,a)}}var T=r.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(u.callback=function(){hf(r,a),typeof m!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var Y=a.stack;this.componentDidCatch(a.value,{componentStack:Y!==null?Y:""})}),u}function Cm(r,a,u){var m=r.pingCache;if(m===null){m=r.pingCache=new f0;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(u)||(x.add(u),r=C0.bind(null,r,a,u),a.then(r,r))}function Lm(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function Am(r,a,u,m,x){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ms(-1,1),a.tag=2,Bs(u,a,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var p0=E.ReactCurrentOwner,qs=!1;function ks(r,a,u,m){a.child=r===null?ln(a,null,u,m):sr(a,r.child,u,m)}function Pm(r,a,u,m,x){u=u.render;var T=a.ref;return $n(a,x),m=oc(r,a,u,m,T,x),u=Li(),r!==null&&!qs?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~x,ko(r,a,x)):(Me&&u&&Te(a),a.flags|=1,ks(r,a,m,x),a.child)}function Em(r,a,u,m,x){if(r===null){var T=u.type;return typeof T=="function"&&!If(T)&&T.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=T,Tm(r,a,T,m,x)):(r=rh(u.type,null,m,a,a.mode,x),r.ref=a.ref,r.return=a,a.child=r)}if(T=r.child,(r.lanes&x)===0){var Y=T.memoizedProps;if(u=u.compare,u=u!==null?u:$i,u(Y,m)&&r.ref===a.ref)return ko(r,a,x)}return a.flags|=1,r=xl(T,m),r.ref=a.ref,r.return=a,a.child=r}function Tm(r,a,u,m,x){if(r!==null){var T=r.memoizedProps;if($i(T,m)&&r.ref===a.ref)if(qs=!1,a.pendingProps=m=T,(r.lanes&x)!==0)(r.flags&131072)!==0&&(qs=!0);else return a.lanes=r.lanes,ko(r,a,x)}return ff(r,a,u,m,x)}function Om(r,a,u){var m=a.pendingProps,x=m.children,T=r!==null?r.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(ou,ai),ai|=u;else{if((u&1073741824)===0)return r=T!==null?T.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,vn(ou,ai),ai|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:u,vn(ou,ai),ai|=m}else T!==null?(m=T.baseLanes|u,a.memoizedState=null):m=u,vn(ou,ai),ai|=m;return ks(r,a,x,u),a.child}function Im(r,a){var u=a.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function ff(r,a,u,m,x){var T=ss(u)?_o:br.current;return T=ul(a,T),$n(a,x),u=oc(r,a,u,m,T,x),m=Li(),r!==null&&!qs?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~x,ko(r,a,x)):(Me&&m&&Te(a),a.flags|=1,ks(r,a,u,x),a.child)}function Dm(r,a,u,m,x){if(ss(u)){var T=!0;bo(a)}else T=!1;if($n(a,x),a.stateNode===null)Vd(r,a),jm(a,u,m),uf(a,u,m,x),m=!0;else if(r===null){var Y=a.stateNode,fe=a.memoizedProps;Y.props=fe;var be=Y.context,Ee=u.contextType;typeof Ee=="object"&&Ee!==null?Ee=Xn(Ee):(Ee=ss(u)?_o:br.current,Ee=ul(a,Ee));var Ke=u.getDerivedStateFromProps,Qe=typeof Ke=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Qe||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(fe!==m||be!==Ee)&&km(a,Y,m,Ee),Ni=!1;var Ge=a.memoizedState;Y.state=Ge,Gi(a,m,Y,x),be=a.memoizedState,fe!==m||Ge!==be||rs.current||Ni?(typeof Ke=="function"&&(cf(a,u,Ke,m),be=a.memoizedState),(fe=Ni||xm(a,u,fe,m,Ge,be,Ee))?(Qe||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=be),Y.props=m,Y.state=be,Y.context=Ee,m=fe):(typeof Y.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{Y=a.stateNode,zu(r,a),fe=a.memoizedProps,Ee=a.type===a.elementType?fe:Qi(a.type,fe),Y.props=Ee,Qe=a.pendingProps,Ge=Y.context,be=u.contextType,typeof be=="object"&&be!==null?be=Xn(be):(be=ss(u)?_o:br.current,be=ul(a,be));var ct=u.getDerivedStateFromProps;(Ke=typeof ct=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(fe!==Qe||Ge!==be)&&km(a,Y,m,be),Ni=!1,Ge=a.memoizedState,Y.state=Ge,Gi(a,m,Y,x);var ht=a.memoizedState;fe!==Qe||Ge!==ht||rs.current||Ni?(typeof ct=="function"&&(cf(a,u,ct,m),ht=a.memoizedState),(Ee=Ni||xm(a,u,Ee,m,Ge,ht,be)||!1)?(Ke||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(m,ht,be),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(m,ht,be)),typeof Y.componentDidUpdate=="function"&&(a.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof Y.componentDidUpdate!="function"||fe===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||fe===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ht),Y.props=m,Y.state=ht,Y.context=be,m=Ee):(typeof Y.componentDidUpdate!="function"||fe===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||fe===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=1024),m=!1)}return pf(r,a,u,m,T,x)}function pf(r,a,u,m,x,T){Im(r,a);var Y=(a.flags&128)!==0;if(!m&&!Y)return x&&Fd(a,u,!1),ko(r,a,T);m=a.stateNode,p0.current=a;var fe=Y&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,r!==null&&Y?(a.child=sr(a,r.child,null,T),a.child=sr(a,null,fe,T)):ks(r,a,fe,T),a.memoizedState=m.state,x&&Fd(a,u,!0),a.child}function Rm(r){var a=r.stateNode;a.pendingContext?Rd(r,a.pendingContext,a.pendingContext!==a.context):a.context&&Rd(r,a.context,!1),fl(r,a.containerInfo)}function Fm(r,a,u,m,x){return qt(),gn(x),a.flags|=256,ks(r,a,u,m),a.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Mm(r,a,u){var m=a.pendingProps,x=Sn.current,T=!1,Y=(a.flags&128)!==0,fe;if((fe=Y)||(fe=r!==null&&r.memoizedState===null?!1:(x&2)!==0),fe?(T=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),vn(Sn,x&1),r===null)return rt(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(Y=m.children,r=m.fallback,T?(m=a.mode,T=a.child,Y={mode:"hidden",children:Y},(m&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=Y):T=sh(Y,m,0,null),r=pc(r,m,u,null),T.return=a,r.return=a,T.sibling=r,a.child=T,a.child.memoizedState=gf(u),a.memoizedState=mf,r):vf(a,Y));if(x=r.memoizedState,x!==null&&(fe=x.dehydrated,fe!==null))return m0(r,a,Y,m,fe,x,u);if(T){T=m.fallback,Y=a.mode,x=r.child,fe=x.sibling;var be={mode:"hidden",children:m.children};return(Y&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=be,a.deletions=null):(m=xl(x,be),m.subtreeFlags=x.subtreeFlags&14680064),fe!==null?T=xl(fe,T):(T=pc(T,Y,u,null),T.flags|=2),T.return=a,m.return=a,m.sibling=T,a.child=m,m=T,T=a.child,Y=r.child.memoizedState,Y=Y===null?gf(u):{baseLanes:Y.baseLanes|u,cachePool:null,transitions:Y.transitions},T.memoizedState=Y,T.childLanes=r.childLanes&~u,a.memoizedState=mf,m}return T=r.child,r=T.sibling,m=xl(T,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,r!==null&&(u=a.deletions,u===null?(a.deletions=[r],a.flags|=16):u.push(r)),a.child=m,a.memoizedState=null,m}function vf(r,a){return a=sh({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Wd(r,a,u,m){return m!==null&&gn(m),sr(a,r.child,null,u),r=vf(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function m0(r,a,u,m,x,T,Y){if(u)return a.flags&256?(a.flags&=-257,m=df(Error(t(422))),Wd(r,a,Y,m)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(T=m.fallback,x=a.mode,m=sh({mode:"visible",children:m.children},x,0,null),T=pc(T,x,Y,null),T.flags|=2,m.return=a,T.return=a,m.sibling=T,a.child=m,(a.mode&1)!==0&&sr(a,r.child,null,Y),a.child.memoizedState=gf(Y),a.memoizedState=mf,T);if((a.mode&1)===0)return Wd(r,a,Y,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var fe=m.dgst;return m=fe,T=Error(t(419)),m=df(T,m,void 0),Wd(r,a,Y,m)}if(fe=(Y&r.childLanes)!==0,qs||fe){if(m=Dr,m!==null){switch(Y&-Y){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|Y))!==0?0:x,x!==0&&x!==T.retryLane&&(T.retryLane=x,cn(r,x),ea(m,r,x,-1))}return Of(),m=df(Error(t(421))),Wd(r,a,Y,m)}return x.data==="$?"?(a.flags|=128,a.child=r.child,a=L0.bind(null,r),x._reactRetry=a,null):(r=T.treeContext,Be=qr(x.nextSibling),xe=a,Me=!0,qe=null,r!==null&&(re[ce++]=Ce,re[ce++]=Le,re[ce++]=_e,Ce=r.id,Le=r.overflow,_e=a),a=vf(a,m.children),a.flags|=4096,a)}function Bm(r,a,u){r.lanes|=a;var m=r.alternate;m!==null&&(m.lanes|=a),Fs(r.return,a,u)}function yf(r,a,u,m,x){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=u,T.tailMode=x)}function $m(r,a,u){var m=a.pendingProps,x=m.revealOrder,T=m.tail;if(ks(r,a,m.children,u),m=Sn.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bm(r,u,a);else if(r.tag===19)Bm(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(vn(Sn,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(u=a.child,x=null;u!==null;)r=u.alternate,r!==null&&ri(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=a.child,a.child=null):(x=u.sibling,u.sibling=null),yf(a,!1,x,u,T);break;case"backwards":for(u=null,x=a.child,a.child=null;x!==null;){if(r=x.alternate,r!==null&&ri(r)===null){a.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}yf(a,!0,u,null,T);break;case"together":yf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Vd(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ko(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),uc|=a.lanes,(u&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(t(153));if(a.child!==null){for(r=a.child,u=xl(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=xl(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function g0(r,a,u){switch(a.tag){case 3:Rm(a),qt();break;case 5:Md(a);break;case 1:ss(a.type)&&bo(a);break;case 4:fl(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;vn(Or,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(vn(Sn,Sn.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Mm(r,a,u):(vn(Sn,Sn.current&1),r=ko(r,a,u),r!==null?r.sibling:null);vn(Sn,Sn.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(r.flags&128)!==0){if(m)return $m(r,a,u);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),vn(Sn,Sn.current),m)break;return null;case 22:case 23:return a.lanes=0,Om(r,a,u)}return ko(r,a,u)}var qm,_f,zm,Um;qm=function(r,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_f=function(){},zm=function(r,a,u,m){var x=r.memoizedProps;if(x!==m){r=a.stateNode,Ki(ws.current);var T=null;switch(u){case"input":x=pe(r,x),m=pe(r,m),T=[];break;case"select":x=V({},x,{value:void 0}),m=V({},m,{value:void 0}),T=[];break;case"textarea":x=it(r,x),m=it(r,m),T=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=ol)}Nn(u,m);var Y;u=null;for(Ee in x)if(!m.hasOwnProperty(Ee)&&x.hasOwnProperty(Ee)&&x[Ee]!=null)if(Ee==="style"){var fe=x[Ee];for(Y in fe)fe.hasOwnProperty(Y)&&(u||(u={}),u[Y]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(l.hasOwnProperty(Ee)?T||(T=[]):(T=T||[]).push(Ee,null));for(Ee in m){var be=m[Ee];if(fe=x!=null?x[Ee]:void 0,m.hasOwnProperty(Ee)&&be!==fe&&(be!=null||fe!=null))if(Ee==="style")if(fe){for(Y in fe)!fe.hasOwnProperty(Y)||be&&be.hasOwnProperty(Y)||(u||(u={}),u[Y]="");for(Y in be)be.hasOwnProperty(Y)&&fe[Y]!==be[Y]&&(u||(u={}),u[Y]=be[Y])}else u||(T||(T=[]),T.push(Ee,u)),u=be;else Ee==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,fe=fe?fe.__html:void 0,be!=null&&fe!==be&&(T=T||[]).push(Ee,be)):Ee==="children"?typeof be!="string"&&typeof be!="number"||(T=T||[]).push(Ee,""+be):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(l.hasOwnProperty(Ee)?(be!=null&&Ee==="onScroll"&&wn("scroll",r),T||fe===be||(T=[])):(T=T||[]).push(Ee,be))}u&&(T=T||[]).push("style",u);var Ee=T;(a.updateQueue=Ee)&&(a.flags|=4)}},Um=function(r,a,u,m){u!==m&&(a.flags|=4)};function Ku(r,a){if(!Me)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function as(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(a)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,a}function v0(r,a,u){var m=a.pendingProps;switch(we(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(a),null;case 1:return ss(a.type)&&Kc(),as(a),null;case 3:return m=a.stateNode,Si(),mn(rs),mn(br),Wu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(Zt(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qe!==null&&(Pf(qe),qe=null))),_f(r,a),as(a),null;case 5:Uu(a);var x=Ki(Oa.current);if(u=a.type,r!==null&&a.stateNode!=null)zm(r,a,u,m,x),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return as(a),null}if(r=Ki(ws.current),Zt(a)){m=a.stateNode,u=a.type;var T=a.memoizedProps;switch(m[ki]=a,m[ll]=T,r=(a.mode&1)!==0,u){case"dialog":wn("cancel",m),wn("close",m);break;case"iframe":case"object":case"embed":wn("load",m);break;case"video":case"audio":for(x=0;x<Aa.length;x++)wn(Aa[x],m);break;case"source":wn("error",m);break;case"img":case"image":case"link":wn("error",m),wn("load",m);break;case"details":wn("toggle",m);break;case"input":he(m,T),wn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},wn("invalid",m);break;case"textarea":gt(m,T),wn("invalid",m)}Nn(u,T),x=null;for(var Y in T)if(T.hasOwnProperty(Y)){var fe=T[Y];Y==="children"?typeof fe=="string"?m.textContent!==fe&&(T.suppressHydrationWarning!==!0&&Gc(m.textContent,fe,r),x=["children",fe]):typeof fe=="number"&&m.textContent!==""+fe&&(T.suppressHydrationWarning!==!0&&Gc(m.textContent,fe,r),x=["children",""+fe]):l.hasOwnProperty(Y)&&fe!=null&&Y==="onScroll"&&wn("scroll",m)}switch(u){case"input":He(m),Xe(m,T,!0);break;case"textarea":He(m),Mt(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=ol)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{Y=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=zt(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=Y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=Y.createElement(u,{is:m.is}):(r=Y.createElement(u),u==="select"&&(Y=r,m.multiple?Y.multiple=!0:m.size&&(Y.size=m.size))):r=Y.createElementNS(r,u),r[ki]=a,r[ll]=m,qm(r,a,!1,!1),a.stateNode=r;e:{switch(Y=As(u,m),u){case"dialog":wn("cancel",r),wn("close",r),x=m;break;case"iframe":case"object":case"embed":wn("load",r),x=m;break;case"video":case"audio":for(x=0;x<Aa.length;x++)wn(Aa[x],r);x=m;break;case"source":wn("error",r),x=m;break;case"img":case"image":case"link":wn("error",r),wn("load",r),x=m;break;case"details":wn("toggle",r),x=m;break;case"input":he(r,m),x=pe(r,m),wn("invalid",r);break;case"option":x=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},x=V({},m,{value:void 0}),wn("invalid",r);break;case"textarea":gt(r,m),x=it(r,m),wn("invalid",r);break;default:x=m}Nn(u,x),fe=x;for(T in fe)if(fe.hasOwnProperty(T)){var be=fe[T];T==="style"?Ls(r,be):T==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&Ct(r,be)):T==="children"?typeof be=="string"?(u!=="textarea"||be!=="")&&$t(r,be):typeof be=="number"&&$t(r,""+be):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?be!=null&&T==="onScroll"&&wn("scroll",r):be!=null&&A(r,T,be,Y))}switch(u){case"input":He(r),Xe(r,m,!1);break;case"textarea":He(r),Mt(r);break;case"option":m.value!=null&&r.setAttribute("value",""+ge(m.value));break;case"select":r.multiple=!!m.multiple,T=m.value,T!=null?st(r,!!m.multiple,T,!1):m.defaultValue!=null&&st(r,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=ol)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return as(a),null;case 6:if(r&&a.stateNode!=null)Um(r,a,r.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ki(Oa.current),Ki(ws.current),Zt(a)){if(m=a.stateNode,u=a.memoizedProps,m[ki]=a,(T=m.nodeValue!==u)&&(r=xe,r!==null))switch(r.tag){case 3:Gc(m.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gc(m.nodeValue,u,(r.mode&1)!==0)}T&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[ki]=a,a.stateNode=m}return as(a),null;case 13:if(mn(Sn),m=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Me&&Be!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Yt(),qt(),a.flags|=98560,T=!1;else if(T=Zt(a),m!==null&&m.dehydrated!==null){if(r===null){if(!T)throw Error(t(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[ki]=a}else qt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;as(a),T=!1}else qe!==null&&(Pf(qe),qe=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Sn.current&1)!==0?xr===0&&(xr=3):Of())),a.updateQueue!==null&&(a.flags|=4),as(a),null);case 4:return Si(),_f(r,a),r===null&&mo(a.stateNode.containerInfo),as(a),null;case 10:return is(a.type._context),as(a),null;case 17:return ss(a.type)&&Kc(),as(a),null;case 19:if(mn(Sn),T=a.memoizedState,T===null)return as(a),null;if(m=(a.flags&128)!==0,Y=T.rendering,Y===null)if(m)Ku(T,!1);else{if(xr!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(Y=ri(r),Y!==null){for(a.flags|=128,Ku(T,!1),m=Y.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)T=u,r=m,T.flags&=14680066,Y=T.alternate,Y===null?(T.childLanes=0,T.lanes=r,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=Y.childLanes,T.lanes=Y.lanes,T.child=Y.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=Y.memoizedProps,T.memoizedState=Y.memoizedState,T.updateQueue=Y.updateQueue,T.type=Y.type,r=Y.dependencies,T.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return vn(Sn,Sn.current&1|2),a.child}r=r.sibling}T.tail!==null&&Dn()>lu&&(a.flags|=128,m=!0,Ku(T,!1),a.lanes=4194304)}else{if(!m)if(r=ri(Y),r!==null){if(a.flags|=128,m=!0,u=r.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ku(T,!0),T.tail===null&&T.tailMode==="hidden"&&!Y.alternate&&!Me)return as(a),null}else 2*Dn()-T.renderingStartTime>lu&&u!==1073741824&&(a.flags|=128,m=!0,Ku(T,!1),a.lanes=4194304);T.isBackwards?(Y.sibling=a.child,a.child=Y):(u=T.last,u!==null?u.sibling=Y:a.child=Y,T.last=Y)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=Dn(),a.sibling=null,u=Sn.current,vn(Sn,m?u&1|2:u&1),a):(as(a),null);case 22:case 23:return Tf(),m=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(ai&1073741824)!==0&&(as(a),a.subtreeFlags&6&&(a.flags|=8192)):as(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function y0(r,a){switch(we(a),a.tag){case 1:return ss(a.type)&&Kc(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Si(),mn(rs),mn(br),Wu(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Uu(a),null;case 13:if(mn(Sn),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(t(340));qt()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return mn(Sn),null;case 4:return Si(),null;case 10:return is(a.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var Gd=!1,os=!1,_0=typeof WeakSet=="function"?WeakSet:Set,ut=null;function au(r,a){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){er(r,a,m)}else u.current=null}function bf(r,a,u){try{u()}catch(m){er(r,a,m)}}var Hm=!1;function b0(r,a){if(sc=zo,r=Ql(),uo(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var Y=0,fe=-1,be=-1,Ee=0,Ke=0,Qe=r,Ge=null;t:for(;;){for(var ct;Qe!==u||x!==0&&Qe.nodeType!==3||(fe=Y+x),Qe!==T||m!==0&&Qe.nodeType!==3||(be=Y+m),Qe.nodeType===3&&(Y+=Qe.nodeValue.length),(ct=Qe.firstChild)!==null;)Ge=Qe,Qe=ct;for(;;){if(Qe===r)break t;if(Ge===u&&++Ee===x&&(fe=Y),Ge===T&&++Ke===m&&(be=Y),(ct=Qe.nextSibling)!==null)break;Qe=Ge,Ge=Qe.parentNode}Qe=ct}u=fe===-1||be===-1?null:{start:fe,end:be}}else u=null}u=u||{start:0,end:0}}else u=null;for(vo={focusedElem:r,selectionRange:u},zo=!1,ut=a;ut!==null;)if(a=ut,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ut=r;else for(;ut!==null;){a=ut;try{var ht=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var ft=ht.memoizedProps,or=ht.memoizedState,Ae=a.stateNode,je=Ae.getSnapshotBeforeUpdate(a.elementType===a.type?ft:Qi(a.type,ft),or);Ae.__reactInternalSnapshotBeforeUpdate=je}break;case 3:var Pe=a.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ze){er(a,a.return,Ze)}if(r=a.sibling,r!==null){r.return=a.return,ut=r;break}ut=a.return}return ht=Hm,Hm=!1,ht}function Yu(r,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&r)===r){var T=x.destroy;x.destroy=void 0,T!==void 0&&bf(a,u,T)}x=x.next}while(x!==m)}}function Kd(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&r)===r){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function wf(r){var a=r.ref;if(a!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof a=="function"?a(r):a.current=r}}function Wm(r){var a=r.alternate;a!==null&&(r.alternate=null,Wm(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[ki],delete a[ll],delete a[ns],delete a[sf],delete a[af])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Vm(r){return r.tag===5||r.tag===3||r.tag===4}function Gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xf(r,a,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ol));else if(m!==4&&(r=r.child,r!==null))for(xf(r,a,u),r=r.sibling;r!==null;)xf(r,a,u),r=r.sibling}function jf(r,a,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(jf(r,a,u),r=r.sibling;r!==null;)jf(r,a,u),r=r.sibling}var Ur=null,Xi=!1;function vl(r,a,u){for(u=u.child;u!==null;)Km(r,a,u),u=u.sibling}function Km(r,a,u){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(Ya,u)}catch{}switch(u.tag){case 5:os||au(u,a);case 6:var m=Ur,x=Xi;Ur=null,vl(r,a,u),Ur=m,Xi=x,Ur!==null&&(Xi?(r=Ur,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Ur.removeChild(u.stateNode));break;case 18:Ur!==null&&(Xi?(r=Ur,u=u.stateNode,r.nodeType===8?Bu(r.parentNode,u):r.nodeType===1&&Bu(r,u),Xs(r)):Bu(Ur,u.stateNode));break;case 4:m=Ur,x=Xi,Ur=u.stateNode.containerInfo,Xi=!0,vl(r,a,u),Ur=m,Xi=x;break;case 0:case 11:case 14:case 15:if(!os&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var T=x,Y=T.destroy;T=T.tag,Y!==void 0&&((T&2)!==0||(T&4)!==0)&&bf(u,a,Y),x=x.next}while(x!==m)}vl(r,a,u);break;case 1:if(!os&&(au(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(fe){er(u,a,fe)}vl(r,a,u);break;case 21:vl(r,a,u);break;case 22:u.mode&1?(os=(m=os)||u.memoizedState!==null,vl(r,a,u),os=m):vl(r,a,u);break;default:vl(r,a,u)}}function Ym(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new _0),a.forEach(function(m){var x=A0.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}}function Zi(r,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var T=r,Y=a,fe=Y;e:for(;fe!==null;){switch(fe.tag){case 5:Ur=fe.stateNode,Xi=!1;break e;case 3:Ur=fe.stateNode.containerInfo,Xi=!0;break e;case 4:Ur=fe.stateNode.containerInfo,Xi=!0;break e}fe=fe.return}if(Ur===null)throw Error(t(160));Km(T,Y,x),Ur=null,Xi=!1;var be=x.alternate;be!==null&&(be.return=null),x.return=null}catch(Ee){er(x,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Jm(a,r),a=a.sibling}function Jm(r,a){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zi(a,r),Da(r),m&4){try{Yu(3,r,r.return),Kd(3,r)}catch(ft){er(r,r.return,ft)}try{Yu(5,r,r.return)}catch(ft){er(r,r.return,ft)}}break;case 1:Zi(a,r),Da(r),m&512&&u!==null&&au(u,u.return);break;case 5:if(Zi(a,r),Da(r),m&512&&u!==null&&au(u,u.return),r.flags&32){var x=r.stateNode;try{$t(x,"")}catch(ft){er(r,r.return,ft)}}if(m&4&&(x=r.stateNode,x!=null)){var T=r.memoizedProps,Y=u!==null?u.memoizedProps:T,fe=r.type,be=r.updateQueue;if(r.updateQueue=null,be!==null)try{fe==="input"&&T.type==="radio"&&T.name!=null&&se(x,T),As(fe,Y);var Ee=As(fe,T);for(Y=0;Y<be.length;Y+=2){var Ke=be[Y],Qe=be[Y+1];Ke==="style"?Ls(x,Qe):Ke==="dangerouslySetInnerHTML"?Ct(x,Qe):Ke==="children"?$t(x,Qe):A(x,Ke,Qe,Ee)}switch(fe){case"input":De(x,T);break;case"textarea":Ot(x,T);break;case"select":var Ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!T.multiple;var ct=T.value;ct!=null?st(x,!!T.multiple,ct,!1):Ge!==!!T.multiple&&(T.defaultValue!=null?st(x,!!T.multiple,T.defaultValue,!0):st(x,!!T.multiple,T.multiple?[]:"",!1))}x[ll]=T}catch(ft){er(r,r.return,ft)}}break;case 6:if(Zi(a,r),Da(r),m&4){if(r.stateNode===null)throw Error(t(162));x=r.stateNode,T=r.memoizedProps;try{x.nodeValue=T}catch(ft){er(r,r.return,ft)}}break;case 3:if(Zi(a,r),Da(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Xs(a.containerInfo)}catch(ft){er(r,r.return,ft)}break;case 4:Zi(a,r),Da(r);break;case 13:Zi(a,r),Da(r),x=r.child,x.flags&8192&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Sf=Dn())),m&4&&Ym(r);break;case 22:if(Ke=u!==null&&u.memoizedState!==null,r.mode&1?(os=(Ee=os)||Ke,Zi(a,r),os=Ee):Zi(a,r),Da(r),m&8192){if(Ee=r.memoizedState!==null,(r.stateNode.isHidden=Ee)&&!Ke&&(r.mode&1)!==0)for(ut=r,Ke=r.child;Ke!==null;){for(Qe=ut=Ke;ut!==null;){switch(Ge=ut,ct=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:Yu(4,Ge,Ge.return);break;case 1:au(Ge,Ge.return);var ht=Ge.stateNode;if(typeof ht.componentWillUnmount=="function"){m=Ge,u=Ge.return;try{a=m,ht.props=a.memoizedProps,ht.state=a.memoizedState,ht.componentWillUnmount()}catch(ft){er(m,u,ft)}}break;case 5:au(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){Zm(Qe);continue}}ct!==null?(ct.return=Ge,ut=ct):Zm(Qe)}Ke=Ke.sibling}e:for(Ke=null,Qe=r;;){if(Qe.tag===5){if(Ke===null){Ke=Qe;try{x=Qe.stateNode,Ee?(T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(fe=Qe.stateNode,be=Qe.memoizedProps.style,Y=be!=null&&be.hasOwnProperty("display")?be.display:null,fe.style.display=Jt("display",Y))}catch(ft){er(r,r.return,ft)}}}else if(Qe.tag===6){if(Ke===null)try{Qe.stateNode.nodeValue=Ee?"":Qe.memoizedProps}catch(ft){er(r,r.return,ft)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===r)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===r)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===r)break e;Ke===Qe&&(Ke=null),Qe=Qe.return}Ke===Qe&&(Ke=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Zi(a,r),Da(r),m&4&&Ym(r);break;case 21:break;default:Zi(a,r),Da(r)}}function Da(r){var a=r.flags;if(a&2){try{e:{for(var u=r.return;u!==null;){if(Vm(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&($t(x,""),m.flags&=-33);var T=Gm(r);jf(r,T,x);break;case 3:case 4:var Y=m.stateNode.containerInfo,fe=Gm(r);xf(r,fe,Y);break;default:throw Error(t(161))}}catch(be){er(r,r.return,be)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function w0(r,a,u){ut=r,Qm(r)}function Qm(r,a,u){for(var m=(r.mode&1)!==0;ut!==null;){var x=ut,T=x.child;if(x.tag===22&&m){var Y=x.memoizedState!==null||Gd;if(!Y){var fe=x.alternate,be=fe!==null&&fe.memoizedState!==null||os;fe=Gd;var Ee=os;if(Gd=Y,(os=be)&&!Ee)for(ut=x;ut!==null;)Y=ut,be=Y.child,Y.tag===22&&Y.memoizedState!==null?eg(x):be!==null?(be.return=Y,ut=be):eg(x);for(;T!==null;)ut=T,Qm(T),T=T.sibling;ut=x,Gd=fe,os=Ee}Xm(r)}else(x.subtreeFlags&8772)!==0&&T!==null?(T.return=x,ut=T):Xm(r)}}function Xm(r){for(;ut!==null;){var a=ut;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:os||Kd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!os)if(u===null)m.componentDidMount();else{var x=a.elementType===a.type?u.memoizedProps:Qi(a.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&xo(a,T,m);break;case 3:var Y=a.updateQueue;if(Y!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}xo(a,Y,u)}break;case 5:var fe=a.stateNode;if(u===null&&a.flags&4){u=fe;var be=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&u.focus();break;case"img":be.src&&(u.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ee=a.alternate;if(Ee!==null){var Ke=Ee.memoizedState;if(Ke!==null){var Qe=Ke.dehydrated;Qe!==null&&Xs(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}os||a.flags&512&&wf(a)}catch(Ge){er(a,a.return,Ge)}}if(a===r){ut=null;break}if(u=a.sibling,u!==null){u.return=a.return,ut=u;break}ut=a.return}}function Zm(r){for(;ut!==null;){var a=ut;if(a===r){ut=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ut=u;break}ut=a.return}}function eg(r){for(;ut!==null;){var a=ut;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Kd(4,a)}catch(be){er(a,u,be)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(be){er(a,x,be)}}var T=a.return;try{wf(a)}catch(be){er(a,T,be)}break;case 5:var Y=a.return;try{wf(a)}catch(be){er(a,Y,be)}}}catch(be){er(a,a.return,be)}if(a===r){ut=null;break}var fe=a.sibling;if(fe!==null){fe.return=a.return,ut=fe;break}ut=a.return}}var x0=Math.ceil,Yd=E.ReactCurrentDispatcher,kf=E.ReactCurrentOwner,Ai=E.ReactCurrentBatchConfig,sn=0,Dr=null,gr=null,Hr=0,ai=0,ou=ni(0),xr=0,Ju=null,uc=0,Jd=0,Nf=0,Qu=null,zs=null,Sf=0,lu=1/0,No=null,Qd=!1,Cf=null,yl=null,Xd=!1,_l=null,Zd=0,Xu=0,Lf=null,eh=-1,th=0;function Ns(){return(sn&6)!==0?Dn():eh!==-1?eh:eh=Dn()}function bl(r){return(r.mode&1)===0?1:(sn&2)!==0&&Hr!==0?Hr&-Hr:yn.transition!==null?(th===0&&(th=$l()),th):(r=nn,r!==0||(r=window.event,r=r===void 0?16:Wl(r.type)),r)}function ea(r,a,u,m){if(50<Xu)throw Xu=0,Lf=null,Error(t(185));va(r,u,m),((sn&2)===0||r!==Dr)&&(r===Dr&&((sn&2)===0&&(Jd|=u),xr===4&&wl(r,Hr)),Us(r,m),u===1&&sn===0&&(a.mode&1)===0&&(lu=Dn()+500,ac&&I()))}function Us(r,a){var u=r.callbackNode;Xr(r,a);var m=Qr(r,r===Dr?Hr:0);if(m===0)u!==null&&Ka(u),r.callbackNode=null,r.callbackPriority=0;else if(a=m&-m,r.callbackPriority!==a){if(u!=null&&Ka(u),a===1)r.tag===0?j(ng.bind(null,r)):g(ng.bind(null,r)),nf(function(){(sn&6)===0&&I()}),u=null;else{switch(Mo(m)){case 1:u=ma;break;case 4:u=Ml;break;case 16:u=Io;break;case 536870912:u=Dc;break;default:u=Io}u=ug(u,tg.bind(null,r))}r.callbackPriority=a,r.callbackNode=u}}function tg(r,a){if(eh=-1,th=0,(sn&6)!==0)throw Error(t(327));var u=r.callbackNode;if(cu()&&r.callbackNode!==u)return null;var m=Qr(r,r===Dr?Hr:0);if(m===0)return null;if((m&30)!==0||(m&r.expiredLanes)!==0||a)a=nh(r,m);else{a=m;var x=sn;sn|=2;var T=sg();(Dr!==r||Hr!==a)&&(No=null,lu=Dn()+500,hc(r,a));do try{N0();break}catch(fe){rg(r,fe)}while(!0);wr(),Yd.current=T,sn=x,gr!==null?a=0:(Dr=null,Hr=0,a=xr)}if(a!==0){if(a===2&&(x=Xa(r),x!==0&&(m=x,a=Af(r,x))),a===1)throw u=Ju,hc(r,0),wl(r,m),Us(r,Dn()),u;if(a===6)wl(r,m);else{if(x=r.current.alternate,(m&30)===0&&!j0(x)&&(a=nh(r,m),a===2&&(T=Xa(r),T!==0&&(m=T,a=Af(r,T))),a===1))throw u=Ju,hc(r,0),wl(r,m),Us(r,Dn()),u;switch(r.finishedWork=x,r.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:fc(r,zs,No);break;case 3:if(wl(r,m),(m&130023424)===m&&(a=Sf+500-Dn(),10<a)){if(Qr(r,0)!==0)break;if(x=r.suspendedLanes,(x&m)!==m){Ns(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=Mu(fc.bind(null,r,zs,No),a);break}fc(r,zs,No);break;case 4:if(wl(r,m),(m&4194240)===m)break;for(a=r.eventTimes,x=-1;0<m;){var Y=31-ms(m);T=1<<Y,Y=a[Y],Y>x&&(x=Y),m&=~T}if(m=x,m=Dn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*x0(m/1960))-m,10<m){r.timeoutHandle=Mu(fc.bind(null,r,zs,No),m);break}fc(r,zs,No);break;case 5:fc(r,zs,No);break;default:throw Error(t(329))}}}return Us(r,Dn()),r.callbackNode===u?tg.bind(null,r):null}function Af(r,a){var u=Qu;return r.current.memoizedState.isDehydrated&&(hc(r,a).flags|=256),r=nh(r,a),r!==2&&(a=zs,zs=u,a!==null&&Pf(a)),r}function Pf(r){zs===null?zs=r:zs.push.apply(zs,r)}function j0(r){for(var a=r;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],T=x.getSnapshot;x=x.value;try{if(!rn(T(),x))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wl(r,a){for(a&=~Nf,a&=~Jd,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var u=31-ms(a),m=1<<u;r[u]=-1,a&=~m}}function ng(r){if((sn&6)!==0)throw Error(t(327));cu();var a=Qr(r,0);if((a&1)===0)return Us(r,Dn()),null;var u=nh(r,a);if(r.tag!==0&&u===2){var m=Xa(r);m!==0&&(a=m,u=Af(r,m))}if(u===1)throw u=Ju,hc(r,0),wl(r,a),Us(r,Dn()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,fc(r,zs,No),Us(r,Dn()),null}function Ef(r,a){var u=sn;sn|=1;try{return r(a)}finally{sn=u,sn===0&&(lu=Dn()+500,ac&&I())}}function dc(r){_l!==null&&_l.tag===0&&(sn&6)===0&&cu();var a=sn;sn|=1;var u=Ai.transition,m=nn;try{if(Ai.transition=null,nn=1,r)return r()}finally{nn=m,Ai.transition=u,sn=a,(sn&6)===0&&I()}}function Tf(){ai=ou.current,mn(ou)}function hc(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Id(u)),gr!==null)for(u=gr.return;u!==null;){var m=u;switch(we(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Kc();break;case 3:Si(),mn(rs),mn(br),Wu();break;case 5:Uu(m);break;case 4:Si();break;case 13:mn(Sn);break;case 19:mn(Sn);break;case 10:is(m.type._context);break;case 22:case 23:Tf()}u=u.return}if(Dr=r,gr=r=xl(r.current,null),Hr=ai=a,xr=0,Ju=null,Nf=Jd=uc=0,zs=Qu=null,bs!==null){for(a=0;a<bs.length;a++)if(u=bs[a],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,T=u.pending;if(T!==null){var Y=T.next;T.next=x,m.next=Y}u.pending=m}bs=null}return r}function rg(r,a){do{var u=gr;try{if(wr(),Jc.current=Ud,pl){for(var m=Pn.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}pl=!1}if(Ci=0,Kn=Zn=Pn=null,Yi=!1,ml=0,kf.current=null,u===null||u.return===null){xr=1,Ju=a,gr=null;break}e:{var T=r,Y=u.return,fe=u,be=a;if(a=Hr,fe.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ee=be,Ke=fe,Qe=Ke.tag;if((Ke.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ge=Ke.alternate;Ge?(Ke.updateQueue=Ge.updateQueue,Ke.memoizedState=Ge.memoizedState,Ke.lanes=Ge.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var ct=Lm(Y);if(ct!==null){ct.flags&=-257,Am(ct,Y,fe,T,a),ct.mode&1&&Cm(T,Ee,a),a=ct,be=Ee;var ht=a.updateQueue;if(ht===null){var ft=new Set;ft.add(be),a.updateQueue=ft}else ht.add(be);break e}else{if((a&1)===0){Cm(T,Ee,a),Of();break e}be=Error(t(426))}}else if(Me&&fe.mode&1){var or=Lm(Y);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),Am(or,Y,fe,T,a),gn(iu(be,fe));break e}}T=be=iu(be,fe),xr!==4&&(xr=2),Qu===null?Qu=[T]:Qu.push(T),T=Y;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var Ae=Nm(T,be,a);$s(T,Ae);break e;case 1:fe=be;var je=T.type,Pe=T.stateNode;if((T.flags&128)===0&&(typeof je.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(yl===null||!yl.has(Pe)))){T.flags|=65536,a&=-a,T.lanes|=a;var Ze=Sm(T,fe,a);$s(T,Ze);break e}}T=T.return}while(T!==null)}ag(u)}catch(mt){a=mt,gr===u&&u!==null&&(gr=u=u.return);continue}break}while(!0)}function sg(){var r=Yd.current;return Yd.current=Ud,r===null?Ud:r}function Of(){(xr===0||xr===3||xr===2)&&(xr=4),Dr===null||(uc&268435455)===0&&(Jd&268435455)===0||wl(Dr,Hr)}function nh(r,a){var u=sn;sn|=2;var m=sg();(Dr!==r||Hr!==a)&&(No=null,hc(r,a));do try{k0();break}catch(x){rg(r,x)}while(!0);if(wr(),sn=u,Yd.current=m,gr!==null)throw Error(t(261));return Dr=null,Hr=0,xr}function k0(){for(;gr!==null;)ig(gr)}function N0(){for(;gr!==null&&!Oo();)ig(gr)}function ig(r){var a=cg(r.alternate,r,ai);r.memoizedProps=r.pendingProps,a===null?ag(r):gr=a,kf.current=null}function ag(r){var a=r;do{var u=a.alternate;if(r=a.return,(a.flags&32768)===0){if(u=v0(u,a,ai),u!==null){gr=u;return}}else{if(u=y0(u,a),u!==null){u.flags&=32767,gr=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xr=6,gr=null;return}}if(a=a.sibling,a!==null){gr=a;return}gr=a=r}while(a!==null);xr===0&&(xr=5)}function fc(r,a,u){var m=nn,x=Ai.transition;try{Ai.transition=null,nn=1,S0(r,a,u,m)}finally{Ai.transition=x,nn=m}return null}function S0(r,a,u,m){do cu();while(_l!==null);if((sn&6)!==0)throw Error(t(327));u=r.finishedWork;var x=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var T=u.lanes|u.childLanes;if(Iu(r,T),r===Dr&&(gr=Dr=null,Hr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Xd||(Xd=!0,ug(Io,function(){return cu(),null})),T=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||T){T=Ai.transition,Ai.transition=null;var Y=nn;nn=1;var fe=sn;sn|=4,kf.current=null,b0(r,u),Jm(u,r),ho(vo),zo=!!sc,vo=sc=null,r.current=u,w0(u),Ic(),sn=fe,nn=Y,Ai.transition=T}else r.current=u;if(Xd&&(Xd=!1,_l=r,Zd=x),T=r.pendingLanes,T===0&&(yl=null),Do(u.stateNode),Us(r,Dn()),a!==null)for(m=r.onRecoverableError,u=0;u<a.length;u++)x=a[u],m(x.value,{componentStack:x.stack,digest:x.digest});if(Qd)throw Qd=!1,r=Cf,Cf=null,r;return(Zd&1)!==0&&r.tag!==0&&cu(),T=r.pendingLanes,(T&1)!==0?r===Lf?Xu++:(Xu=0,Lf=r):Xu=0,I(),null}function cu(){if(_l!==null){var r=Mo(Zd),a=Ai.transition,u=nn;try{if(Ai.transition=null,nn=16>r?16:r,_l===null)var m=!1;else{if(r=_l,_l=null,Zd=0,(sn&6)!==0)throw Error(t(331));var x=sn;for(sn|=4,ut=r.current;ut!==null;){var T=ut,Y=T.child;if((ut.flags&16)!==0){var fe=T.deletions;if(fe!==null){for(var be=0;be<fe.length;be++){var Ee=fe[be];for(ut=Ee;ut!==null;){var Ke=ut;switch(Ke.tag){case 0:case 11:case 15:Yu(8,Ke,T)}var Qe=Ke.child;if(Qe!==null)Qe.return=Ke,ut=Qe;else for(;ut!==null;){Ke=ut;var Ge=Ke.sibling,ct=Ke.return;if(Wm(Ke),Ke===Ee){ut=null;break}if(Ge!==null){Ge.return=ct,ut=Ge;break}ut=ct}}}var ht=T.alternate;if(ht!==null){var ft=ht.child;if(ft!==null){ht.child=null;do{var or=ft.sibling;ft.sibling=null,ft=or}while(ft!==null)}}ut=T}}if((T.subtreeFlags&2064)!==0&&Y!==null)Y.return=T,ut=Y;else e:for(;ut!==null;){if(T=ut,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Yu(9,T,T.return)}var Ae=T.sibling;if(Ae!==null){Ae.return=T.return,ut=Ae;break e}ut=T.return}}var je=r.current;for(ut=je;ut!==null;){Y=ut;var Pe=Y.child;if((Y.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=Y,ut=Pe;else e:for(Y=je;ut!==null;){if(fe=ut,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Kd(9,fe)}}catch(mt){er(fe,fe.return,mt)}if(fe===Y){ut=null;break e}var Ze=fe.sibling;if(Ze!==null){Ze.return=fe.return,ut=Ze;break e}ut=fe.return}}if(sn=x,I(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(Ya,r)}catch{}m=!0}return m}finally{nn=u,Ai.transition=a}}return!1}function og(r,a,u){a=iu(u,a),a=Nm(r,a,1),r=Bs(r,a,1),a=Ns(),r!==null&&(va(r,1,a),Us(r,a))}function er(r,a,u){if(r.tag===3)og(r,r,u);else for(;a!==null;){if(a.tag===3){og(a,r,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(yl===null||!yl.has(m))){r=iu(u,r),r=Sm(a,r,1),a=Bs(a,r,1),r=Ns(),a!==null&&(va(a,1,r),Us(a,r));break}}a=a.return}}function C0(r,a,u){var m=r.pingCache;m!==null&&m.delete(a),a=Ns(),r.pingedLanes|=r.suspendedLanes&u,Dr===r&&(Hr&u)===u&&(xr===4||xr===3&&(Hr&130023424)===Hr&&500>Dn()-Sf?hc(r,0):Nf|=u),Us(r,a)}function lg(r,a){a===0&&((r.mode&1)===0?a=1:(a=ga,ga<<=1,(ga&130023424)===0&&(ga=4194304)));var u=Ns();r=cn(r,a),r!==null&&(va(r,a,u),Us(r,u))}function L0(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),lg(r,u)}function A0(r,a){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),lg(r,u)}var cg;cg=function(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps||rs.current)qs=!0;else{if((r.lanes&u)===0&&(a.flags&128)===0)return qs=!1,g0(r,a,u);qs=(r.flags&131072)!==0}else qs=!1,Me&&(a.flags&1048576)!==0&&We(a,ne,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Vd(r,a),r=a.pendingProps;var x=ul(a,br.current);$n(a,u),x=oc(null,a,m,r,x,u);var T=Li();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ss(m)?(T=!0,bo(a)):T=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Yc(a),x.updater=Hd,a.stateNode=x,x._reactInternals=a,uf(a,m,r,u),a=pf(null,a,m,!0,T,u)):(a.tag=0,Me&&T&&Te(a),ks(null,a,x,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Vd(r,a),r=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=E0(m),r=Qi(m,r),x){case 0:a=ff(null,a,m,r,u);break e;case 1:a=Dm(null,a,m,r,u);break e;case 11:a=Pm(null,a,m,r,u);break e;case 14:a=Em(null,a,m,Qi(m.type,r),u);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Qi(m,x),ff(r,a,m,x,u);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Qi(m,x),Dm(r,a,m,x,u);case 3:e:{if(Rm(a),r===null)throw Error(t(387));m=a.pendingProps,T=a.memoizedState,x=T.element,zu(r,a),Gi(a,m,null,u);var Y=a.memoizedState;if(m=Y.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){x=iu(Error(t(423)),a),a=Fm(r,a,m,u,x);break e}else if(m!==x){x=iu(Error(t(424)),a),a=Fm(r,a,m,u,x);break e}else for(Be=qr(a.stateNode.containerInfo.firstChild),xe=a,Me=!0,qe=null,u=ln(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(qt(),m===x){a=ko(r,a,u);break e}ks(r,a,m,u)}a=a.child}return a;case 5:return Md(a),r===null&&rt(a),m=a.type,x=a.pendingProps,T=r!==null?r.memoizedProps:null,Y=x.children,Fu(m,x)?Y=null:T!==null&&Fu(m,T)&&(a.flags|=32),Im(r,a),ks(r,a,Y,u),a.child;case 6:return r===null&&rt(a),null;case 13:return Mm(r,a,u);case 4:return fl(a,a.stateNode.containerInfo),m=a.pendingProps,r===null?a.child=sr(a,null,m,u):ks(r,a,m,u),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Qi(m,x),Pm(r,a,m,x,u);case 7:return ks(r,a,a.pendingProps,u),a.child;case 8:return ks(r,a,a.pendingProps.children,u),a.child;case 12:return ks(r,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,T=a.memoizedProps,Y=x.value,vn(Or,m._currentValue),m._currentValue=Y,T!==null)if(rn(T.value,Y)){if(T.children===x.children&&!rs.current){a=ko(r,a,u);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var fe=T.dependencies;if(fe!==null){Y=T.child;for(var be=fe.firstContext;be!==null;){if(be.context===m){if(T.tag===1){be=Ms(-1,u&-u),be.tag=2;var Ee=T.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ke=Ee.pending;Ke===null?be.next=be:(be.next=Ke.next,Ke.next=be),Ee.pending=be}}T.lanes|=u,be=T.alternate,be!==null&&(be.lanes|=u),Fs(T.return,u,a),fe.lanes|=u;break}be=be.next}}else if(T.tag===10)Y=T.type===a.type?null:T.child;else if(T.tag===18){if(Y=T.return,Y===null)throw Error(t(341));Y.lanes|=u,fe=Y.alternate,fe!==null&&(fe.lanes|=u),Fs(Y,u,a),Y=T.sibling}else Y=T.child;if(Y!==null)Y.return=T;else for(Y=T;Y!==null;){if(Y===a){Y=null;break}if(T=Y.sibling,T!==null){T.return=Y.return,Y=T;break}Y=Y.return}T=Y}ks(r,a,x.children,u),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,$n(a,u),x=Xn(x),m=m(x),a.flags|=1,ks(r,a,m,u),a.child;case 14:return m=a.type,x=Qi(m,a.pendingProps),x=Qi(m.type,x),Em(r,a,m,x,u);case 15:return Tm(r,a,a.type,a.pendingProps,u);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Qi(m,x),Vd(r,a),a.tag=1,ss(m)?(r=!0,bo(a)):r=!1,$n(a,u),jm(a,m,x),uf(a,m,x,u),pf(null,a,m,!0,r,u);case 19:return $m(r,a,u);case 22:return Om(r,a,u)}throw Error(t(156,a.tag))};function ug(r,a){return Ga(r,a)}function P0(r,a,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(r,a,u,m){return new P0(r,a,u,m)}function If(r){return r=r.prototype,!(!r||!r.isReactComponent)}function E0(r){if(typeof r=="function")return If(r)?1:0;if(r!=null){if(r=r.$$typeof,r===R)return 11;if(r===ue)return 14}return 2}function xl(r,a){var u=r.alternate;return u===null?(u=Pi(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function rh(r,a,u,m,x,T){var Y=2;if(m=r,typeof r=="function")If(r)&&(Y=1);else if(typeof r=="string")Y=5;else e:switch(r){case q:return pc(u.children,x,T,a);case B:Y=8,x|=8;break;case te:return r=Pi(12,u,a,x|2),r.elementType=te,r.lanes=T,r;case ee:return r=Pi(13,u,a,x),r.elementType=ee,r.lanes=T,r;case G:return r=Pi(19,u,a,x),r.elementType=G,r.lanes=T,r;case X:return sh(u,x,T,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case le:Y=10;break e;case F:Y=9;break e;case R:Y=11;break e;case ue:Y=14;break e;case $:Y=16,m=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return a=Pi(Y,u,a,x),a.elementType=r,a.type=m,a.lanes=T,a}function pc(r,a,u,m){return r=Pi(7,r,m,a),r.lanes=u,r}function sh(r,a,u,m){return r=Pi(22,r,m,a),r.elementType=X,r.lanes=u,r.stateNode={isHidden:!1},r}function Df(r,a,u){return r=Pi(6,r,null,a),r.lanes=u,r}function Rf(r,a,u){return a=Pi(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function T0(r,a,u,m,x){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ff(r,a,u,m,x,T,Y,fe,be){return r=new T0(r,a,u,fe,be),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Pi(3,null,null,a),r.current=T,T.stateNode=r,T.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(T),r}function O0(r,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:m==null?null:""+m,children:r,containerInfo:a,implementation:u}}function dg(r){if(!r)return Ea;r=r._reactInternals;e:{if(yr(r)!==r||r.tag!==1)throw Error(t(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ss(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(ss(u))return qu(r,u,a)}return a}function hg(r,a,u,m,x,T,Y,fe,be){return r=Ff(u,m,!0,r,x,T,Y,fe,be),r.context=dg(null),u=r.current,m=Ns(),x=bl(u),T=Ms(m,x),T.callback=a??null,Bs(u,T,x),r.current.lanes=x,va(r,x,m),Us(r,m),r}function ih(r,a,u,m){var x=a.current,T=Ns(),Y=bl(x);return u=dg(u),a.context===null?a.context=u:a.pendingContext=u,a=Ms(T,Y),a.payload={element:r},m=m===void 0?null:m,m!==null&&(a.callback=m),r=Bs(x,a,Y),r!==null&&(ea(r,x,Y,T),wo(r,x,Y)),Y}function ah(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fg(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Mf(r,a){fg(r,a),(r=r.alternate)&&fg(r,a)}function I0(){return null}var pg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bf(r){this._internalRoot=r}oh.prototype.render=Bf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(t(409));ih(r,a,null,null)},oh.prototype.unmount=Bf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;dc(function(){ih(null,r,null,null)}),a[Tr]=null}};function oh(r){this._internalRoot=r}oh.prototype.unstable_scheduleHydration=function(r){if(r){var a=mi();r={blockedOn:null,target:r,priority:a};for(var u=0;u<vi.length&&a!==0&&a<vi[u].priority;u++);vi.splice(u,0,r),u===0&&$o(r)}};function $f(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mg(){}function D0(r,a,u,m,x){if(x){if(typeof m=="function"){var T=m;m=function(){var Ee=ah(Y);T.call(Ee)}}var Y=hg(a,m,r,0,null,!1,!1,"",mg);return r._reactRootContainer=Y,r[Tr]=Y.current,mo(r.nodeType===8?r.parentNode:r),dc(),Y}for(;x=r.lastChild;)r.removeChild(x);if(typeof m=="function"){var fe=m;m=function(){var Ee=ah(be);fe.call(Ee)}}var be=Ff(r,0,!1,null,null,!1,!1,"",mg);return r._reactRootContainer=be,r[Tr]=be.current,mo(r.nodeType===8?r.parentNode:r),dc(function(){ih(a,be,u,m)}),be}function ch(r,a,u,m,x){var T=u._reactRootContainer;if(T){var Y=T;if(typeof x=="function"){var fe=x;x=function(){var be=ah(Y);fe.call(be)}}ih(a,Y,r,x)}else Y=D0(u,a,r,x,m);return ah(Y)}Mc=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var u=Qa(a.pendingLanes);u!==0&&(Fo(a,u|1),Us(a,Dn()),(sn&6)===0&&(lu=Dn()+500,I()))}break;case 13:dc(function(){var m=cn(r,1);if(m!==null){var x=Ns();ea(m,r,1,x)}}),Mf(r,1)}},zl=function(r){if(r.tag===13){var a=cn(r,134217728);if(a!==null){var u=Ns();ea(a,r,134217728,u)}Mf(r,134217728)}},Bc=function(r){if(r.tag===13){var a=bl(r),u=cn(r,a);if(u!==null){var m=Ns();ea(u,r,a,m)}Mf(r,a)}},mi=function(){return nn},Za=function(r,a){var u=nn;try{return nn=r,a()}finally{nn=u}},An=function(r,a,u){switch(a){case"input":if(De(r,u),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==r&&m.form===r.form){var x=ic(m);if(!x)throw Error(t(90));Ue(m),De(m,x)}}}break;case"textarea":Ot(r,u);break;case"select":a=u.value,a!=null&&st(r,!!u.multiple,a,!1)}},ha=Ef,pr=dc;var R0={usingClientEntryPoint:!1,Events:[cl,yo,ic,It,tn,Ef]},Zu={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pa(r),r===null?null:r.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Ya=uh.inject(F0),Es=uh}catch{}}return Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R0,Hs.createPortal=function(r,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(a))throw Error(t(200));return O0(r,a,null,u)},Hs.createRoot=function(r,a){if(!$f(r))throw Error(t(299));var u=!1,m="",x=pg;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ff(r,1,!1,null,null,u,!1,m,x),r[Tr]=a.current,mo(r.nodeType===8?r.parentNode:r),new Bf(a)},Hs.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=pa(a),r=r===null?null:r.stateNode,r},Hs.flushSync=function(r){return dc(r)},Hs.hydrate=function(r,a,u){if(!lh(a))throw Error(t(200));return ch(null,r,a,!0,u)},Hs.hydrateRoot=function(r,a,u){if(!$f(r))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,x=!1,T="",Y=pg;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onRecoverableError!==void 0&&(Y=u.onRecoverableError)),a=hg(a,null,r,1,u??null,x,!1,T,Y),r[Tr]=a.current,mo(r),m)for(r=0;r<m.length;r++)u=m[r],x=u._getVersion,x=x(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,x]:a.mutableSourceEagerHydrationData.push(u,x);return new oh(a)},Hs.render=function(r,a,u){if(!lh(a))throw Error(t(200));return ch(null,r,a,!1,u)},Hs.unmountComponentAtNode=function(r){if(!lh(r))throw Error(t(40));return r._reactRootContainer?(dc(function(){ch(null,null,r,!1,function(){r._reactRootContainer=null,r[Tr]=null})}),!0):!1},Hs.unstable_batchedUpdates=Ef,Hs.unstable_renderSubtreeIntoContainer=function(r,a,u,m){if(!lh(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ch(r,a,u,!1,m)},Hs.version="18.3.1-next-f1338f8080-20240426",Hs}var jg;function K0(){if(jg)return Uf.exports;jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uf.exports=G0(),Uf.exports}var kg;function Y0(){if(kg)return dh;kg=1;var n=K0();return dh.createRoot=n.createRoot,dh.hydrateRoot=n.hydrateRoot,dh}var J0=Y0();const Q0=F1(J0);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ng="popstate";function X0(n={}){function e(s,l){let{pathname:o,search:c,hash:f}=s.location;return wp("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:pd(l)}return e2(e,t,null,n)}function Wn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z0(){return Math.random().toString(36).substring(2,10)}function Sg(n,e){return{usr:n.state,key:n.key,idx:e}}function wp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Au(e):e,state:t,key:e&&e.key||s||Z0()}}function pd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Au(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function e2(n,e,t,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,c=l.history,f="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let L=y(),S=L==null?null:L-p;p=L,d&&d({action:f,location:P.location,delta:S})}function b(L,S){f="PUSH";let k=wp(P.location,L,S);p=y()+1;let A=Sg(k,p),E=P.createHref(k);try{c.pushState(A,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;l.location.assign(E)}o&&d&&d({action:f,location:P.location,delta:1})}function v(L,S){f="REPLACE";let k=wp(P.location,L,S);p=y();let A=Sg(k,p),E=P.createHref(k);c.replaceState(A,"",E),o&&d&&d({action:f,location:P.location,delta:0})}function C(L){return t2(L)}let P={get action(){return f},get location(){return n(l,c)},listen(L){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(Ng,_),d=L,()=>{l.removeEventListener(Ng,_),d=null}},createHref(L){return e(l,L)},createURL:C,encodeLocation(L){let S=C(L);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:v,go(L){return c.go(L)}};return P}function t2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wn(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:pd(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function M1(n,e,t="/"){return n2(n,e,t,!1)}function n2(n,e,t,s){let l=typeof e=="string"?Au(e):e,o=Po(l.pathname||"/",t);if(o==null)return null;let c=B1(n);r2(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=p2(o);f=h2(c[d],p,s)}return f}function B1(n,e=[],t=[],s="",l=!1){let o=(c,f,d=l,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;Wn(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Lo([s,y.relativePath]),b=t.concat(y);c.children&&c.children.length>0&&(Wn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),B1(c.children,e,b,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:u2(_,c.index),routesMeta:b})};return n.forEach((c,f)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,f);else for(let p of $1(c.path))o(c,f,!0,p)}),e}function $1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let c=$1(s.join("/")),f=[];return f.push(...c.map(d=>d===""?o:[o,d].join("/"))),l&&f.push(...c),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function r2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:d2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var s2=/^:[\w-]+$/,i2=3,a2=2,o2=1,l2=10,c2=-2,Cg=n=>n==="*";function u2(n,e){let t=n.split("/"),s=t.length;return t.some(Cg)&&(s+=c2),e&&(s+=a2),t.filter(l=>!Cg(l)).reduce((l,o)=>l+(s2.test(o)?i2:o===""?o2:l2),s)}function d2(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function h2(n,e,t=!1){let{routesMeta:s}=n,l={},o="/",c=[];for(let f=0;f<s.length;++f){let d=s[f],p=f===s.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!_&&p&&t&&!s[s.length-1].route.index&&(_=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),c.push({params:l,pathname:Lo([o,_.pathname]),pathnameBase:y2(Lo([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Lo([o,_.pathnameBase]))}return c}function Ih(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=f2(n.path,n.caseSensitive,n.end),l=e.match(t);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let C=f[b]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const v=f[b];return _&&!v?p[y]=void 0:p[y]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function f2(n,e=!1,t=!0){hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(s.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function p2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Po(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=n=>q1.test(n);function g2(n,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof n=="string"?Au(n):n,o;if(t)if(m2(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),hi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Lg(t.substring(1),"/"):o=Lg(t,e)}else o=e;return{pathname:o,search:_2(s),hash:b2(l)}}function Lg(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Vf(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jp(n){let e=v2(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Qp(n,e,t,s=!1){let l;typeof n=="string"?l=Au(n):(l={...n},Wn(!l.pathname||!l.pathname.includes("?"),Vf("?","pathname","search",l)),Wn(!l.pathname||!l.pathname.includes("#"),Vf("#","pathname","hash",l)),Wn(!l.search||!l.search.includes("#"),Vf("#","search","hash",l)));let o=n===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;l.pathname=b.join("/")}f=_>=0?e[_]:"/"}let d=g2(l,f),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Lo=n=>n.join("/").replace(/\/\/+/g,"/"),y2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,b2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,w2=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function x2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function j2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function U1(n,e){let t=n;if(typeof t!="string"||!q1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,l=!1;if(z1)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),f=Po(c.pathname,e);c.origin===o.origin&&f!=null?t=f+c.search+c.hash:l=!0}catch{hi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H1=["POST","PUT","PATCH","DELETE"];new Set(H1);var k2=["GET",...H1];new Set(k2);var Pu=ae.createContext(null);Pu.displayName="DataRouter";var Uh=ae.createContext(null);Uh.displayName="DataRouterState";var N2=ae.createContext(!1),W1=ae.createContext({isTransitioning:!1});W1.displayName="ViewTransition";var S2=ae.createContext(new Map);S2.displayName="Fetchers";var C2=ae.createContext(null);C2.displayName="Await";var fi=ae.createContext(null);fi.displayName="Navigation";var Sd=ae.createContext(null);Sd.displayName="Location";var Ei=ae.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Xp=ae.createContext(null);Xp.displayName="RouteError";var V1="REACT_ROUTER_ERROR",L2="REDIRECT",A2="ROUTE_ERROR_RESPONSE";function P2(n){if(n.startsWith(`${V1}:${L2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function E2(n){if(n.startsWith(`${V1}:${A2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new w2(e.status,e.statusText,e.data)}catch{}}function T2(n,{relative:e}={}){Wn(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ae.useContext(fi),{hash:l,pathname:o,search:c}=Cd(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Lo([t,o])),s.createHref({pathname:f,search:c,hash:l})}function Eu(){return ae.useContext(Sd)!=null}function Ha(){return Wn(Eu(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Sd).location}var G1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K1(n){ae.useContext(fi).static||ae.useLayoutEffect(n)}function Gr(){let{isDataRoute:n}=ae.useContext(Ei);return n?G2():O2()}function O2(){Wn(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let n=ae.useContext(Pu),{basename:e,navigator:t}=ae.useContext(fi),{matches:s}=ae.useContext(Ei),{pathname:l}=Ha(),o=JSON.stringify(Jp(s)),c=ae.useRef(!1);return K1(()=>{c.current=!0}),ae.useCallback((d,p={})=>{if(hi(c.current,G1),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=Qp(d,JSON.parse(o),l,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Lo([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,l,n])}var I2=ae.createContext(null);function D2(n){let e=ae.useContext(Ei).outlet;return ae.useMemo(()=>e&&ae.createElement(I2.Provider,{value:n},e),[e,n])}function Tu(){let{matches:n}=ae.useContext(Ei),e=n[n.length-1];return e?e.params:{}}function Cd(n,{relative:e}={}){let{matches:t}=ae.useContext(Ei),{pathname:s}=Ha(),l=JSON.stringify(Jp(t));return ae.useMemo(()=>Qp(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function R2(n,e){return Y1(n,e)}function Y1(n,e,t,s,l){var k;Wn(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ae.useContext(fi),{matches:c}=ae.useContext(Ei),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let A=_&&_.path||"";Q1(p,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Ha(),v;if(e){let A=typeof e=="string"?Au(e):e;Wn(y==="/"||((k=A.pathname)==null?void 0:k.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=b;let C=v.pathname||"/",P=C;if(y!=="/"){let A=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let L=M1(n,{pathname:P});hi(_||L!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=q2(L&&L.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Lo([y,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:Lo([y,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,t,s,l);return e&&S?ae.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function F2(){let n=V2(),e=x2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:o},"ErrorBoundary")," or"," ",ae.createElement("code",{style:o},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?ae.createElement("pre",{style:l},t):null,c)}var M2=ae.createElement(F2,null),J1=class extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=E2(n.digest);t&&(n=t)}let e=n!==void 0?ae.createElement(Ei.Provider,{value:this.props.routeContext},ae.createElement(Xp.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ae.createElement(B2,{error:n},e):e}};J1.contextType=N2;var Gf=new WeakMap;function B2({children:n,error:e}){let{basename:t}=ae.useContext(fi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=P2(e.digest);if(s){let l=Gf.get(e);if(l)throw l;let o=U1(s.location,t);if(z1&&!Gf.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw Gf.set(e,c),c}return ae.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function $2({routeContext:n,match:e,children:t}){let s=ae.useContext(Pu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(Ei.Provider,{value:n},t)}function q2(n,e=[],t=null,s=null,l=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Wn(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:b,errors:v}=t,C=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!v||v[_.route.id]===void 0);if(_.route.lazy||C){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=t&&s?(y,_)=>{var b,v;s(y,{location:t.location,params:((v=(b=t.matches)==null?void 0:b[0])==null?void 0:v.params)??{},unstable_pattern:j2(t.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,b)=>{let v,C=!1,P=null,L=null;t&&(v=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||M2,f&&(d<0&&b===0?(Q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):d===b&&(C=!0,L=_.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,b+1)),k=()=>{let A;return v?A=P:C?A=L:_.route.Component?A=ae.createElement(_.route.Component,null):_.route.element?A=_.route.element:A=y,ae.createElement($2,{match:_,routeContext:{outlet:y,matches:S,isDataRoute:t!=null},children:A})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?ae.createElement(J1,{location:t.location,revalidation:t.revalidation,component:P,error:v,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:p}):k()},null)}function Zp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z2(n){let e=ae.useContext(Pu);return Wn(e,Zp(n)),e}function U2(n){let e=ae.useContext(Uh);return Wn(e,Zp(n)),e}function H2(n){let e=ae.useContext(Ei);return Wn(e,Zp(n)),e}function em(n){let e=H2(n),t=e.matches[e.matches.length-1];return Wn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function W2(){return em("useRouteId")}function V2(){var s;let n=ae.useContext(Xp),e=U2("useRouteError"),t=em("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function G2(){let{router:n}=z2("useNavigate"),e=em("useNavigate"),t=ae.useRef(!1);return K1(()=>{t.current=!0}),ae.useCallback(async(l,o={})=>{hi(t.current,G1),t.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:e,...o}))},[n,e])}var Ag={};function Q1(n,e,t){!e&&!Ag[n]&&(Ag[n]=!0,hi(!1,t))}ae.memo(K2);function K2({routes:n,future:e,state:t,onError:s}){return Y1(n,void 0,t,s,e)}function Il({to:n,replace:e,state:t,relative:s}){Wn(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=ae.useContext(fi);hi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ae.useContext(Ei),{pathname:c}=Ha(),f=Gr(),d=Qp(n,Jp(o),c,s==="path"),p=JSON.stringify(d);return ae.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:s})},[f,p,s,e,t]),null}function X1(n){return D2(n.context)}function fn(n){Wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y2({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:o=!1,unstable_useTransitions:c}){Wn(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),d=ae.useMemo(()=>({basename:f,navigator:l,static:o,unstable_useTransitions:c,future:{}}),[f,l,o,c]);typeof t=="string"&&(t=Au(t));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:v="default"}=t,C=ae.useMemo(()=>{let P=Po(p,f);return P==null?null:{location:{pathname:P,search:y,hash:_,state:b,key:v},navigationType:s}},[f,p,y,_,b,v,s]);return hi(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:ae.createElement(fi.Provider,{value:d},ae.createElement(Sd.Provider,{children:e,value:C}))}function J2({children:n,location:e}){return R2(xp(n),e)}function xp(n,e=[]){let t=[];return ae.Children.forEach(n,(s,l)=>{if(!ae.isValidElement(s))return;let o=[...e,l];if(s.type===ae.Fragment){t.push.apply(t,xp(s.props.children,o));return}Wn(s.type===fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=xp(s.props.children,o)),t.push(c)}),t}var Ah="get",Ph="application/x-www-form-urlencoded";function Hh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Q2(n){return Hh(n)&&n.tagName.toLowerCase()==="button"}function X2(n){return Hh(n)&&n.tagName.toLowerCase()==="form"}function Z2(n){return Hh(n)&&n.tagName.toLowerCase()==="input"}function ey(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ty(n,e){return n.button===0&&(!e||e==="_self")&&!ey(n)}function jp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(l=>[t,l]):[[t,s]])},[]))}function ny(n,e){let t=jp(n);return e&&e.forEach((s,l)=>{t.has(l)||e.getAll(l).forEach(o=>{t.append(l,o)})}),t}var hh=null;function ry(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var sy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(n){return n!=null&&!sy.has(n)?(hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):n}function iy(n,e){let t,s,l,o,c;if(X2(n)){let f=n.getAttribute("action");s=f?Po(f,e):null,t=n.getAttribute("method")||Ah,l=Kf(n.getAttribute("enctype"))||Ph,o=new FormData(n)}else if(Q2(n)||Z2(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(s=d?Po(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Ah,l=Kf(n.getAttribute("formenctype"))||Kf(f.getAttribute("enctype"))||Ph,o=new FormData(f,n),!ry()){let{name:p,type:y,value:_}=n;if(y==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,_)}}else{if(Hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ah,s=null,l=Ph,c=n}return o&&l==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ay(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Po(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function oy(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ly(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cy(n,e,t){let s=await Promise.all(n.map(async l=>{let o=e.routes[l.route.id];if(o){let c=await oy(o,t);return c.links?c.links():[]}return[]}));return fy(s.flat(1).filter(ly).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Pg(n,e,t,s,l,o){let c=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,f=(d,p)=>{var y;return t[p].pathname!==d.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>c(d,p)||f(d,p)):o==="data"?e.filter((d,p)=>{var _;let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function uy(n,e,{includeHydrateFallback:t}={}){return dy(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function dy(n){return[...new Set(n)]}function hy(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function fy(n,e){let t=new Set;return new Set(e),n.reduce((s,l)=>{let o=JSON.stringify(hy(l));return t.has(o)||(t.add(o),s.push({key:o,link:l})),s},[])}function Z1(){let n=ae.useContext(Pu);return tm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function py(){let n=ae.useContext(Uh);return tm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var nm=ae.createContext(void 0);nm.displayName="FrameworkContext";function ev(){let n=ae.useContext(nm);return tm(n,"You must render this element inside a <HydratedRouter> element"),n}function my(n,e){let t=ae.useContext(nm),[s,l]=ae.useState(!1),[o,c]=ae.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=ae.useRef(null);ae.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=S=>{S.forEach(k=>{c(k.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[n]),ae.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let v=()=>{l(!0)},C=()=>{l(!1),c(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:td(f,v),onBlur:td(d,C),onMouseEnter:td(p,v),onMouseLeave:td(y,C),onTouchStart:td(_,v)}]:[!1,b,{}]}function td(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gy({page:n,...e}){let{router:t}=Z1(),s=ae.useMemo(()=>M1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?ae.createElement(yy,{page:n,matches:s,...e}):null}function vy(n){let{manifest:e,routeModules:t}=ev(),[s,l]=ae.useState([]);return ae.useEffect(()=>{let o=!1;return cy(n,e,t).then(c=>{o||l(c)}),()=>{o=!0}},[n,e,t]),s}function yy({page:n,matches:e,...t}){let s=Ha(),{manifest:l,routeModules:o}=ev(),{basename:c}=Z1(),{loaderData:f,matches:d}=py(),p=ae.useMemo(()=>Pg(n,e,d,l,s,"data"),[n,e,d,l,s]),y=ae.useMemo(()=>Pg(n,e,d,l,s,"assets"),[n,e,d,l,s]),_=ae.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,P=!1;if(e.forEach(S=>{var A;let k=l.routes[S.route.id];!k||!k.hasLoader||(!p.some(E=>E.route.id===S.route.id)&&S.route.id in f&&((A=o[S.route.id])!=null&&A.shouldRevalidate)||k.hasClientLoader?P=!0:C.add(S.route.id))}),C.size===0)return[];let L=ay(n,c,"data");return P&&C.size>0&&L.searchParams.set("_routes",e.filter(S=>C.has(S.route.id)).map(S=>S.route.id).join(",")),[L.pathname+L.search]},[c,f,s,l,p,e,n,o]),b=ae.useMemo(()=>uy(y,l),[y,l]),v=vy(y);return ae.createElement(ae.Fragment,null,_.map(C=>ae.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>ae.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:P})=>ae.createElement("link",{key:C,nonce:t.nonce,...P})))}function _y(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var by=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{by&&(window.__reactRouterVersion="7.11.0")}catch{}function wy({basename:n,children:e,unstable_useTransitions:t,window:s}){let l=ae.useRef();l.current==null&&(l.current=X0({window:s,v5Compat:!0}));let o=l.current,[c,f]=ae.useState({action:o.action,location:o.location}),d=ae.useCallback(p=>{t===!1?f(p):ae.startTransition(()=>f(p))},[t]);return ae.useLayoutEffect(()=>o.listen(d),[o,d]),ae.createElement(Y2,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=ae.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:o,replace:c,state:f,target:d,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...v},C){let{basename:P,unstable_useTransitions:L}=ae.useContext(fi),S=typeof p=="string"&&tv.test(p),k=U1(p,P);p=k.to;let A=T2(p,{relative:l}),[E,U,Z]=my(s,v),q=ky(p,{replace:c,state:f,target:d,preventScrollReset:y,relative:l,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:L});function B(le){e&&e(le),le.defaultPrevented||q(le)}let te=ae.createElement("a",{...v,...Z,href:k.absoluteURL||A,onClick:k.isExternal||o?e:B,ref:_y(C,U),target:d,"data-discover":!S&&t==="render"?"true":void 0});return E&&!S?ae.createElement(ae.Fragment,null,te,ae.createElement(gy,{page:A})):te});on.displayName="Link";var Eh=ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:o,to:c,viewTransition:f,children:d,...p},y){let _=Cd(c,{relative:p.relative}),b=Ha(),v=ae.useContext(Uh),{navigator:C,basename:P}=ae.useContext(fi),L=v!=null&&Ay(_)&&f===!0,S=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,k=b.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(k=k.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&P&&(A=Po(A,P)||A);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let U=k===S||!l&&k.startsWith(S)&&k.charAt(E)==="/",Z=A!=null&&(A===S||!l&&A.startsWith(S)&&A.charAt(S.length)==="/"),q={isActive:U,isPending:Z,isTransitioning:L},B=U?e:void 0,te;typeof s=="function"?te=s(q):te=[s,U?"active":null,Z?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let le=typeof o=="function"?o(q):o;return ae.createElement(on,{...p,"aria-current":B,className:te,ref:y,style:le,to:c,viewTransition:f},typeof d=="function"?d(q):d)});Eh.displayName="NavLink";var xy=ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:o,method:c=Ah,action:f,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...v},C)=>{let{unstable_useTransitions:P}=ae.useContext(fi),L=Cy(),S=Ly(f,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&tv.test(f),E=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let Z=U.nativeEvent.submitter,q=(Z==null?void 0:Z.getAttribute("formmethod"))||c,B=()=>L(Z||U.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:l,state:o,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});P&&t!==!1?ae.startTransition(()=>B()):B()};return ae.createElement("form",{ref:C,method:k,action:S,onSubmit:s?d:E,...v,"data-discover":!A&&n==="render"?"true":void 0})});xy.displayName="Form";function jy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nv(n){let e=ae.useContext(Pu);return Wn(e,jy(n)),e}function ky(n,{target:e,replace:t,state:s,preventScrollReset:l,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:d}={}){let p=Gr(),y=Ha(),_=Cd(n,{relative:o});return ae.useCallback(b=>{if(ty(b,e)){b.preventDefault();let v=t!==void 0?t:pd(y)===pd(_),C=()=>p(n,{replace:v,state:s,preventScrollReset:l,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f});d?ae.startTransition(()=>C()):C()}},[y,p,_,t,s,e,n,l,o,c,f,d])}function rv(n){hi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ae.useRef(jp(n)),t=ae.useRef(!1),s=Ha(),l=ae.useMemo(()=>ny(s.search,t.current?null:e.current),[s.search]),o=Gr(),c=ae.useCallback((f,d)=>{const p=jp(typeof f=="function"?f(new URLSearchParams(l)):f);t.current=!0,o("?"+p,d)},[o,l]);return[l,c]}var Ny=0,Sy=()=>`__${String(++Ny)}__`;function Cy(){let{router:n}=nv("useSubmit"),{basename:e}=ae.useContext(fi),t=W2(),s=n.fetch,l=n.navigate;return ae.useCallback(async(o,c={})=>{let{action:f,method:d,encType:p,formData:y,body:_}=iy(o,e);if(c.navigate===!1){let b=c.fetcherKey||Sy();await s(b,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,l,e,t])}function Ly(n,{relative:e}={}){let{basename:t}=ae.useContext(fi),s=ae.useContext(Ei);Wn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...Cd(n||".",{relative:e})},c=Ha();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Lo([t,o.pathname])),pd(o)}function Ay(n,{relative:e}={}){let t=ae.useContext(W1);Wn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nv("useViewTransitionState"),l=Cd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Po(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Po(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ih(l.pathname,c)!=null||Ih(l.pathname,o)!=null}function Wh(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(t[s[l]]=n[s[l]]);return t}function Py(n,e,t,s){function l(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function f(y){try{p(s.next(y))}catch(_){c(_)}}function d(y){try{p(s.throw(y))}catch(_){c(_)}}function p(y){y.done?o(y.value):l(y.value).then(f,d)}p((s=s.apply(n,e||[])).next())})}const Ey=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class rm extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Ty extends rm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eg extends rm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tg extends rm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kp||(kp={}));class Oy{constructor(e,{headers:t={},customFetch:s,region:l=kp.Any}={}){this.url=e,this.headers=t,this.region=l,this.fetch=Ey(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Py(this,arguments,void 0,function*(t,s={}){var l;let o,c;try{const{headers:f,method:d,body:p,signal:y,timeout:_}=s;let b={},{region:v}=s;v||(v=this.region);const C=new URL(`${this.url}/${t}`);v&&v!=="any"&&(b["x-region"]=v,C.searchParams.set("forceFunctionRegion",v));let P;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",P=p):typeof p=="string"?(b["Content-Type"]="text/plain",P=p):typeof FormData<"u"&&p instanceof FormData?P=p:(b["Content-Type"]="application/json",P=JSON.stringify(p)):P=p;let L=y;_&&(c=new AbortController,o=setTimeout(()=>c.abort(),_),y?(L=c.signal,y.addEventListener("abort",()=>c.abort())):L=c.signal);const S=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:P,signal:L}).catch(U=>{throw new Ty(U)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new Eg(S);if(!S.ok)throw new Tg(S);let A=((l=S.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),E;return A==="application/json"?E=yield S.json():A==="application/octet-stream"||A==="application/pdf"?E=yield S.blob():A==="text/event-stream"?E=S:A==="multipart/form-data"?E=yield S.formData():E=yield S.text(),{data:E,error:null,response:S}}catch(f){return{data:null,error:f,response:f instanceof Tg||f instanceof Eg?f.context:void 0}}finally{o&&clearTimeout(o)}})}}var Iy=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Dy=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,f=null,d=null,p=o.status,y=o.statusText;if(o.ok){var _,b;if(t.method!=="HEAD"){var v;const S=await o.text();S===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((v=t.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?f=S:f=JSON.parse(S))}const P=(_=t.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),L=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");P&&L&&L.length>1&&(d=parseInt(L[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,p=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const P=await o.text();try{c=JSON.parse(P),Array.isArray(c)&&o.status===404&&(f=[],c=null,p=200,y="OK")}catch{o.status===404&&P===""?(p=204,y="No Content"):c={message:P}}if(c&&t.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&t.shouldThrowOnError)throw new Iy(c)}return{error:c,data:f,count:d,status:p,statusText:y}});return this.shouldThrowOnError||(l=l.catch(o=>{var c;let f="";const d=o==null?void 0:o.cause;if(d){var p,y,_,b;const C=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",P=(y=d==null?void 0:d.code)!==null&&y!==void 0?y:"";f=`${(_=o==null?void 0:o.name)!==null&&_!==void 0?_:"FetchError"}: ${o==null?void 0:o.message}`,f+=`

Caused by: ${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"Error"}: ${C}`,P&&(f+=` (${P})`),d!=null&&d.stack&&(f+=`
${d.stack}`)}else{var v;f=(v=o==null?void 0:o.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,e)}returns(){return this}overrideTypes(){return this}},Ry=class extends Dy{select(n){let e=!1;const t=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:s,referencedTable:l=s}={}){const o=l?`${l}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const s=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:s=t}={}){const l=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:s=!1,wal:l=!1,format:o="text"}={}){var c;const f=[n?"analyze":null,e?"verbose":null,t?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${f};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Og=new RegExp("[,()]");var _u=class extends Ry{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&Og.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&Og.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${l}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const s=t?`${t}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},Fy=class{constructor(n,{headers:e={},schema:t,fetch:s}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=s}select(n,e){const{head:t=!1,count:s}=e??{},l=t?"HEAD":"GET";let o=!1;const c=(n??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new _u({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var s;const l="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(o.length>0){const c=[...new Set(o)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new _u({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:s,defaultToNull:l=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(f.length>0){const d=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new _u({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(n,{count:e}={}){var t;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new _u({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new _u({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},My=class sv{constructor(e,{headers:t={},schema:s,fetch:l}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Fy(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:l=!1,count:o}={}){var c;let f;const d=new URL(`${this.url}/rpc/${e}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(t).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{d.searchParams.append(_,b)})):(f="POST",p=t);const y=new Headers(this.headers);return o&&y.set("Prefer",`count=${o}`),new _u({method:f,url:d,headers:y,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class By{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $y="2.89.0",qy=`realtime-js/${$y}`,iv="1.0.0",zy="2.0.0",Ig=iv,Np=1e4,Uy=1e3,Hy=100;var Cl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Cl||(Cl={}));var jr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(jr||(jr={}));var aa;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(aa||(aa={}));var Sp;(function(n){n.websocket="websocket"})(Sp||(Sp={}));var wc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(wc||(wc={}));class Wy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const l=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var t,s;const l=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var l,o;const c=e.topic,f=(l=e.ref)!==null&&l!==void 0?l:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+f.length+c.length+p.length+_.length,v=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(v),P=0;C.setUint8(P++,this.KINDS.userBroadcastPush),C.setUint8(P++,d.length),C.setUint8(P++,f.length),C.setUint8(P++,c.length),C.setUint8(P++,p.length),C.setUint8(P++,_.length),C.setUint8(P++,t),Array.from(d,S=>C.setUint8(P++,S.charCodeAt(0))),Array.from(f,S=>C.setUint8(P++,S.charCodeAt(0))),Array.from(c,S=>C.setUint8(P++,S.charCodeAt(0))),Array.from(p,S=>C.setUint8(P++,S.charCodeAt(0))),Array.from(_,S=>C.setUint8(P++,S.charCodeAt(0)));var L=new Uint8Array(v.byteLength+s.byteLength);return L.set(new Uint8Array(v),0),L.set(new Uint8Array(s),v.byteLength),L.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[l,o,c,f,d]=s;return t({join_ref:l,ref:o,topic:c,event:f,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,l)}}_decodeUserBroadcast(e,t,s){const l=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),f=t.getUint8(4);let d=this.HEADER_LENGTH+4;const p=s.decode(e.slice(d,d+l));d=d+l;const y=s.decode(e.slice(d,d+o));d=d+o;const _=s.decode(e.slice(d,d+c));d=d+c;const b=e.slice(d,e.byteLength),v=f===this.JSON_ENCODING?JSON.parse(s.decode(b)):b,C={type:this.BROADCAST_EVENT,event:y,payload:v};return c>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class av{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var En;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(En||(En={}));const Dg=(n,e,t={})=>{var s;const l=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=Vy(c,n,e,l),o),{}):{}},Vy=(n,e,t,s)=>{const l=e.find(f=>f.name===n),o=l==null?void 0:l.type,c=t[n];return o&&!s.includes(o)?ov(o,c):Cp(c)},ov=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Jy(e,t)}switch(n){case En.bool:return Gy(e);case En.float4:case En.float8:case En.int2:case En.int4:case En.int8:case En.numeric:case En.oid:return Ky(e);case En.json:case En.jsonb:return Yy(e);case En.timestamp:return Qy(e);case En.abstime:case En.date:case En.daterange:case En.int4range:case En.int8range:case En.money:case En.reltime:case En.text:case En.time:case En.timestamptz:case En.timetz:case En.tsrange:case En.tstzrange:return Cp(e);default:return Cp(e)}},Cp=n=>n,Gy=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Ky=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Yy=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Jy=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let o;const c=n.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>ov(e,f))}return n},Qy=n=>typeof n=="string"?n.replace(" ","T"):n,lv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yf{constructor(e,t,s={},l=Np){this.channel=e,this.event=t,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Rg||(Rg={}));class od{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=od.syncState(this.state,l,o,c),this.pendingDiffs.forEach(d=>{this.state=od.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=od.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,l){const o=this.cloneDeep(e),c=this.transformState(t),f={},d={};return this.map(o,(p,y)=>{c[p]||(d[p]=y)}),this.map(c,(p,y)=>{const _=o[p];if(_){const b=y.map(L=>L.presence_ref),v=_.map(L=>L.presence_ref),C=y.filter(L=>v.indexOf(L.presence_ref)<0),P=_.filter(L=>b.indexOf(L.presence_ref)<0);C.length>0&&(f[p]=C),P.length>0&&(d[p]=P)}else f[p]=y}),this.syncDiff(o,{joins:f,leaves:d},s,l)}static syncDiff(e,t,s,l){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(o,(f,d)=>{var p;const y=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(d),y.length>0){const _=e[f].map(v=>v.presence_ref),b=y.filter(v=>_.indexOf(v.presence_ref)<0);e[f].unshift(...b)}s(f,y,d)}),this.map(c,(f,d)=>{let p=e[f];if(!p)return;const y=d.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),e[f]=p,l(f,p,d),p.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const l=e[s];return"metas"in l?t[s]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=l,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Fg||(Fg={}));var ld;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ld||(ld={}));var Co;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Co||(Co={}));class ku{constructor(e,t={config:{}},s){var l,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Yf(this,aa.join,this.params,this.timeout),this.rejoinTimer=new av(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new od(this),this.broadcastEndpointURL=lv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:c,presence:f,private:d}}=this.params,p=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[ld.PRESENCE]&&this.bindings[ld.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Co.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Co.CLOSED)),this.updateJoinPayload(Object.assign({config:b},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(Co.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,L=(C=P==null?void 0:P.length)!==null&&C!==void 0?C:0,S=[];for(let k=0;k<L;k++){const A=P[k],{filter:{event:E,schema:U,table:Z,filter:q}}=A,B=v&&v[k];if(B&&B.event===E&&ku.isFilterValueEqual(B.schema,U)&&ku.isFilterValueEqual(B.table,Z)&&ku.isFilterValueEqual(B.filter,q))S.push(Object.assign(Object.assign({},A),{id:B.id}));else{this.unsubscribe(),this.state=jr.errored,e==null||e(Co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Co.SUBSCRIBED);return}}).receive("error",v=>{this.state=jr.errored,e==null||e(Co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===jr.joined&&e===ld.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var l;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let d=f.statusText;try{const p=await f.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,d;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Yf(this,aa.leave,{},e),s.receive("ok",()=>{t(),l("ok")}).receive("timeout",()=>{t(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jr.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const l=new AbortController,o=setTimeout(()=>l.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:l.signal}));return clearTimeout(o),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Yf(this,e,t,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hy){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var l,o;const c=e.toLocaleLowerCase(),{close:f,error:d,leave:p,join:y}=aa;if(s&&[f,d,p,y].indexOf(c)>=0&&s!==this._joinRef())return;let b=this._onMessage(c,t,s);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(v=>{var C,P,L;return((C=v.filter)===null||C===void 0?void 0:C.event)==="*"||((L=(P=v.filter)===null||P===void 0?void 0:P.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===c}).map(v=>v.callback(b,s)):(o=this.bindings[c])===null||o===void 0||o.filter(v=>{var C,P,L,S,k,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const E=v.id,U=(C=v.filter)===null||C===void 0?void 0:C.event;return E&&((P=t.ids)===null||P===void 0?void 0:P.includes(E))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((L=t.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const E=(k=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return E==="*"||E===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:P,table:L,commit_timestamp:S,type:k,errors:A}=C;b=Object.assign(Object.assign({},{schema:P,table:L,commit_timestamp:S,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(C))}v.callback(b,s)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const l=e.toLocaleLowerCase(),o={type:l,filter:t,callback:s};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&ku.isEqual(l.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(aa.close,{},e)}_onError(e){this._on(aa.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Dg(e.columns,e.old_record)),t}}const Jf=()=>{},fh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xy=[1e3,2e3,5e3,1e4],Zy=1e4,e5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t5{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Np,this.transport=null,this.heartbeatIntervalMs=fh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jf,this.ref=0,this.reconnectTimer=null,this.vsn=Ig,this.logger=Jf,this.conn=null,this.sendBuffer=[],this.serializer=new Wy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Sp.websocket}`,this.httpEndpoint=lv(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=By.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return wc.Connecting;case Cl.open:return wc.Open;case Cl.closing:return wc.Closing;default:return wc.Closed}}isConnected(){return this.connectionState()===wc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(o=>o.topic===s);if(l)return l;{const o=new ku(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:l,ref:o}=e,c=()=>{this.encode(e,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${t} ${s} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Uy,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},fh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:o,ref:c}=t,f=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${s} ${l} ${f}`.trim(),o),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(l,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Cl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cl.open||this.conn.readyState===Cl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(aa.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(t);return`${e}${s}${l}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([e5],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(l=>{const o={access_token:t,version:qy};t&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(aa.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new av(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,l,o,c,f,d,p,y,_,b,v;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Np,this.heartbeatIntervalMs=(l=e==null?void 0:e.heartbeatIntervalMs)!==null&&l!==void 0?l:fh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Jf,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Ig,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(C=>Xy[C-1]||Zy),this.vsn){case iv:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((C,P)=>P(JSON.stringify(C))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((C,P)=>P(JSON.parse(C)));break;case zy:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var md=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function n5(n,e,t){const s=new URL(e,n);if(t)for(const[l,o]of Object.entries(t))o!==void 0&&s.searchParams.set(l,o);return s.toString()}async function r5(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function s5(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:l,body:o,headers:c}){const f=n5(n.baseUrl,s,l),d=await r5(n.auth),p=await e(f,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),y=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),b=_&&y?JSON.parse(y):y;if(!p.ok){const v=_?b:void 0,C=v==null?void 0:v.error;throw new md((C==null?void 0:C.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:v})}return{status:p.status,headers:p.headers,data:b}}}}function ph(n){return n.join("")}var i5=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:ph(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ph(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ph(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ph(n.namespace)}`}),!0}catch(e){if(e instanceof md&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof md&&t.status===409)return;throw t}}};function uu(n){return n.join("")}var a5=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uu(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof md&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof md&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},o5=class{constructor(n){var s;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=s5({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(s=n.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new i5(this.client,e),this.tableOps=new a5(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Vh=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Yn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var l5=class extends Vh{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lp=class extends Vh{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const sm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),c5=()=>Response,Ap=n=>{if(Array.isArray(n))return n.map(t=>Ap(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const l=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[l]=Ap(s)}),e},u5=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},d5=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function gd(n){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(n)}function h5(n,e){if(gd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(gd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function f5(n){var e=h5(n,"string");return gd(e)=="symbol"?e:e+""}function p5(n,e,t){return(e=f5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,s)}return t}function At(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mg(Object(t),!0).forEach(function(s){p5(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}const Qf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},m5=async(n,e,t)=>{n instanceof await c5()&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const l=n.status||500,o=(s==null?void 0:s.statusCode)||l+"";e(new l5(Qf(s),l,o))}).catch(s=>{e(new Lp(Qf(s),s))}):e(new Lp(Qf(n),n))},g5=(n,e,t,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!s?l:(u5(s)?(l.headers=At({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,e!=null&&e.duplex&&(l.duplex=e.duplex),At(At({},l),t))};async function Ld(n,e,t,s,l,o){return new Promise((c,f)=>{n(t,g5(e,s,l,o)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>m5(d,f,s))})}async function vd(n,e,t,s){return Ld(n,"GET",e,t,s)}async function sa(n,e,t,s,l){return Ld(n,"POST",e,s,l,t)}async function Pp(n,e,t,s,l){return Ld(n,"PUT",e,s,l,t)}async function v5(n,e,t,s){return Ld(n,"HEAD",e,At(At({},t),{},{noResolveJson:!0}),s)}async function im(n,e,t,s,l){return Ld(n,"DELETE",e,s,l,t)}var y5=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Yn(e))return{data:null,error:e};throw e}}};let cv;cv=Symbol.toStringTag;var _5=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[cv]="BlobDownloadBuilder",this.promise=null}asStream(){return new y5(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Yn(e))return{data:null,error:e};throw e}}};const b5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var w5=class{constructor(n,e={},t,s){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=sm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,s){var l=this;try{let o;const c=At(At({},Bg),s);let f=At(At({},l.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",l.encodeMetadata(d)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",l.encodeMetadata(d))):(o=t,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,d&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(f=At(At({},f),s.headers));const p=l._removeEmptyFolders(e),y=l._getFinalPath(p),_=await(n=="PUT"?Pp:sa)(l.fetch,`${l.url}/object/${y}`,o,At({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(Yn(o))return{data:null,error:o};throw o}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,s){var l=this;const o=l._removeEmptyFolders(n),c=l._getFinalPath(o),f=new URL(l.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let d;const p=At({upsert:Bg.upsert},s),y=At(At({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",p.cacheControl)):(d=t,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{data:{path:o,fullPath:(await Pp(l.fetch,f.toString(),d,{headers:y})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Yn(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(n,e){var t=this;try{let s=t._getFinalPath(n);const l=At({},t.headers);e!=null&&e.upsert&&(l["x-upsert"]="true");const o=await sa(t.fetch,`${t.url}/object/upload/sign/${s}`,{},{headers:l}),c=new URL(t.url+o.url),f=c.searchParams.get("token");if(!f)throw new Vh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yn(s))return{data:null,error:s};throw s}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var s=this;try{return{data:await sa(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yn(l))return{data:null,error:l};throw l}}async copy(n,e,t){var s=this;try{return{data:{path:(await sa(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yn(l))return{data:null,error:l};throw l}}async createSignedUrl(n,e,t){var s=this;try{let l=s._getFinalPath(n),o=await sa(s.fetch,`${s.url}/object/sign/${l}`,At({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:s.headers});const c=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${s.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yn(l))return{data:null,error:l};throw l}}async createSignedUrls(n,e,t){var s=this;try{const l=await sa(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:l.map(c=>At(At({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yn(l))return{data:null,error:l};throw l}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),l=s?`?${s}`:"",o=this._getFinalPath(n),c=()=>vd(this.fetch,`${this.url}/${t}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new _5(c,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:Ap(await vd(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Yn(s))return{data:null,error:s};throw s}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await v5(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Yn(s)&&s instanceof Lp){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const t=this._getFinalPath(n),s=[],l=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&s.push(l);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${f}`)}}}async remove(n){var e=this;try{return{data:await im(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async list(n,e,t){var s=this;try{const l=At(At(At({},b5),e),{},{prefix:n||""});return{data:await sa(s.fetch,`${s.url}/object/list/${s.bucketId}`,l,{headers:s.headers},t),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yn(l))return{data:null,error:l};throw l}}async listV2(n,e){var t=this;try{const s=At({},n);return{data:await sa(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,s,{headers:t.headers},e),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yn(s))return{data:null,error:s};throw s}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const uv="2.89.0",dv={"X-Client-Info":`storage-js/${uv}`};var x5=class{constructor(n,e={},t,s){this.shouldThrowOnError=!1;const l=new URL(n);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=At(At({},dv),e),this.fetch=sm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await vd(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await vd(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await sa(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yn(s))return{data:null,error:s};throw s}}async updateBucket(n,e){var t=this;try{return{data:await Pp(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Yn(s))return{data:null,error:s};throw s}}async emptyBucket(n){var e=this;try{return{data:await sa(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await im(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},j5=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=At(At({},dv),e),this.fetch=sm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await sa(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const s=t.toString(),l=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await vd(e.fetch,l,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await im(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yn(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!d5(n))throw new Vh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new o5({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(l,o){const c=l[o];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(l,f),error:null}}catch(d){if(s)throw d;return{data:null,error:d}}}}})}};const am={"X-Client-Info":`storage-js/${uv}`,"Content-Type":"application/json"};var hv=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ci(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Xf=class extends hv{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},k5=class extends hv{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const om=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),N5=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},$g=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),S5=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,l=n;if(typeof l.json=="function")l.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Xf($g(o),s,c))}).catch(()=>{const o=s+"";e(new Xf(l.statusText||`HTTP ${s} error`,s,o))});else{const o=s+"";e(new Xf(l.statusText||`HTTP ${s} error`,s,o))}}else e(new k5($g(n),n))},C5=(n,e,t,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return s?(N5(s)?(l.headers=At({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,At(At({},l),t)):l};async function L5(n,e,t,s,l,o){return new Promise((c,f)=>{n(t,C5(e,s,l,o)).then(d=>{if(!d.ok)throw d;if(s!=null&&s.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>S5(d,f,s))})}async function ui(n,e,t,s,l){return L5(n,"POST",e,s,l,t)}var A5=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=At(At({},am),e),this.fetch=om(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await ui(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ci(s))return{data:null,error:s};throw s}}async listIndexes(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await ui(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ci(s))return{data:null,error:s};throw s}}},P5=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=At(At({},am),e),this.fetch=om(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ui(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await ui(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ui(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}},E5=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=At(At({},am),e),this.fetch=om(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await ui(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await ui(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ci(t))return{data:null,error:t};throw t}}},T5=class extends E5{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new O5(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},O5=class extends A5{constructor(n,e,t,s){super(n,e,s),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new I5(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},I5=class extends P5{constructor(n,e,t,s,l){super(n,e,l),this.vectorBucketName=t,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,At(At({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},D5=class extends x5{constructor(n,e={},t,s){super(n,e,t,s)}from(n){return new w5(this.url,this.headers,n,this.fetch)}get vectors(){return new T5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new j5(this.url+"/iceberg",this.headers,this.fetch)}};const fv="2.89.0",bu=30*1e3,Ep=3,Zf=Ep*bu,R5="http://localhost:9999",F5="supabase.auth.token",M5={"X-Client-Info":`gotrue-js/${fv}`},Tp="X-Supabase-Api-Version",pv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$5=600*1e3;class yd extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function vt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class q5 extends yd{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function z5(n){return vt(n)&&n.name==="AuthApiError"}class xc extends yd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class To extends yd{constructor(e,t,s,l){super(e,s,l),this.name=t,this.status=s}}class li extends To{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U5(n){return vt(n)&&n.name==="AuthSessionMissingError"}class du extends To{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mh extends To{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gh extends To{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H5(n){return vt(n)&&n.name==="AuthImplicitGrantRedirectError"}class qg extends To{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W5 extends To{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Op extends To{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ep(n){return vt(n)&&n.name==="AuthRetryableFetchError"}class zg extends To{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Ip extends To{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ug=` 	
\r=`.split(""),V5=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Ug.length;e+=1)n[Ug[e].charCodeAt(0)]=-2;for(let e=0;e<Dh.length;e+=1)n[Dh[e].charCodeAt(0)]=e;return n})();function Hg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Dh[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Dh[s]),e.queuedBits-=6}}function mv(n,e,t){const s=V5[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Wg(n){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{Y5(c,s,t)};for(let c=0;c<n.length;c+=1)mv(n.charCodeAt(c),l,o);return e.join("")}function G5(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function K5(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|l)+65536,t+=1}G5(s,e)}}function Y5(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Nu(n){const e=[],t={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)mv(n.charCodeAt(l),t,s);return new Uint8Array(e)}function J5(n){const e=[];return K5(n,t=>e.push(t)),new Uint8Array(e)}function jc(n){const e=[],t={queue:0,queuedBits:0},s=l=>{e.push(l)};return n.forEach(l=>Hg(l,t,s)),Hg(null,t,s),e.join("")}function Q5(n){return Math.round(Date.now()/1e3)+n}function X5(){return Symbol("auth-callback")}const Vr=()=>typeof window<"u"&&typeof document<"u",mc={tested:!1,writable:!1},gv=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mc.tested)return mc.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),mc.tested=!0,mc.writable=!0}catch{mc.tested=!0,mc.writable=!1}return mc.writable};function Z5(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((l,o)=>{e[o]=l})}catch{}return t.searchParams.forEach((s,l)=>{e[l]=s}),e}const vv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),e_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",wu=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},gc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Wr=async(n,e)=>{await n.removeItem(e)};class Gh{constructor(){this.promise=new Gh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gh.promiseConstructor=Promise;function tp(n){const e=n.split(".");if(e.length!==3)throw new Ip("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!B5.test(e[s]))throw new Ip("JWT not in base64url format");return{header:JSON.parse(Wg(e[0])),payload:JSON.parse(Wg(e[1])),signature:Nu(e[2]),raw:{header:e[0],payload:e[1]}}}async function t_(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function n_(n,e){return new Promise((s,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!e(o,null,c)){s(c);return}}catch(c){if(!e(o,c)){l(c);return}}})()})}function r_(n){return("0"+n.toString(16)).substr(-2)}function s_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let l="";for(let o=0;o<56;o++)l+=t.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,r_).join("")}async function i_(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),l=new Uint8Array(s);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function a_(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await i_(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hu(n,e,t=!1){const s=s_();let l=s;t&&(l+="/PASSWORD_RECOVERY"),await wu(n,`${e}-code-verifier`,l);const o=await a_(s);return[o,s===o?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l_(n){const e=n.headers.get(Tp);if(!e||!e.match(o_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c_(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function u_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fu(n){if(!d_.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h_(n,e){return new Proxy(n,{get:(t,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,l)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,l)}})}function Vg(n){return JSON.parse(JSON.stringify(n))}const yc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),f_=[502,503,504];async function Gg(n){var e;if(!e_(n))throw new Op(yc(n),0);if(f_.includes(n.status))throw new Op(yc(n),n.status);let t;try{t=await n.json()}catch(o){throw new xc(yc(o),o)}let s;const l=l_(n);if(l&&l.getTime()>=pv["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new zg(yc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new li}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new zg(yc(t),n.status,t.weak_password.reasons);throw new q5(yc(t),n.status||500,s)}const p_=(n,e,t,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),t))};async function Lt(n,e,t,s){var l;const o=Object.assign({},s==null?void 0:s.headers);o[Tp]||(o[Tp]=pv["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const c=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await m_(n,e,t+f,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(d):{data:Object.assign({},d),error:null}}async function m_(n,e,t,s,l,o){const c=p_(e,s,l,o);let f;try{f=await n(t,Object.assign({},c))}catch(d){throw console.error(d),new Op(yc(d),0)}if(f.ok||await Gg(f),s!=null&&s.noResolveJson)return f;try{return await f.json()}catch(d){await Gg(d)}}function ra(n){var e;let t=null;y_(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Q5(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function Kg(n){const e=ra(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Al(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function g_(n){return{data:n,error:null}}function v_(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:l,verification_type:o}=n,c=Wh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:s,redirect_to:l,verification_type:o},d=Object.assign({},c);return{data:{properties:f,user:d},error:null}}function Yg(n){return n}function y_(n){return n.access_token&&n.refresh_token&&n.expires_in}const rp=["global","local","others"];class __{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=vv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=rp[0]){if(rp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Al})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Wh(e,["options"]),l=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:v_,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(vt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Al})}catch(t){if(vt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,l,o,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},y=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Yg});if(y.error)throw y.error;const _=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);p[`${L}Page`]=P}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(vt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){fu(e);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Al})}catch(t){if(vt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fu(e);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Al})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){fu(e);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Al})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){fu(e.userId);try{const{data:t,error:s}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:t,error:s}}catch(t){if(vt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fu(e.userId),fu(e.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,l,o,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},y=await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Yg});if(y.error)throw y.error;const _=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);p[`${L}Page`]=P}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(vt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vt(t))return{data:null,error:t};throw t}}}function Jg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const pu={debug:!!(globalThis&&gv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class b_ extends yv{}async function w_(n,e,t){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await t()}finally{pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new b_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(pu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function x_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _v(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function j_(n){return parseInt(n,16)}function k_(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function N_(n){var e;const{chainId:t,domain:s,expirationTime:l,issuedAt:o=new Date,nonce:c,notBefore:f,requestId:d,resources:p,scheme:y,uri:_,version:b}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const v=_v(n.address),C=y?`${y}://${s}`:s,P=n.statement?`${n.statement}
`:"",L=`${C} wants you to sign in with your Ethereum account:
${v}

${P}`;let S=`URI: ${_}
Version: ${b}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(l&&(S+=`
Expiration Time: ${l.toISOString()}`),f&&(S+=`
Not Before: ${f.toISOString()}`),d&&(S+=`
Request ID: ${d}`),p){let k=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}S+=k}return`${L}
${S}`}class vr extends Error{constructor({message:e,code:t,cause:s,name:l}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=l??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Rh extends vr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function S_({error:n,options:e}){var t,s,l;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new vr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new vr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new vr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new vr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new vr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new vr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new vr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(bv(c)){if(o.rp.id!==c)return new vr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new vr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function C_({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new vr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(bv(s)){if(t.rpId!==s)return new vr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class L_{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const A_=new L_;function P_(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:s}=n,l=Wh(n,["challenge","user","excludeCredentials"]),o=Nu(e).buffer,c=Object.assign(Object.assign({},t),{id:Nu(t.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:o,user:c});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const p=s[d];f.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:Nu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function E_(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,s=Wh(n,["challenge","allowCredentials"]),l=Nu(e).buffer,o=Object.assign(Object.assign({},s),{challenge:l});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const f=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Nu(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function T_(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:jc(new Uint8Array(n.response.attestationObject)),clientDataJSON:jc(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O_(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,s=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:jc(new Uint8Array(l.authenticatorData)),clientDataJSON:jc(new Uint8Array(l.clientDataJSON)),signature:jc(new Uint8Array(l.signature)),userHandle:l.userHandle?jc(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Qg(){var n,e;return!!(Vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function I_(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rh("Browser returned unexpected credential type",e)}:{data:null,error:new Rh("Empty credential response",e)}}catch(e){return{data:null,error:S_({error:e,options:n})}}}async function D_(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rh("Browser returned unexpected credential type",e)}:{data:null,error:new Rh("Empty credential response",e)}}catch(e){return{data:null,error:C_({error:e,options:n})}}}const R_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fh(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),t=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of n)if(l)for(const o in l){const c=l[o];if(c!==void 0)if(Array.isArray(c))s[o]=c;else if(t(c))s[o]=c;else if(e(c)){const f=s[o];e(f)?s[o]=Fh(f,c):s[o]=Fh(c)}else s[o]=c}return s}function M_(n,e){return Fh(R_,n,e||{})}function B_(n,e){return Fh(F_,n,e||{})}class $_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:l},o){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:f};const d=l??A_.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=M_(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:_}=await I_({publicKey:p,signal:d});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const p=B_(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:_}=await D_(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:d}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(c){return vt(c)?{data:null,error:c}:{data:null,error:new xc("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!t)return{data:null,error:new yd("rpId is required for WebAuthn authentication")};try{if(!Qg())return{data:null,error:new xc("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:l},{request:o});if(!c)return{data:null,error:f};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return vt(c)?{data:null,error:c}:{data:null,error:new xc("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!t)return{data:null,error:new yd("rpId is required for WebAuthn registration")};try{if(!Qg())return{data:null,error:new xc("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:d,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:l},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(c){return vt(c)?{data:null,error:c}:{data:null,error:new xc("Unexpected error in register",c)}}}}x_();const q_={url:R5,storageKey:F5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xg(n,e,t){return await t()}const mu={};class _d{get jwks(){var e,t;return(t=(e=mu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){mu[this.storageKey]=Object.assign(Object.assign({},mu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=mu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mu[this.storageKey]=Object.assign(Object.assign({},mu[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},q_),e);if(this.storageKey=o.storageKey,this.instanceID=(t=_d.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,_d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Vr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new __({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=vv(o.fetch),this.lock=o.lock||Xg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Vr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=w_:this.lock=Xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:gv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Vr()&&(t=Z5(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Vr()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),H5(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return vt(t)?this._returnResult({error:t}):this._returnResult({error:new xc("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,l;try{const o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:ra}),{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,l;try{let o;if("email"in e){const{email:y,password:_,options:b}=e;let v=null,C=null;this.flowType==="pkce"&&([v,C]=await hu(this.storage,this.storageKey)),o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:_,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:v,code_challenge_method:C},xform:ra})}else if("phone"in e){const{phone:y,password:_,options:b}=e;o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ra})}else throw new mh("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return await Wr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:f}=e;t=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Kg})}else if("phone"in e){const{phone:o,password:c,options:f}=e;t=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Kg})}else throw new mh("You must provide either an email or phone number and a password");const{data:s,error:l}=t;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const o=new du;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,l,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,l,o,c,f,d,p,y,_,b;let v,C;if("message"in e)v=e.message,C=e.signature;else{const{chain:P,wallet:L,statement:S,options:k}=e;let A;if(Vr())if(typeof L=="object")A=L;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")A=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=L}const E=new URL((t=k==null?void 0:k.url)!==null&&t!==void 0?t:window.location.href),U=await A.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=_v(U[0]);let q=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const te=await A.request({method:"eth_chainId"});q=j_(te)}const B={domain:E.host,address:Z,statement:S,uri:E.href,version:"1",chainId:q,nonce:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=k==null?void 0:k.signInWithEthereum)===null||y===void 0?void 0:y.resources};v=N_(B),C=await A.request({method:"personal_sign",params:[k_(v),Z]})}try{const{data:P,error:L}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ra});if(L)throw L;if(!P||!P.session||!P.user){const S=new du;return this._returnResult({data:{user:null,session:null},error:S})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:L})}catch(P){if(vt(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(e){var t,s,l,o,c,f,d,p,y,_,b,v;let C,P;if("message"in e)C=e.message,P=e.signature;else{const{chain:L,wallet:S,statement:k,options:A}=e;let E;if(Vr())if(typeof S=="object")E=S;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))E=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const U=new URL((t=A==null?void 0:A.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in E&&E.signIn){const Z=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),k?{statement:k}:null));let q;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")q=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)q=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)C=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),P=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${U.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(l=(s=A==null?void 0:A.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((_=(y=A==null?void 0:A.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...A.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Z=await E.signMessage(new TextEncoder().encode(C),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=Z}}try{const{data:L,error:S}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:jc(P)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ra});if(S)throw S;if(!L||!L.session||!L.user){const k=new du;return this._returnResult({data:{user:null,session:null},error:k})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:S})}catch(L){if(vt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(e){const t=await gc(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(t??"").split("/");try{if(!s&&this.flowType==="pkce")throw new W5;const{data:o,error:c}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ra});if(await Wr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const f=new du;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:l,access_token:o,nonce:c}=e,f=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ra}),{data:d,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const y=new du;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,l,o,c;try{if("email"in e){const{email:f,options:d}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await hu(this.storage,this.storageKey));const{error:_}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:d}=e,{data:p,error:y}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=d==null?void 0:d.data)!==null&&l!==void 0?l:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new mh("You must provide either an email or phone number.")}catch(f){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var t,s;try{let l,o;"options"in e&&(l=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:f}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:ra});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var t,s,l,o,c;try{let f=null,d=null;this.flowType==="pkce"&&([f,d]=await hu(this.storage,this.storageKey));const p=await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:g_});return!((o=p.data)===null||o===void 0)&&o.url&&Vr()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new li;const{error:l}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(vt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:o}=e,{error:c}=await Lt(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:l,options:o}=e,{data:c,error:f}=await Lt(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new mh("You must provide either an email or phone number and a type")}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await gc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Zf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await gc(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=np()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=h_(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Al}):await this._useSession(async t=>{var s,l,o;const{data:c,error:f}=t;if(f)throw f;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new li}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:Al})})}catch(t){if(vt(t))return U5(t)&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:l,error:o}=s;if(o)throw o;if(!l.session)throw new li;const c=l.session;let f=null,d=null;this.flowType==="pkce"&&e.email!=null&&([f,d]=await hu(this.storage,this.storageKey));const{data:p,error:y}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:d}),jwt:c.access_token,xform:Al});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new li;const t=Date.now()/1e3;let s=t,l=!0,o=null;const{payload:c}=tp(e.access_token);if(c.exp&&(s=c.exp,l=s<=t),l){const{data:f,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(vt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:f}=t;if(f)throw f;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new li;const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Vr())throw new gh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new qg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qg("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:d,token_type:p}=e;if(!o||!f||!c||!p)throw new gh("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(f);let b=y+_;d&&(b=parseInt(d));const v=b-y;v*1e3<=bu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${_}s`);const C=b-_;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,y);const{data:P,error:L}=await this._getUser(o);if(L)throw L;const S={provider_token:s,provider_refresh_token:l,access_token:o,expires_in:_,expires_at:b,refresh_token:c,token_type:p,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(s){if(vt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await gc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:l,error:o}=t;if(o)return this._returnResult({error:o});const c=(s=l.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(z5(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=X5(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,l;try{const{data:{session:o},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await hu(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:l}=await this._useSession(async o=>{var c,f,d,p,y;const{data:_,error:b}=o;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",v,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Vr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(vt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:l,data:{session:o}}=t;if(l)throw l;const{options:c,provider:f,token:d,access_token:p,nonce:y}=e,_=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:d,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ra}),{data:b,error:v}=_;return v?this._returnResult({data:{user:null,session:null},error:v}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new du}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:v}))}catch(l){if(await Wr(this.storage,`${this.storageKey}-code-verifier`),vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,l;const{data:o,error:c}=t;if(c)throw c;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await n_(async l=>(l>0&&await t_(200*Math.pow(2,l-1)),this._debug(t,"refreshing attempt",l),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ra})),(l,o)=>{const c=200*Math.pow(2,l);return o&&ep(o)&&Date.now()+c-s<bu})}catch(s){if(this._debug(t,"error",s),vt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Vr()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await gc(this.storage,this.storageKey);if(l&&this.userStorage){let c=await gc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await wu(this.userStorage,this.storageKey+"-user",c)),l.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:np()}else if(l&&!l.user&&!l.user){const c=await gc(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await Wr(this.storage,this.storageKey+"-user"),await wu(this.storage,this.storageKey,l)):l.user=np()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const o=((t=l.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Zf;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Zf}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),ep(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Gh;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new li;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),vt(o)){const c={data:null,error:o};return ep(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,t,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wr(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await wu(this.userStorage,this.storageKey+"-user",{user:t.user});const l=Object.assign({},t);delete l.user;const o=Vg(l);await wu(this.storage,this.storageKey,o)}else{const l=Vg(t);await wu(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wr(this.storage,this.storageKey),await Wr(this.storage,this.storageKey+"-code-verifier"),await Wr(this.storage,this.storageKey+"-user"),this.userStorage&&await Wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/bu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${bu}ms, refresh threshold is ${Ep} ticks`),l<=Ep&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const l=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,c]=await hu(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);l.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:l,error:o}=t;return o?this._returnResult({data:null,error:o}):await Lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,l;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((l=d==null?void 0:d.totp)===null||l===void 0)&&l.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:l,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?T_(e.webauthn.credential_response):O_(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:d}=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:d}))})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:l,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:P_(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:E_(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=tp(s.access_token);let c=null;o.aal&&(c=o.aal);let f=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(f="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:l}=t;return l?this._returnResult({data:null,error:l}):s?await Lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new li})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new li});const c=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Vr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(vt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new li});const c=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Vr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(vt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await Lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new li})})}catch(e){if(vt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:l}=t;return l?this._returnResult({data:null,error:l}):s?(await Lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new li})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(f=>f.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+$5>l)return s;const{data:o,error:c}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,s=o.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:v,error:C}=await this.getSession();if(C||!v.session)return this._returnResult({data:null,error:C});s=v.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:d}}=tp(s);t!=null&&t.allowExpired||c_(o.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:o,header:l,signature:c},error:null}}const y=u_(l.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,c,J5(`${f}.${d}`)))throw new Ip("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(s){if(vt(s))return this._returnResult({data:null,error:s});throw s}}}_d.nextInstanceID={};const z_=_d,U_="2.89.0";let ad="";typeof Deno<"u"?ad="deno":typeof document<"u"?ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ad="react-native":ad="node";const H_={"X-Client-Info":`supabase-js-${ad}/${U_}`},W_={headers:H_},V_={schema:"public"},G_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K_={};function bd(n){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(n)}function Y_(n,e){if(bd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(bd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J_(n){var e=Y_(n,"string");return bd(e)=="symbol"?e:e+""}function Q_(n,e,t){return(e=J_(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,s)}return t}function nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zg(Object(t),!0).forEach(function(s){Q_(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zg(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}const X_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Z_=()=>Headers,eb=(n,e,t)=>{const s=X_(t),l=Z_();return async(o,c)=>{var f;const d=(f=await e())!==null&&f!==void 0?f:n;let p=new l(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),s(o,nr(nr({},c),{},{headers:p}))}};function tb(n){return n.endsWith("/")?n:n+"/"}function nb(n,e){var t,s;const{db:l,auth:o,realtime:c,global:f}=n,{db:d,auth:p,realtime:y,global:_}=e,b={db:nr(nr({},d),l),auth:nr(nr({},p),o),realtime:nr(nr({},y),c),storage:{},global:nr(nr(nr({},_),f),{},{headers:nr(nr({},(t=_==null?void 0:_.headers)!==null&&t!==void 0?t:{}),(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function rb(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sb=class extends z_{constructor(n){super(n)}},ib=class{constructor(n,e,t){var s,l;this.supabaseUrl=n,this.supabaseKey=e;const o=rb(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,f={db:V_,realtime:K_,auth:nr(nr({},G_),{},{storageKey:c}),global:W_},d=nb(t??{},f);if(this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=d.global.headers)!==null&&l!==void 0?l:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=d.auth)!==null&&p!==void 0?p:{},this.headers,d.global.fetch)}this.fetch=eb(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(nr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new My(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new D5(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Oy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:l,storageKey:o,flowType:c,lock:f,debug:d,throwOnError:p},y,_){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sb({url:this.authUrl.href,headers:nr(nr({},b),y),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:l,flowType:c,lock:f,debug:d,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new t5(this.realtimeUrl.href,nr(nr({},n),{},{params:nr(nr({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ab=(n,e,t)=>new ib(n,e,t);function ob(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ob()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lb=void 0,cb=void 0,Je=ab(lb,cb),wv=ae.createContext({});function ub({children:n}){const[e,t]=ae.useState(null),[s,l]=ae.useState(null),[o,c]=ae.useState(null),[f,d]=ae.useState(!0);ae.useEffect(()=>{Je.auth.getSession().then(({data:{session:L}})=>{t((L==null?void 0:L.user)??null),L!=null&&L.user?p(L.user.id):d(!1)});const{data:{subscription:P}}=Je.auth.onAuthStateChange(async(L,S)=>{t((S==null?void 0:S.user)??null),S!=null&&S.user?await p(S.user.id):(l(null),c(null),d(!1))});return()=>P.unsubscribe()},[]);async function p(P){console.log("Fetching profile for user:",P);try{console.log("Starting Supabase query...");const L=new Promise((U,Z)=>setTimeout(()=>Z(new Error("Query timeout")),5e3)),S=Je.from("profiles").select("*").eq("id",P),{data:k,error:A}=await Promise.race([S,L]);if(console.log("Profile query result:",k,A),A){console.error("Profile error:",A),d(!1);return}const E=k==null?void 0:k[0];if(!E){console.log("No profile found for user"),d(!1);return}if(l(E),E!=null&&E.organization_id){console.log("Fetching organization:",E.organization_id);const U=Je.from("organizations").select("*").eq("id",E.organization_id),{data:Z,error:q}=await Promise.race([U,L]);console.log("Organization result:",Z,q),!q&&(Z!=null&&Z[0])&&c(Z[0])}}catch(L){console.error("Error fetching profile:",L.message)}finally{d(!1)}}async function y(P,L){const{data:S,error:k}=await Je.auth.signInWithPassword({email:P,password:L});return{data:S,error:k}}async function _(P,L,S){const{data:k,error:A}=await Je.auth.signUp({email:P,password:L,options:{data:S}});return{data:k,error:A}}async function b(){const{error:P}=await Je.auth.signOut();return{error:P}}async function v(P){const{data:L,error:S}=await Je.auth.resetPasswordForEmail(P,{redirectTo:`${window.location.origin}/reset-password`});return{data:L,error:S}}const C={user:e,profile:s,organization:o,setOrganization:c,loading:f,signIn:y,signUp:_,signOut:b,resetPassword:v,isAdmin:(s==null?void 0:s.role)==="admin",isOwner:(s==null?void 0:s.role)==="owner"};return i.jsx(wv.Provider,{value:C,children:n})}function fr(){const n=ae.useContext(wv);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xv=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ae.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...f},d)=>ae.createElement("svg",{ref:d,...hb,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:xv("lucide",l),...f},[...c.map(([p,y])=>ae.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(n,e)=>{const t=ae.forwardRef(({className:s,...l},o)=>ae.createElement(fb,{ref:o,iconNode:e,className:xv(`lucide-${db(n)}`,s),...l}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=xt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=xt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=xt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=xt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=xt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=xt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=xt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=xt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=xt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=xt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=xt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=xt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=xt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=xt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=xt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=xt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=xt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=xt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=xt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=xt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=xt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=xt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=xt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=xt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=xt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=xt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=xt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=xt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=xt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=xt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=xt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=xt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=xt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=xt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Eb=[{name:"Dashboard",href:"/dashboard",icon:kv},{name:"Kalender",href:"/kalender",icon:Ba},{name:"Kunder",href:"/kunder",icon:Lu},{name:"Jobber",href:"/jobber",icon:Ao},{name:"Tilbud",href:"/tilbud",icon:ca},{name:"Fakturaer",href:"/fakturaer",icon:cm},{name:"Artikler",href:"/artikler",icon:kc},{name:"Timer",href:"/timer",icon:Cu},{name:"Kjrety",href:"/kjoretoy",icon:Lv},{name:"Dokumenter",href:"/dokumenter",icon:jb}],Tb=[{name:"Ansatte",href:"/ansatte",icon:Ab},{name:"Innstillinger",href:"/innstillinger",icon:Cb}],Ob=[{name:"Dashboard",href:"/dashboard",icon:kv},{name:"Kunder",href:"/kunder",icon:Lu},{name:"Jobber",href:"/jobber",icon:Ao},{name:"Timer",href:"/timer",icon:Cu},{name:"Mer",href:"/innstillinger",icon:Cv}];function Ib(){const{user:n,profile:e,signOut:t}=fr(),s=Ha(),[l,o]=ae.useState(!1),[c,f]=ae.useState(!1),d=()=>{const _=s.pathname;return _==="/dashboard"?"Dashboard":_==="/kalender"?"Kalender":_.startsWith("/kunder")?"Kunder":_.startsWith("/jobber")?"Jobber":_.startsWith("/tilbud")?"Tilbud":_.startsWith("/fakturaer")?"Fakturaer":_.startsWith("/artikler")?"Artikler":_.startsWith("/timer")?"Timer":_.startsWith("/kjoretoy")?"Kjrety":_.startsWith("/dokumenter")?"Dokumenter":_.startsWith("/ansatte")?"Ansatte":_.startsWith("/innstillinger")?"Innstillinger":"EasyWork"},p=()=>{var _,b;return e!=null&&e.full_name?e.full_name.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):((b=(_=n==null?void 0:n.email)==null?void 0:_[0])==null?void 0:b.toUpperCase())||"U"},y=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner";return i.jsxs("div",{className:"app-layout",children:[i.jsx("div",{className:`sidebar-overlay ${l?"show":""}`,onClick:()=>o(!1)}),i.jsxs("aside",{className:`sidebar ${l?"open":""}`,children:[i.jsx("div",{className:"sidebar-header",children:i.jsxs("div",{className:"sidebar-logo",children:[i.jsx(Av,{size:28}),i.jsx("span",{children:"EasyWork"})]})}),i.jsxs("nav",{className:"sidebar-nav",children:[i.jsxs("div",{className:"nav-section",children:[i.jsx("div",{className:"nav-section-title",children:"Hovedmeny"}),Eb.map(_=>i.jsxs(Eh,{to:_.href,className:({isActive:b})=>`nav-item ${b?"active":""}`,onClick:()=>o(!1),children:[i.jsx(_.icon,{size:20}),i.jsx("span",{children:_.name})]},_.name))]}),y&&i.jsxs("div",{className:"nav-section",children:[i.jsx("div",{className:"nav-section-title",children:"Administrasjon"}),Tb.map(_=>i.jsxs(Eh,{to:_.href,className:({isActive:b})=>`nav-item ${b?"active":""}`,onClick:()=>o(!1),children:[i.jsx(_.icon,{size:20}),i.jsx("span",{children:_.name})]},_.name))]})]}),i.jsxs("div",{className:"sidebar-footer",children:[i.jsxs("div",{className:"user-menu",onClick:()=>f(!c),children:[i.jsx("div",{className:"user-avatar",children:p()}),i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-name",children:(e==null?void 0:e.full_name)||(n==null?void 0:n.email)}),i.jsx("div",{className:"user-role",children:(e==null?void 0:e.role)==="owner"?"Eier":(e==null?void 0:e.role)==="admin"?"Administrator":"Ansatt"})]}),i.jsx(yb,{size:16})]}),c&&i.jsx("div",{style:{marginTop:"0.5rem"},children:i.jsxs("button",{className:"nav-item w-full",onClick:t,style:{color:"var(--color-danger)"},children:[i.jsx(Sb,{size:20}),i.jsx("span",{children:"Logg ut"})]})})]})]}),i.jsxs("main",{className:"main-content",children:[i.jsxs("header",{className:"app-header",children:[i.jsxs("div",{className:"header-left",children:[i.jsx("button",{className:"menu-toggle",onClick:()=>o(!l),children:l?i.jsx(hr,{size:24}):i.jsx(Cv,{size:24})}),i.jsx("h1",{className:"page-title",children:d()})]}),i.jsx("div",{className:"header-right",children:i.jsx("button",{className:"header-icon-btn",children:i.jsx(pb,{size:20})})})]}),i.jsx("div",{className:"page-content",children:i.jsx(X1,{})})]}),i.jsx("nav",{className:"mobile-nav",children:i.jsx("div",{className:"mobile-nav-items",children:Ob.map(_=>i.jsxs(Eh,{to:_.href,className:({isActive:b})=>`mobile-nav-item ${b?"active":""}`,children:[i.jsx(_.icon,{size:20}),i.jsx("span",{children:_.name})]},_.name))})})]})}function Db(){return i.jsx("div",{className:"auth-layout",children:i.jsxs("div",{className:"auth-card",children:[i.jsxs("div",{className:"auth-logo",children:[i.jsx(Av,{size:32}),i.jsx("span",{children:"EasyWork"})]}),i.jsx(X1,{})]})})}function Rb(){const[n,e]=ae.useState(""),[t,s]=ae.useState(""),[l,o]=ae.useState(""),[c,f]=ae.useState(!1),{signIn:d}=fr(),p=Gr(),y=async _=>{_.preventDefault(),o(""),f(!0);try{const{error:b}=await d(n,t);b?b.message.includes("Invalid login")?o("Feil e-post eller passord"):o(b.message):p("/dashboard")}catch{o("Noe gikk galt. Prv igjen.")}finally{f(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"auth-title",children:"Velkommen tilbake"}),i.jsx("p",{className:"auth-subtitle",children:"Logg inn for  fortsette til EasyWork"}),l&&i.jsxs("div",{className:"badge badge-danger",style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Eo,{size:16}),l]}),i.jsxs("form",{className:"auth-form",onSubmit:y,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"email",children:"E-post"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(la,{size:18}),i.jsx("input",{id:"email",type:"email",className:"form-input search-input",placeholder:"din@epost.no",value:n,onChange:_=>e(_.target.value),required:!0,autoComplete:"email"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"password",children:"Passord"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Rp,{size:18}),i.jsx("input",{id:"password",type:"password",className:"form-input search-input",placeholder:"",value:t,onChange:_=>s(_.target.value),required:!0,autoComplete:"current-password"})]})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c,children:c?i.jsx("span",{className:"spinner",style:{width:20,height:20,borderWidth:2}}):i.jsxs(i.Fragment,{children:[i.jsx(Nb,{size:18}),"Logg inn"]})})]}),i.jsx("div",{className:"auth-footer",children:i.jsxs("p",{children:["Har du ikke konto?"," ",i.jsx(on,{to:"/registrer",className:"auth-link",children:"Registrer deg"})]})})]})}function Fb(){const[n,e]=ae.useState({fullName:"",email:"",password:"",confirmPassword:"",organizationName:""}),[t,s]=ae.useState(""),[l,o]=ae.useState(!1),[c,f]=ae.useState(!1),{signUp:d}=fr();Gr();const p=_=>{e(b=>({...b,[_.target.name]:_.target.value}))},y=async _=>{if(_.preventDefault(),s(""),n.password!==n.confirmPassword){s("Passordene matcher ikke");return}if(n.password.length<6){s("Passordet m vre minst 6 tegn");return}f(!0);try{const{error:b}=await d(n.email,n.password,{full_name:n.fullName,organization_name:n.organizationName});b?b.message.includes("already registered")?s("Denne e-postadressen er allerede registrert"):s(b.message):o(!0)}catch{s("Noe gikk galt. Prv igjen.")}finally{f(!1)}};return l?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:i.jsx(Dl,{size:48,color:"var(--color-accent)"})}),i.jsx("h2",{className:"auth-title",children:"Sjekk e-posten din"}),i.jsx("p",{className:"auth-subtitle",children:"Vi har sendt deg en bekreftelseslenke. Klikk p lenken for  aktivere kontoen din."}),i.jsx(on,{to:"/logg-inn",className:"btn btn-primary w-full",children:"Tilbake til innlogging"})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"auth-title",children:"Opprett konto"}),i.jsx("p",{className:"auth-subtitle",children:"Kom i gang med EasyWork i dag"}),t&&i.jsxs("div",{className:"badge badge-danger",style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(Eo,{size:16}),t]}),i.jsxs("form",{className:"auth-form",onSubmit:y,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"fullName",children:"Fullt navn"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Ws,{size:18}),i.jsx("input",{id:"fullName",name:"fullName",type:"text",className:"form-input search-input",placeholder:"Ola Nordmann",value:n.fullName,onChange:p,required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"organizationName",children:"Firmanavn"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(wd,{size:18}),i.jsx("input",{id:"organizationName",name:"organizationName",type:"text",className:"form-input search-input",placeholder:"Mitt Firma AS",value:n.organizationName,onChange:p,required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"email",children:"E-post"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(la,{size:18}),i.jsx("input",{id:"email",name:"email",type:"email",className:"form-input search-input",placeholder:"din@epost.no",value:n.email,onChange:p,required:!0,autoComplete:"email"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"password",children:"Passord"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Rp,{size:18}),i.jsx("input",{id:"password",name:"password",type:"password",className:"form-input search-input",placeholder:"Minst 6 tegn",value:n.password,onChange:p,required:!0,autoComplete:"new-password"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:"Bekreft passord"}),i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Rp,{size:18}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"form-input search-input",placeholder:"Gjenta passordet",value:n.confirmPassword,onChange:p,required:!0,autoComplete:"new-password"})]})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c,children:c?i.jsx("span",{className:"spinner",style:{width:20,height:20,borderWidth:2}}):i.jsxs(i.Fragment,{children:[i.jsx(Pb,{size:18}),"Opprett konto"]})})]}),i.jsx("div",{className:"auth-footer",children:i.jsxs("p",{children:["Har du allerede konto?"," ",i.jsx(on,{to:"/logg-inn",className:"auth-link",children:"Logg inn"})]})})]})}const Mb="_container_ynpg0_1",Bb="_card_ynpg0_19",$b="_header_ynpg0_39",qb="_iconWrapper_ynpg0_49",zb="_form_ynpg0_99",Ub="_error_ynpg0_111",Hb="_row_ynpg0_129",Wb="_fieldGroup_ynpg0_141",Vb="_label_ynpg0_153",Gb="_input_ynpg0_171",Kb="_submitBtn_ynpg0_213",Yb="_spinner_ynpg0_269",Jb="_footer_ynpg0_287",dn={container:Mb,card:Bb,header:$b,iconWrapper:qb,form:zb,error:Ub,row:Hb,fieldGroup:Wb,label:Vb,input:Gb,submitBtn:Kb,spinner:Yb,footer:Jb};function Qb(){const{user:n}=fr();Gr();const[e,t]=ae.useState(!1),[s,l]=ae.useState(null),[o,c]=ae.useState({name:"",email:(n==null?void 0:n.email)||"",phone:"",org_number:"",address:"",postal_code:"",city:""}),f=p=>{const{name:y,value:_}=p.target;c(b=>({...b,[y]:_}))},d=async p=>{if(p.preventDefault(),l(null),!o.name.trim()){l("Bedriftsnavn er pkrevd");return}t(!0);try{const{data:y,error:_}=await Je.rpc("create_organization_with_owner",{org_name:o.name,org_email:o.email||null,org_phone:o.phone||null,org_number:o.org_number||null,org_address:o.address||null,org_postal_code:o.postal_code||null,org_city:o.city||null});if(_)throw _;if(y!=null&&y.success)window.location.href="/";else throw new Error((y==null?void 0:y.error)||"Kunne ikke opprette bedrift")}catch(y){console.error("Error creating organization:",y),l(y.message||"Noe gikk galt. Prv igjen.")}finally{t(!1)}};return i.jsx("div",{className:dn.container,children:i.jsxs("div",{className:dn.card,children:[i.jsxs("div",{className:dn.header,children:[i.jsx("div",{className:dn.iconWrapper,children:i.jsx(wd,{size:32})}),i.jsx("h1",{children:"Sett opp din bedrift"}),i.jsx("p",{children:"Opprett din bedrift for  komme i gang med EasyWork"})]}),i.jsxs("form",{onSubmit:d,className:dn.form,children:[s&&i.jsx("div",{className:dn.error,children:s}),i.jsxs("div",{className:dn.fieldGroup,children:[i.jsxs("label",{className:dn.label,children:[i.jsx(wd,{size:16}),"Bedriftsnavn *"]}),i.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,placeholder:"F.eks. Hansen Bygg AS",className:dn.input,required:!0,autoFocus:!0})]}),i.jsxs("div",{className:dn.row,children:[i.jsxs("div",{className:dn.fieldGroup,children:[i.jsxs("label",{className:dn.label,children:[i.jsx(kb,{size:16}),"Org.nummer"]}),i.jsx("input",{type:"text",name:"org_number",value:o.org_number,onChange:f,placeholder:"123 456 789",className:dn.input})]}),i.jsxs("div",{className:dn.fieldGroup,children:[i.jsxs("label",{className:dn.label,children:[i.jsx(Yh,{size:16}),"Telefon"]}),i.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:f,placeholder:"+47 123 45 678",className:dn.input})]})]}),i.jsxs("div",{className:dn.fieldGroup,children:[i.jsxs("label",{className:dn.label,children:[i.jsx(la,{size:16}),"E-post"]}),i.jsx("input",{type:"email",name:"email",value:o.email,onChange:f,placeholder:"post@firma.no",className:dn.input})]}),i.jsxs("div",{className:dn.fieldGroup,children:[i.jsxs("label",{className:dn.label,children:[i.jsx(Kh,{size:16}),"Adresse"]}),i.jsx("input",{type:"text",name:"address",value:o.address,onChange:f,placeholder:"Gateadresse 123",className:dn.input})]}),i.jsxs("div",{className:dn.row,children:[i.jsxs("div",{className:dn.fieldGroup,children:[i.jsx("label",{className:dn.label,children:"Postnummer"}),i.jsx("input",{type:"text",name:"postal_code",value:o.postal_code,onChange:f,placeholder:"0123",className:dn.input})]}),i.jsxs("div",{className:dn.fieldGroup,children:[i.jsx("label",{className:dn.label,children:"Sted"}),i.jsx("input",{type:"text",name:"city",value:o.city,onChange:f,placeholder:"Oslo",className:dn.input})]})]}),i.jsx("button",{type:"submit",className:dn.submitBtn,disabled:e,children:e?i.jsxs(i.Fragment,{children:[i.jsx(xd,{size:18,className:dn.spinner}),"Oppretter bedrift..."]}):i.jsxs(i.Fragment,{children:["Opprett bedrift",i.jsx(Dp,{size:18})]})})]}),i.jsx("p",{className:dn.footer,children:"Du blir automatisk administrator for bedriften og kan invitere andre brukere."})]})})}function Xb(){var _;const{profile:n,organization:e}=fr(),[t,s]=ae.useState({customers:0,activeJobs:0,pendingQuotes:0,hoursThisWeek:0}),[l,o]=ae.useState([]),[c,f]=ae.useState(!0);ae.useEffect(()=>{e!=null&&e.id?d():f(!1)},[e]);const d=async()=>{try{const{count:b}=await Je.from("customers").select("*",{count:"exact",head:!0}).eq("organization_id",e.id),{count:v}=await Je.from("jobs").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","in_progress"),{count:C}=await Je.from("quotes").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","pending"),{data:P}=await Je.from("jobs").select(`
          *,
          customer:customers(name)
        `).eq("organization_id",e.id).order("updated_at",{ascending:!1}).limit(5);s({customers:b||0,activeJobs:v||0,pendingQuotes:C||0,hoursThisWeek:0}),o(P||[])}catch(b){console.error("Error fetching dashboard data:",b)}finally{f(!1)}},p=()=>{const b=new Date().getHours();return b<12?"God morgen":b<18?"God dag":"God kveld"},y=b=>{switch(b){case"quote":return i.jsx("span",{className:"badge badge-neutral",children:"Tilbud"});case"in_progress":return i.jsx("span",{className:"badge badge-primary",children:"Pgr"});case"completed":return i.jsx("span",{className:"badge badge-success",children:"Fullfrt"});case"cancelled":return i.jsx("span",{className:"badge badge-danger",children:"Kansellert"});default:return i.jsx("span",{className:"badge badge-neutral",children:b})}};return c?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"var(--space-xl)"},children:[i.jsxs("h2",{style:{fontSize:"var(--font-size-2xl)",marginBottom:"var(--space-xs)"},children:[p(),", ",((_=n==null?void 0:n.full_name)==null?void 0:_.split(" ")[0])||"bruker","!"]}),i.jsxs("p",{className:"text-muted",children:["Her er en oversikt over ",(e==null?void 0:e.name)||"firmaet ditt"," i dag."]})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs(on,{to:"/kunder",className:"stat-card stat-card-clickable",children:[i.jsx("div",{className:"stat-card-header",children:i.jsx("div",{className:"stat-card-icon primary",children:i.jsx(Lu,{size:20})})}),i.jsx("div",{className:"stat-card-value",children:t.customers}),i.jsx("div",{className:"stat-card-label",children:"Kunder"})]}),i.jsxs(on,{to:"/jobber",className:"stat-card stat-card-clickable",children:[i.jsx("div",{className:"stat-card-header",children:i.jsx("div",{className:"stat-card-icon success",children:i.jsx(Ao,{size:20})})}),i.jsx("div",{className:"stat-card-value",children:t.activeJobs}),i.jsx("div",{className:"stat-card-label",children:"Aktive jobber"})]}),i.jsxs(on,{to:"/tilbud",className:"stat-card stat-card-clickable",children:[i.jsx("div",{className:"stat-card-header",children:i.jsx("div",{className:"stat-card-icon warning",children:i.jsx(ca,{size:20})})}),i.jsx("div",{className:"stat-card-value",children:t.pendingQuotes}),i.jsx("div",{className:"stat-card-label",children:"Ventende tilbud"})]}),i.jsxs(on,{to:"/timer",className:"stat-card stat-card-clickable",children:[i.jsx("div",{className:"stat-card-header",children:i.jsx("div",{className:"stat-card-icon primary",children:i.jsx(Cu,{size:20})})}),i.jsx("div",{className:"stat-card-value",children:t.hoursThisWeek}),i.jsx("div",{className:"stat-card-label",children:"Timer denne uken"})]})]}),i.jsxs("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:[i.jsx("div",{className:"card-header",children:i.jsx("h3",{className:"card-title",children:"Hurtighandlinger"})}),i.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",flexWrap:"wrap"},children:[i.jsxs(on,{to:"/kunder/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Ny kunde"]}),i.jsxs(on,{to:"/jobber/ny",className:"btn btn-secondary",children:[i.jsx(jn,{size:18}),"Ny jobb"]}),i.jsxs(on,{to:"/tilbud/ny",className:"btn btn-secondary",children:[i.jsx(jn,{size:18}),"Nytt tilbud"]}),i.jsxs(on,{to:"/timer",className:"btn btn-secondary",children:[i.jsx(Cu,{size:18}),"Registrer timer"]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"card-header",children:[i.jsx("h3",{className:"card-title",children:"Siste jobber"}),i.jsxs(on,{to:"/jobber",className:"btn btn-ghost btn-sm",children:["Se alle",i.jsx(Dp,{size:16})]})]}),l.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx(Ao,{className:"empty-state-icon"}),i.jsx("h3",{className:"empty-state-title",children:"Ingen jobber enn"}),i.jsx("p",{className:"empty-state-description",children:"Opprett din frste jobb for  komme i gang."}),i.jsxs(on,{to:"/jobber/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Opprett jobb"]})]}):i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Jobb"}),i.jsx("th",{children:"Kunde"}),i.jsx("th",{children:"Status"}),i.jsx("th",{})]})}),i.jsx("tbody",{children:l.map(b=>{var v;return i.jsxs("tr",{children:[i.jsxs("td",{children:[i.jsx("div",{style:{fontWeight:500},children:b.title}),b.description&&i.jsx("div",{className:"text-muted truncate",style:{maxWidth:200},children:b.description})]}),i.jsx("td",{children:((v=b.customer)==null?void 0:v.name)||"-"}),i.jsx("td",{children:y(b.status)}),i.jsx("td",{children:i.jsx(on,{to:`/jobber/${b.id}`,className:"btn btn-ghost btn-sm",children:i.jsx(Dp,{size:16})})})]},b.id)})})]})})]})]})}const Pv=6048e5,Zb=864e5,Ev=6e4,Tv=36e5,e1=Symbol.for("constructDateFrom");function Cs(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&e1 in n?n[e1](e):n instanceof Date?new n.constructor(e):new Date(e)}function Nr(n,e){return Cs(e||n,n)}function oa(n,e,t){const s=Nr(n,t==null?void 0:t.in);return isNaN(e)?Cs(n,NaN):(e&&s.setDate(s.getDate()+e),s)}function Ov(n,e,t){const s=Nr(n,t==null?void 0:t.in);if(isNaN(e))return Cs(n,NaN);if(!e)return s;const l=s.getDate(),o=Cs(n,s.getTime());o.setMonth(s.getMonth()+e+1,0);const c=o.getDate();return l>=c?o:(s.setFullYear(o.getFullYear(),o.getMonth(),l),s)}let ew={};function Pd(){return ew}function Ec(n,e){var f,d,p,y;const t=Pd(),s=(e==null?void 0:e.weekStartsOn)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,l=Nr(n,e==null?void 0:e.in),o=l.getDay(),c=(o<s?7:0)+o-s;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function Bh(n,e){return Ec(n,{...e,weekStartsOn:1})}function Iv(n,e){const t=Nr(n,e==null?void 0:e.in),s=t.getFullYear(),l=Cs(t,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const o=Bh(l),c=Cs(t,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const f=Bh(c);return t.getTime()>=o.getTime()?s+1:t.getTime()>=f.getTime()?s:s-1}function t1(n){const e=Nr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Jh(n,...e){const t=Cs.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function $h(n,e){const t=Nr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function tw(n,e,t){const[s,l]=Jh(t==null?void 0:t.in,n,e),o=$h(s),c=$h(l),f=+o-t1(o),d=+c-t1(c);return Math.round((f-d)/Zb)}function nw(n,e){const t=Iv(n,e),s=Cs(n,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Bh(s)}function Dv(n,e,t){return oa(n,e*7,t)}function rw(n){return Cs(n,Date.now())}function Ll(n,e,t){const[s,l]=Jh(t==null?void 0:t.in,n,e);return+$h(s)==+$h(l)}function sw(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function iw(n){return!(!sw(n)&&typeof n!="number"||isNaN(+Nr(n)))}function aw(n,e){const t=Nr(n,e==null?void 0:e.in),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function ow(n,e){const[t,s]=Jh(n,e.start,e.end);return{start:t,end:s}}function n1(n,e){const{start:t,end:s}=ow(e==null?void 0:e.in,n);let l=+t>+s;const o=l?+t:+s,c=l?s:t;c.setHours(0,0,0,0);let f=1;const d=[];for(;+c<=o;)d.push(Cs(t,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return l?d.reverse():d}function lw(n,e){const t=Nr(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function cw(n,e){const t=Nr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function r1(n,e){var f,d,p,y;const t=Pd(),s=(e==null?void 0:e.weekStartsOn)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,l=Nr(n,e==null?void 0:e.in),o=l.getDay(),c=(o<s?-7:0)+6-(o-s);return l.setDate(l.getDate()+c),l.setHours(23,59,59,999),l}const uw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dw=(n,e,t)=>{let s;const l=uw[n];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Su(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const hw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mw={date:Su({formats:hw,defaultWidth:"full"}),time:Su({formats:fw,defaultWidth:"full"}),dateTime:Su({formats:pw,defaultWidth:"full"})},gw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vw=(n,e,t,s)=>gw[n];function Fa(n){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let l;if(s==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,f=t!=null&&t.width?String(t.width):c;l=n.formattingValues[f]||n.formattingValues[c]}else{const c=n.defaultWidth,f=t!=null&&t.width?String(t.width):n.defaultWidth;l=n.values[f]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(e):e;return l[o]}}const yw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_w={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ww={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kw=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Nw={ordinalNumber:kw,era:Fa({values:yw,defaultWidth:"wide"}),quarter:Fa({values:_w,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fa({values:bw,defaultWidth:"wide"}),day:Fa({values:ww,defaultWidth:"wide"}),dayPeriod:Fa({values:xw,defaultWidth:"wide",formattingValues:jw,defaultFormattingWidth:"wide"})};function Ma(n){return(e,t={})=>{const s=t.width,l=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],o=e.match(l);if(!o)return null;const c=o[0],f=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(f)?Cw(f,_=>_.test(c)):Sw(f,_=>_.test(c));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function Sw(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Cw(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Rv(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const l=s[0],o=e.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(l.length);return{value:c,rest:f}}}const Lw=/^(\d+)(th|st|nd|rd)?/i,Aw=/\d+/i,Pw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ew={any:[/^b/i,/^(a|c)/i]},Tw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ow={any:[/1/i,/2/i,/3/i,/4/i]},Iw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$w={ordinalNumber:Rv({matchPattern:Lw,parsePattern:Aw,valueCallback:n=>parseInt(n,10)}),era:Ma({matchPatterns:Pw,defaultMatchWidth:"wide",parsePatterns:Ew,defaultParseWidth:"any"}),quarter:Ma({matchPatterns:Tw,defaultMatchWidth:"wide",parsePatterns:Ow,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ma({matchPatterns:Iw,defaultMatchWidth:"wide",parsePatterns:Dw,defaultParseWidth:"any"}),day:Ma({matchPatterns:Rw,defaultMatchWidth:"wide",parsePatterns:Fw,defaultParseWidth:"any"}),dayPeriod:Ma({matchPatterns:Mw,defaultMatchWidth:"any",parsePatterns:Bw,defaultParseWidth:"any"})},qw={code:"en-US",formatDistance:dw,formatLong:mw,formatRelative:vw,localize:Nw,match:$w,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zw(n,e){const t=Nr(n,e==null?void 0:e.in);return tw(t,cw(t))+1}function Uw(n,e){const t=Nr(n,e==null?void 0:e.in),s=+Bh(t)-+nw(t);return Math.round(s/Pv)+1}function Fv(n,e){var y,_,b,v;const t=Nr(n,e==null?void 0:e.in),s=t.getFullYear(),l=Pd(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??l.firstWeekContainsDate??((v=(b=l.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=Cs((e==null?void 0:e.in)||n,0);c.setFullYear(s+1,0,o),c.setHours(0,0,0,0);const f=Ec(c,e),d=Cs((e==null?void 0:e.in)||n,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const p=Ec(d,e);return+t>=+f?s+1:+t>=+p?s:s-1}function Hw(n,e){var f,d,p,y;const t=Pd(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,l=Fv(n,e),o=Cs((e==null?void 0:e.in)||n,0);return o.setFullYear(l,0,s),o.setHours(0,0,0,0),Ec(o,e)}function Ww(n,e){const t=Nr(n,e==null?void 0:e.in),s=+Ec(t,e)-+Hw(t,e);return Math.round(s/Pv)+1}function xn(n,e){const t=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return t+s}const kl={y(n,e){const t=n.getFullYear(),s=t>0?t:1-t;return xn(e==="yy"?s%100:s,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):xn(t+1,2)},d(n,e){return xn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return xn(n.getHours()%12||12,e.length)},H(n,e){return xn(n.getHours(),e.length)},m(n,e){return xn(n.getMinutes(),e.length)},s(n,e){return xn(n.getSeconds(),e.length)},S(n,e){const t=e.length,s=n.getMilliseconds(),l=Math.trunc(s*Math.pow(10,t-3));return xn(l,e.length)}},gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s1={G:function(n,e,t){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const s=n.getFullYear(),l=s>0?s:1-s;return t.ordinalNumber(l,{unit:"year"})}return kl.y(n,e)},Y:function(n,e,t,s){const l=Fv(n,s),o=l>0?l:1-l;if(e==="YY"){const c=o%100;return xn(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):xn(o,e.length)},R:function(n,e){const t=Iv(n);return xn(t,e.length)},u:function(n,e){const t=n.getFullYear();return xn(t,e.length)},Q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return xn(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return xn(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,t){const s=n.getMonth();switch(e){case"M":case"MM":return kl.M(n,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,t){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return xn(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,t,s){const l=Ww(n,s);return e==="wo"?t.ordinalNumber(l,{unit:"week"}):xn(l,e.length)},I:function(n,e,t){const s=Uw(n);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):xn(s,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):kl.d(n,e)},D:function(n,e,t){const s=zw(n);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):xn(s,e.length)},E:function(n,e,t){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,t,s){const l=n.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return xn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(n,e,t,s){const l=n.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return xn(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(n,e,t){const s=n.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return xn(l,e.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,t){const l=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(n,e,t){const s=n.getHours();let l;switch(s===12?l=gu.noon:s===0?l=gu.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(n,e,t){const s=n.getHours();let l;switch(s>=17?l=gu.evening:s>=12?l=gu.afternoon:s>=4?l=gu.morning:l=gu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return kl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):kl.H(n,e)},K:function(n,e,t){const s=n.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):xn(s,e.length)},k:function(n,e,t){let s=n.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):xn(s,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):kl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):kl.s(n,e)},S:function(n,e){return kl.S(n,e)},X:function(n,e,t){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return a1(s);case"XXXX":case"XX":return _c(s);case"XXXXX":case"XXX":default:return _c(s,":")}},x:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"x":return a1(s);case"xxxx":case"xx":return _c(s);case"xxxxx":case"xxx":default:return _c(s,":")}},O:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+i1(s,":");case"OOOO":default:return"GMT"+_c(s,":")}},z:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+i1(s,":");case"zzzz":default:return"GMT"+_c(s,":")}},t:function(n,e,t){const s=Math.trunc(+n/1e3);return xn(s,e.length)},T:function(n,e,t){return xn(+n,e.length)}};function i1(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),l=Math.trunc(s/60),o=s%60;return o===0?t+String(l):t+String(l)+e+xn(o,2)}function a1(n,e){return n%60===0?(n>0?"-":"+")+xn(Math.abs(n)/60,2):_c(n,e)}function _c(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),l=xn(Math.trunc(s/60),2),o=xn(s%60,2);return t+l+e+o}const o1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Mv=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vw=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],s=t[1],l=t[2];if(!l)return o1(n,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",o1(s,e)).replace("{{time}}",Mv(l,e))},Gw={p:Mv,P:Vw},Kw=/^D+$/,Yw=/^Y+$/,Jw=["D","DD","YY","YYYY"];function Qw(n){return Kw.test(n)}function Xw(n){return Yw.test(n)}function Zw(n,e,t){const s=ex(n,e,t);if(console.warn(s),Jw.includes(n))throw new RangeError(s)}function ex(n,e,t){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rx=/^'([^]*?)'?$/,sx=/''/g,ix=/[a-zA-Z]/;function an(n,e,t){var y,_,b,v,C,P,L,S;const s=Pd(),l=(t==null?void 0:t.locale)??s.locale??qw,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(b=s.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((P=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:P.weekStartsOn)??s.weekStartsOn??((S=(L=s.locale)==null?void 0:L.options)==null?void 0:S.weekStartsOn)??0,f=Nr(n,t==null?void 0:t.in);if(!iw(f))throw new RangeError("Invalid time value");let d=e.match(nx).map(k=>{const A=k[0];if(A==="p"||A==="P"){const E=Gw[A];return E(k,l.formatLong)}return k}).join("").match(tx).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const A=k[0];if(A==="'")return{isToken:!1,value:ax(k)};if(s1[A])return{isToken:!0,value:k};if(A.match(ix))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:k}});l.localize.preprocessor&&(d=l.localize.preprocessor(f,d));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:l};return d.map(k=>{if(!k.isToken)return k.value;const A=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Xw(A)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Qw(A))&&Zw(A,e,String(n));const E=s1[A[0]];return E(f,A,l.localize,p)}).join("")}function ax(n){const e=n.match(rx);return e?e[1].replace(sx,"'"):n}function ox(n){return+Nr(n)<Date.now()}function ip(n,e,t){const[s,l]=Jh(t==null?void 0:t.in,n,e);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}function vc(n,e){return Ll(Cs(n,n),rw(n))}function lx(n,e,t){return oa(n,-1,t)}function Nc(n,e){const t=()=>Cs(e==null?void 0:e.in,NaN),l=hx(n);let o;if(l.date){const p=fx(l.date,2);o=px(p.restDateString,p.year)}if(!o||isNaN(+o))return t();const c=+o;let f=0,d;if(l.time&&(f=mx(l.time),isNaN(f)))return t();if(l.timezone){if(d=gx(l.timezone),isNaN(d))return t()}else{const p=new Date(c+f),y=Nr(0,e==null?void 0:e.in);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return Nr(c+f+d,e==null?void 0:e.in)}const vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ux=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hx(n){const e={},t=n.split(vh.dateTimeDelimiter);let s;if(t.length>2)return e;if(/:/.test(t[0])?s=t[0]:(e.date=t[0],s=t[1],vh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(vh.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const l=vh.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function fx(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(t);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,o=s[2]?parseInt(s[2]):null;return{year:o===null?l:o*100,restDateString:n.slice((s[1]||s[2]).length)}}function px(n,e){if(e===null)return new Date(NaN);const t=n.match(cx);if(!t)return new Date(NaN);const s=!!t[4],l=nd(t[1]),o=nd(t[2])-1,c=nd(t[3]),f=nd(t[4]),d=nd(t[5])-1;if(s)return wx(e,f,d)?vx(e,f,d):new Date(NaN);{const p=new Date(0);return!_x(e,o,c)||!bx(e,l)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(l,c)),p)}}function nd(n){return n?parseInt(n):1}function mx(n){const e=n.match(ux);if(!e)return NaN;const t=ap(e[1]),s=ap(e[2]),l=ap(e[3]);return xx(t,s,l)?t*Tv+s*Ev+l*1e3:NaN}function ap(n){return n&&parseFloat(n.replace(",","."))||0}function gx(n){if(n==="Z")return 0;const e=n.match(dx);if(!e)return 0;const t=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return jx(s,l)?t*(s*Tv+l*Ev):NaN}function vx(n,e,t){const s=new Date(0);s.setUTCFullYear(n,0,4);const l=s.getUTCDay()||7,o=(e-1)*7+t+1-l;return s.setUTCDate(s.getUTCDate()+o),s}const yx=[31,null,31,30,31,30,31,31,30,31,30,31];function Bv(n){return n%400===0||n%4===0&&n%100!==0}function _x(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(yx[e]||(Bv(n)?29:28))}function bx(n,e){return e>=1&&e<=(Bv(n)?366:365)}function wx(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function xx(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function jx(n,e){return e>=0&&e<=59}function kx(n,e,t){return Ov(n,-1,t)}function Nx(n,e,t){return Dv(n,-1,t)}const Sx={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en mned",other:"omtrent {{count}} mneder"},xMonths:{one:"en mned",other:"{{count}} mneder"},aboutXYears:{one:"omtrent ett r",other:"omtrent {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"over ett r",other:"over {{count}} r"},almostXYears:{one:"nesten ett r",other:"nesten {{count}} r"}},Cx=(n,e,t)=>{let s;const l=Sx[n];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"om "+s:s+" siden":s},Lx={full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},Ax={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Px={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ex={date:Su({formats:Lx,defaultWidth:"full"}),time:Su({formats:Ax,defaultWidth:"full"}),dateTime:Su({formats:Px,defaultWidth:"full"})},Tx={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i gr kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},Ox=(n,e,t,s)=>Tx[n],Ix={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fr Kristus","etter Kristus"]},Dx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},Rx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},Fx={narrow:["S","M","T","O","T","F","L"],short:["s","ma","ti","on","to","fr","l"],abbreviated:["sn","man","tir","ons","tor","fre","lr"],wide:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"]},Mx={narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p etterm.",evening:"p kvelden",night:"p natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p etterm.",evening:"p kvelden",night:"p natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p morgenen",afternoon:"p ettermiddagen",evening:"p kvelden",night:"p natten"}},Bx=(n,e)=>Number(n)+".",$x={ordinalNumber:Bx,era:Fa({values:Ix,defaultWidth:"wide"}),quarter:Fa({values:Dx,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fa({values:Rx,defaultWidth:"wide"}),day:Fa({values:Fx,defaultWidth:"wide"}),dayPeriod:Fa({values:Mx,defaultWidth:"wide"})},qx=/^(\d+)\.?/i,zx=/\d+/i,Ux={narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(fr Kristus|fr vr tid|etter Kristus|vr tid)/i},Hx={any:[/^f/i,/^e/i]},Wx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},Vx={any:[/1/i,/2/i,/3/i,/4/i]},Gx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},Kx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yx={narrow:/^[smtofl]/i,short:/^(s|ma|ti|on|to|fr|l)/i,abbreviated:/^(sn|man|tir|ons|tor|fre|lr)/i,wide:/^(sndag|mandag|tirsdag|onsdag|torsdag|fredag|lrdag)/i},Jx={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},Qx={narrow:/^(midnatt|middag|(p) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(p) (morgenen|ettermiddagen|kvelden|natten))/i},Xx={any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},Zx={ordinalNumber:Rv({matchPattern:qx,parsePattern:zx,valueCallback:n=>parseInt(n,10)}),era:Ma({matchPatterns:Ux,defaultMatchWidth:"wide",parsePatterns:Hx,defaultParseWidth:"any"}),quarter:Ma({matchPatterns:Wx,defaultMatchWidth:"wide",parsePatterns:Vx,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ma({matchPatterns:Gx,defaultMatchWidth:"wide",parsePatterns:Kx,defaultParseWidth:"any"}),day:Ma({matchPatterns:Yx,defaultMatchWidth:"wide",parsePatterns:Jx,defaultParseWidth:"any"}),dayPeriod:Ma({matchPatterns:Qx,defaultMatchWidth:"any",parsePatterns:Xx,defaultParseWidth:"any"})},Ss={code:"nb",formatDistance:Cx,formatLong:Ex,formatRelative:Ox,localize:$x,match:Zx,options:{weekStartsOn:1,firstWeekContainsDate:4}},ej="_viewToggle_farwo_11",tj="_viewToggleBtn_farwo_25",nj="_viewToggleBtnActive_farwo_49",rj="_monthYearSelector_farwo_61",sj="_selectDropdown_farwo_71",ij="_headerDesktop_farwo_117",aj="_headerNav_farwo_135",oj="_headerTitle_farwo_147",lj="_headerActions_farwo_161",cj="_headerMobile_farwo_175",uj="_dayNavigation_farwo_183",dj="_dayNavigationCenter_farwo_197",hj="_dayNavigationWeekday_farwo_205",fj="_dayNavigationDate_farwo_219",pj="_dayNavigationDateToday_farwo_231",mj="_weekMiniOverview_farwo_241",gj="_weekMiniDay_farwo_255",vj="_weekMiniDaySelected_farwo_275",yj="_weekMiniDayToday_farwo_285",_j="_weekMiniDayName_farwo_293",bj="_weekMiniDayNameSelected_farwo_307",wj="_weekMiniDayNumber_farwo_315",xj="_weekMiniDayNumberSelected_farwo_327",jj="_weekMiniDayNumberToday_farwo_337",kj="_weekMiniEventDot_farwo_347",Nj="_weekMiniEventDotSelected_farwo_363",Sj="_mobileActions_farwo_373",Cj="_mobileActionsBtn_farwo_385",Lj="_legend_farwo_395",Aj="_legendItem_farwo_409",Pj="_legendDot_farwo_425",Ej="_legendDotHoliday_farwo_437",Tj="_dayCard_farwo_447",Oj="_dayCardInner_farwo_465",Ij="_dayCardMobile_farwo_483",Dj="_dayCardMobileInner_farwo_491",Rj="_gradientDefault_farwo_501",Fj="_gradientToday_farwo_509",Mj="_gradientSelected_farwo_517",Bj="_gradientHoliday_farwo_525",$j="_gradientMobileDefault_farwo_533",qj="_dayHeader_farwo_543",zj="_dayHeaderWeekday_farwo_557",Uj="_dayHeaderWeekdayHoliday_farwo_573",Hj="_dayHeaderNumber_farwo_581",Wj="_dayHeaderNumberToday_farwo_599",Vj="_dayHeaderNumberHoliday_farwo_617",Gj="_holidayBadge_farwo_627",Kj="_holidayBadgeText_farwo_651",Yj="_holidayBadgeIcon_farwo_663",Jj="_holidayBanner_farwo_673",Qj="_holidayBannerText_farwo_695",Xj="_eventsContainer_farwo_709",Zj="_eventsContainerMobile_farwo_725",ek="_emptyState_farwo_735",tk="_emptyStateMobile_farwo_759",nk="_emptyStateIcon_farwo_771",rk="_emptyStateText_farwo_781",sk="_eventCard_farwo_791",ik="_eventCardMobile_farwo_813",ak="_eventCardHeader_farwo_823",ok="_eventCardHeaderMobile_farwo_837",lk="_eventCardLabel_farwo_847",ck="_eventCardLabelMobile_farwo_857",uk="_eventCardTitle_farwo_867",dk="_eventCardTitleMobile_farwo_881",hk="_eventCardSubtitle_farwo_891",fk="_eventCardSubtitleMobile_farwo_901",pk="_monthCard_farwo_913",mk="_monthCardMobile_farwo_921",gk="_monthHeader_farwo_929",vk="_dayHeaders_farwo_943",yk="_dayHeadersMobile_farwo_957",_k="_dayHeaderLabel_farwo_967",bk="_dayHeaderLabelMobile_farwo_983",wk="_monthGrid_farwo_995",xk="_monthGridMobile_farwo_1007",jk="_monthDayCell_farwo_1017",kk="_monthDayCellSelected_farwo_1037",Nk="_monthDayCellHoliday_farwo_1045",Sk="_monthDayCellToday_farwo_1055",Ck="_monthDayCellOtherMonth_farwo_1063",Lk="_monthDayButton_farwo_1073",Ak="_monthDayButtonSelected_farwo_1101",Pk="_monthDayButtonHoliday_farwo_1109",Ek="_monthDayButtonToday_farwo_1117",Tk="_monthDayNumber_farwo_1125",Ok="_monthDayNumberToday_farwo_1143",Ik="_monthDayNumberHoliday_farwo_1161",Dk="_monthDayNumberSelected_farwo_1169",Rk="_monthDayNumberMobile_farwo_1179",Fk="_monthDayHeader_farwo_1189",Mk="_monthDayHolidayTag_farwo_1203",Bk="_monthEventPreview_farwo_1223",$k="_monthEventItem_farwo_1235",qk="_monthEventMore_farwo_1255",zk="_monthEventDot_farwo_1267",Uk="_monthEventDotSelected_farwo_1281",Hk="_monthLegend_farwo_1291",Wk="_monthLegendItem_farwo_1309",Vk="_monthLegendDot_farwo_1325",Gk="_monthLegendDotHoliday_farwo_1337",Kk="_weekGrid_farwo_1349",Yk="_globalEmptyState_farwo_1363",Jk="_globalEmptyStateIcon_farwo_1377",Qk="_globalEmptyStateTitle_farwo_1387",Xk="_globalEmptyStateText_farwo_1395",Re={viewToggle:ej,viewToggleBtn:tj,viewToggleBtnActive:nj,monthYearSelector:rj,selectDropdown:sj,headerDesktop:ij,headerNav:aj,headerTitle:oj,headerActions:lj,headerMobile:cj,dayNavigation:uj,dayNavigationCenter:dj,dayNavigationWeekday:hj,dayNavigationDate:fj,dayNavigationDateToday:pj,weekMiniOverview:mj,weekMiniDay:gj,weekMiniDaySelected:vj,weekMiniDayToday:yj,weekMiniDayName:_j,weekMiniDayNameSelected:bj,weekMiniDayNumber:wj,weekMiniDayNumberSelected:xj,weekMiniDayNumberToday:jj,weekMiniEventDot:kj,weekMiniEventDotSelected:Nj,mobileActions:Sj,mobileActionsBtn:Cj,legend:Lj,legendItem:Aj,legendDot:Pj,legendDotHoliday:Ej,dayCard:Tj,dayCardInner:Oj,dayCardMobile:Ij,dayCardMobileInner:Dj,gradientDefault:Rj,gradientToday:Fj,gradientSelected:Mj,gradientHoliday:Bj,gradientMobileDefault:$j,dayHeader:qj,dayHeaderWeekday:zj,dayHeaderWeekdayHoliday:Uj,dayHeaderNumber:Hj,dayHeaderNumberToday:Wj,dayHeaderNumberHoliday:Vj,holidayBadge:Gj,holidayBadgeText:Kj,holidayBadgeIcon:Yj,holidayBanner:Jj,holidayBannerText:Qj,eventsContainer:Xj,eventsContainerMobile:Zj,emptyState:ek,emptyStateMobile:tk,emptyStateIcon:nk,emptyStateText:rk,eventCard:sk,eventCardMobile:ik,eventCardHeader:ak,eventCardHeaderMobile:ok,eventCardLabel:lk,eventCardLabelMobile:ck,eventCardTitle:uk,eventCardTitleMobile:dk,eventCardSubtitle:hk,eventCardSubtitleMobile:fk,monthCard:pk,monthCardMobile:mk,monthHeader:gk,dayHeaders:vk,dayHeadersMobile:yk,dayHeaderLabel:_k,dayHeaderLabelMobile:bk,monthGrid:wk,monthGridMobile:xk,monthDayCell:jk,monthDayCellSelected:kk,monthDayCellHoliday:Nk,monthDayCellToday:Sk,monthDayCellOtherMonth:Ck,monthDayButton:Lk,monthDayButtonSelected:Ak,monthDayButtonHoliday:Pk,monthDayButtonToday:Ek,monthDayNumber:Tk,monthDayNumberToday:Ok,monthDayNumberHoliday:Ik,monthDayNumberSelected:Dk,monthDayNumberMobile:Rk,monthDayHeader:Fk,monthDayHolidayTag:Mk,monthEventPreview:Bk,monthEventItem:$k,monthEventMore:qk,monthEventDot:zk,monthEventDotSelected:Uk,monthLegend:Hk,monthLegendItem:Wk,monthLegendDot:Vk,monthLegendDotHoliday:Gk,weekGrid:Kk,globalEmptyState:Yk,globalEmptyStateIcon:Jk,globalEmptyStateTitle:Qk,globalEmptyStateText:Xk};function Zk(n){const e=n%19,t=Math.floor(n/100),s=n%100,l=Math.floor(t/4),o=t%4,c=Math.floor((t+8)/25),f=Math.floor((t-c+1)/3),d=(19*e+t-l-f+15)%30,p=Math.floor(s/4),y=s%4,_=(32+2*o+2*p-d-y)%7,b=Math.floor((e+11*d+22*_)/451),v=Math.floor((d+_-7*b+114)/31),C=(d+_-7*b+114)%31+1;return new Date(n,v-1,C)}function op(n){const e=Zk(n);return[{date:new Date(n,0,1),name:"Nyttrsdag"},{date:new Date(n,4,1),name:"1. mai"},{date:new Date(n,4,17),name:"17. mai"},{date:new Date(n,11,25),name:"1. juledag"},{date:new Date(n,11,26),name:"2. juledag"},{date:oa(e,-3),name:"Skjrtorsdag"},{date:oa(e,-2),name:"Langfredag"},{date:e,name:"1. pskedag"},{date:oa(e,1),name:"2. pskedag"},{date:oa(e,39),name:"Kristi himmelfartsdag"},{date:oa(e,49),name:"1. pinsedag"},{date:oa(e,50),name:"2. pinsedag"}]}function yh(n,e){return e.find(t=>Ll(t.date,n))}const _h={job:{icon:Ao,label:"Jobb",color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 0.3)"},time_entry:{icon:Cu,label:"Timer",color:"#10b981",bgColor:"rgba(16, 185, 129, 0.1)",borderColor:"rgba(16, 185, 129, 0.3)"},quote:{icon:ca,label:"Tilbud",color:"#a855f7",bgColor:"rgba(168, 85, 247, 0.1)",borderColor:"rgba(168, 85, 247, 0.3)"},vehicle_service:{icon:Lv,label:"Kjrety",color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)",borderColor:"rgba(245, 158, 11, 0.3)"}};function eN(){const n=Gr(),{organization:e}=fr(),[t,s]=ae.useState(new Date),[l,o]=ae.useState(new Date),[c,f]=ae.useState([]),[d,p]=ae.useState(!0),[y,_]=ae.useState(window.innerWidth<768),[b,v]=ae.useState("week"),C=t.getFullYear(),P=[...op(C-1),...op(C),...op(C+1)];ae.useEffect(()=>{const D=()=>_(window.innerWidth<768);return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const L=Ec(t,{weekStartsOn:1}),S=r1(t,{weekStartsOn:1}),k=n1({start:L,end:S}),A=lw(t),E=aw(t),U=Ec(A,{weekStartsOn:1}),Z=r1(E,{weekStartsOn:1}),q=n1({start:U,end:Z});ae.useEffect(()=>{e!=null&&e.id?B():p(!1)},[e,t,b]);const B=async()=>{p(!0);const D=[],N=b==="month"?U:L,M=b==="month"?Z:S;try{const{data:Q,error:ie}=await Je.from("jobs").select("id, title, scheduled_date, customer:customers(name)").eq("organization_id",e.id).gte("scheduled_date",an(N,"yyyy-MM-dd")).lte("scheduled_date",an(M,"yyyy-MM-dd"));!ie&&Q&&Q.forEach(Ue=>{var me;D.push({id:Ue.id,type:"job",title:Ue.title,subtitle:(me=Ue.customer)==null?void 0:me.name,date:Nc(Ue.scheduled_date),link:`/jobber/${Ue.id}`})});const{data:oe,error:ve}=await Je.from("time_entries").select("id, date, hours, job:jobs(title)").eq("organization_id",e.id).gte("date",an(N,"yyyy-MM-dd")).lte("date",an(M,"yyyy-MM-dd"));!ve&&oe&&oe.forEach(Ue=>{var me;D.push({id:Ue.id,type:"time_entry",title:`${Ue.hours}t registrert`,subtitle:(me=Ue.job)==null?void 0:me.title,date:Nc(Ue.date),link:"/timer"})});const{data:ge,error:ke}=await Je.from("quotes").select("id, title, valid_until, customer:customers(name)").eq("organization_id",e.id).gte("valid_until",an(N,"yyyy-MM-dd")).lte("valid_until",an(M,"yyyy-MM-dd"));!ke&&ge&&ge.forEach(Ue=>{var me;D.push({id:Ue.id,type:"quote",title:Ue.title||"Tilbud",subtitle:(me=Ue.customer)==null?void 0:me.name,date:Nc(Ue.valid_until),link:`/tilbud/${Ue.id}`})});const{data:$e,error:He}=await Je.from("vehicle_service_log").select("id, service_type, service_date, vehicle:vehicles(name)").gte("service_date",an(N,"yyyy-MM-dd")).lte("service_date",an(M,"yyyy-MM-dd"));!He&&$e&&$e.forEach(Ue=>{var me;D.push({id:Ue.id,type:"vehicle_service",title:Ue.service_type,subtitle:(me=Ue.vehicle)==null?void 0:me.name,date:Nc(Ue.service_date),link:"/kjoretoy"})})}catch(Q){console.error("Error fetching calendar events:",Q)}finally{f(D),p(!1)}},te=D=>c.filter(N=>Ll(N.date,D)),le=D=>{s(b==="month"?D==="prev"?kx(t):Ov(t,1):D==="prev"?Nx(t):Dv(t,1))},F=D=>{const N=D==="prev"?lx(l):oa(l,1);o(N),b==="month"?ip(N,t)||s(N):(N<L||N>S)&&s(N)},R=()=>{s(new Date),o(new Date)},ee=()=>{const D=an(L,"d. MMM",{locale:Ss}),N=an(S,"d. MMM yyyy",{locale:Ss});return`${D} - ${N}`},G=["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],ue=[];for(let D=C-5;D<=C+5;D++)ue.push(D);const $=D=>{const N=new Date(t.getFullYear(),D,1);s(N)},X=D=>{const N=new Date(D,t.getMonth(),1);s(N)},O=({className:D=""})=>i.jsxs("div",{className:`${Re.viewToggle} ${D}`,children:[i.jsx("button",{onClick:()=>v("week"),className:`${Re.viewToggleBtn} ${b==="week"?Re.viewToggleBtnActive:""}`,children:"Ukentlig"}),i.jsx("button",{onClick:()=>v("month"),className:`${Re.viewToggleBtn} ${b==="month"?Re.viewToggleBtnActive:""}`,children:"Mnedlig"})]}),W=({className:D=""})=>i.jsxs("div",{className:`${Re.monthYearSelector} ${D}`,children:[i.jsx("select",{value:t.getMonth(),onChange:N=>$(parseInt(N.target.value)),className:Re.selectDropdown,children:G.map((N,M)=>i.jsx("option",{value:M,children:N},N))}),i.jsx("select",{value:t.getFullYear(),onChange:N=>X(parseInt(N.target.value)),className:Re.selectDropdown,children:ue.map(N=>i.jsx("option",{value:N,children:N},N))})]});if(d)return i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})});const V=(D,N)=>N?Re.gradientHoliday:vc(D)?Re.gradientToday:l&&Ll(D,l)?Re.gradientSelected:Re.gradientDefault;return i.jsxs("div",{children:[!y&&i.jsxs("div",{className:Re.headerDesktop,children:[i.jsxs("div",{className:Re.headerNav,children:[i.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>le("prev"),title:b==="month"?"Forrige mned":"Forrige uke",children:i.jsx(sp,{size:20})}),b==="month"?i.jsx(W,{}):i.jsx("h2",{className:Re.headerTitle,children:ee()}),i.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>le("next"),title:b==="month"?"Neste mned":"Neste uke",children:i.jsx(Th,{size:20})})]}),i.jsxs("div",{className:Re.headerActions,children:[i.jsx(O,{}),i.jsxs("button",{className:"btn btn-secondary",onClick:R,children:[i.jsx(Ba,{size:16}),"I dag"]}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/jobber/ny"),children:[i.jsx(jn,{size:16}),"Ny jobb"]})]})]}),y&&i.jsxs("div",{className:Re.headerMobile,children:[i.jsxs("div",{className:Re.dayNavigation,children:[i.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>F("prev"),children:i.jsx(sp,{size:24})}),i.jsxs("div",{className:Re.dayNavigationCenter,children:[i.jsx("div",{className:Re.dayNavigationWeekday,children:an(l,"EEEE",{locale:Ss})}),i.jsx("div",{className:`${Re.dayNavigationDate} ${vc(l)?Re.dayNavigationDateToday:""}`,children:an(l,"d. MMMM",{locale:Ss})})]}),i.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>F("next"),children:i.jsx(Th,{size:24})})]}),i.jsx("div",{className:Re.weekMiniOverview,children:k.map((D,N)=>{const M=te(D),Q=Ll(D,l),ie=vc(D);return i.jsxs("button",{onClick:()=>o(D),className:`${Re.weekMiniDay} ${Q?Re.weekMiniDaySelected:""} ${!Q&&ie?Re.weekMiniDayToday:""}`,children:[i.jsx("div",{className:`${Re.weekMiniDayName} ${Q?Re.weekMiniDayNameSelected:""}`,children:an(D,"EEE",{locale:Ss})}),i.jsx("div",{className:`${Re.weekMiniDayNumber} ${Q?Re.weekMiniDayNumberSelected:""} ${!Q&&ie?Re.weekMiniDayNumberToday:""}`,children:an(D,"d")}),M.length>0&&i.jsx("div",{className:`${Re.weekMiniEventDot} ${Q?Re.weekMiniEventDotSelected:""}`})]},N)})}),i.jsxs("div",{className:Re.mobileActions,children:[i.jsxs("button",{className:`btn btn-secondary ${Re.mobileActionsBtn}`,onClick:R,children:[i.jsx(Ba,{size:16}),"I dag"]}),i.jsxs("button",{className:`btn btn-primary ${Re.mobileActionsBtn}`,onClick:()=>n("/jobber/ny"),children:[i.jsx(jn,{size:16}),"Ny jobb"]})]}),i.jsx(O,{className:Re.mobileActionsBtn})]}),!y&&i.jsxs("div",{className:Re.legend,children:[Object.entries(_h).map(([D,N])=>i.jsxs("div",{className:Re.legendItem,children:[i.jsx("div",{className:Re.legendDot,style:{backgroundColor:N.color}}),N.label]},D)),i.jsxs("div",{className:Re.legendItem,children:[i.jsx("div",{className:`${Re.legendDot} ${Re.legendDotHoliday}`}),"Helligdag"]})]}),y&&b==="week"&&(()=>{const D=yh(l,P);return i.jsx("div",{className:`${Re.dayCard} ${Re.dayCardMobile} ${D?Re.gradientHoliday:vc(l)?Re.gradientToday:Re.gradientMobileDefault}`,children:i.jsxs("div",{className:`${Re.dayCardInner} ${Re.dayCardMobileInner}`,children:[D&&i.jsxs("div",{className:Re.holidayBanner,children:[i.jsx(Eo,{size:16,className:Re.holidayBadgeIcon}),i.jsx("span",{className:Re.holidayBannerText,children:D.name})]}),te(l).length===0?i.jsxs("div",{className:`${Re.emptyState} ${Re.emptyStateMobile}`,children:[i.jsx(Ba,{size:48,className:Re.emptyStateIcon}),i.jsx("p",{className:Re.emptyStateText,children:"Ingen hendelser denne dagen"}),i.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>n("/jobber/ny"),children:[i.jsx(jn,{size:14}),"Legg til jobb"]})]}):i.jsx("div",{className:`${Re.eventsContainer} ${Re.eventsContainerMobile}`,children:te(l).map(N=>{const M=_h[N.type],Q=M.icon;return i.jsxs("div",{onClick:()=>n(N.link),className:`${Re.eventCard} ${Re.eventCardMobile}`,style:{backgroundColor:M.bgColor,borderLeft:`4px solid ${M.color}`},children:[i.jsxs("div",{className:`${Re.eventCardHeader} ${Re.eventCardHeaderMobile}`,children:[i.jsx(Q,{size:16,style:{color:M.color}}),i.jsx("span",{className:`${Re.eventCardLabel} ${Re.eventCardLabelMobile}`,style:{color:M.color},children:M.label})]}),i.jsx("div",{className:`${Re.eventCardTitle} ${Re.eventCardTitleMobile}`,children:N.title}),N.subtitle&&i.jsx("div",{className:`${Re.eventCardSubtitle} ${Re.eventCardSubtitleMobile}`,children:N.subtitle})]},`${N.type}-${N.id}`)})})]})})})(),y&&b==="month"&&i.jsxs("div",{className:`card ${Re.monthCardMobile}`,children:[i.jsxs("div",{className:Re.monthHeader,children:[i.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:()=>le("prev"),children:i.jsx(sp,{size:20})}),i.jsx(W,{}),i.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:()=>le("next"),children:i.jsx(Th,{size:20})})]}),i.jsx("div",{className:`${Re.dayHeaders} ${Re.dayHeadersMobile}`,children:["Man","Tir","Ons","Tor","Fre","Lr","Sn"].map(D=>i.jsx("div",{className:`${Re.dayHeaderLabel} ${Re.dayHeaderLabelMobile}`,children:D},D))}),i.jsx("div",{className:`${Re.monthGrid} ${Re.monthGridMobile}`,children:q.map((D,N)=>{const M=yh(D,P),Q=te(D),ie=ip(D,t),oe=vc(D),ve=Ll(D,l);return i.jsxs("button",{onClick:()=>{o(D),v("week"),s(D)},className:`${Re.monthDayButton} ${ve?Re.monthDayButtonSelected:""} ${!ve&&M?Re.monthDayButtonHoliday:""} ${!ve&&!M&&oe?Re.monthDayButtonToday:""}`,style:{opacity:ie?1:.3},children:[i.jsx("span",{className:`${Re.monthDayNumberMobile} ${ve?Re.monthDayNumberSelected:""} ${!ve&&M?Re.monthDayNumberHoliday:""} ${!ve&&!M&&oe?Re.monthDayNumberToday:""}`,style:{fontWeight:oe||ve?700:400},children:an(D,"d")}),Q.length>0&&i.jsx("div",{className:`${Re.monthEventDot} ${ve?Re.monthEventDotSelected:""}`})]},N)})}),i.jsxs("div",{className:Re.monthLegend,children:[i.jsxs("div",{className:Re.monthLegendItem,children:[i.jsx("div",{className:Re.monthLegendDot,style:{backgroundColor:"var(--accent-blue)"}}),"Hendelse"]}),i.jsxs("div",{className:Re.monthLegendItem,children:[i.jsx("div",{className:`${Re.monthLegendDot} ${Re.monthLegendDotHoliday}`}),"Helligdag"]})]})]}),!y&&b==="week"&&i.jsx("div",{className:Re.weekGrid,children:k.map((D,N)=>{const M=te(D),Q=yh(D,P),ie=l&&Ll(D,l),oe=vc(D);return i.jsx("div",{onClick:()=>o(ie?null:D),className:`${Re.dayCard} ${V(D,Q)}`,children:i.jsxs("div",{className:Re.dayCardInner,children:[i.jsxs("div",{className:Re.dayHeader,children:[i.jsx("div",{className:`${Re.dayHeaderWeekday} ${Q?Re.dayHeaderWeekdayHoliday:""}`,children:an(D,"EEE",{locale:Ss})}),i.jsx("div",{className:`${Re.dayHeaderNumber} ${oe?Re.dayHeaderNumberToday:""} ${Q?Re.dayHeaderNumberHoliday:""}`,children:an(D,"d")}),Q&&i.jsxs("div",{className:Re.holidayBadge,children:[i.jsx(Eo,{size:10,className:Re.holidayBadgeIcon}),i.jsx("span",{className:Re.holidayBadgeText,children:Q.name})]})]}),i.jsx("div",{className:Re.eventsContainer,children:M.length===0?i.jsx("div",{className:Re.emptyState,children:"Ingen hendelser"}):M.map(ve=>{const ge=_h[ve.type],ke=ge.icon;return i.jsxs("div",{onClick:$e=>{$e.stopPropagation(),n(ve.link)},className:Re.eventCard,style:{backgroundColor:ge.bgColor,borderLeft:`3px solid ${ge.color}`},children:[i.jsxs("div",{className:Re.eventCardHeader,children:[i.jsx(ke,{size:12,style:{color:ge.color}}),i.jsx("span",{className:Re.eventCardLabel,style:{color:ge.color},children:ge.label})]}),i.jsx("div",{className:Re.eventCardTitle,children:ve.title}),ve.subtitle&&i.jsx("div",{className:Re.eventCardSubtitle,children:ve.subtitle})]},`${ve.type}-${ve.id}`)})})]})},N)})}),!y&&b==="month"&&i.jsxs("div",{className:`card ${Re.monthCard}`,children:[i.jsx("div",{className:Re.dayHeaders,children:["Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"].map(D=>i.jsx("div",{className:Re.dayHeaderLabel,children:D},D))}),i.jsx("div",{className:Re.monthGrid,children:q.map((D,N)=>{const M=yh(D,P),Q=te(D),ie=ip(D,t),oe=vc(D),ve=Ll(D,l);return i.jsxs("div",{onClick:()=>{o(D),v("week"),s(D)},className:`${Re.monthDayCell} ${ve?Re.monthDayCellSelected:""} ${M?Re.monthDayCellHoliday:""} ${oe?Re.monthDayCellToday:""} ${ie?"":Re.monthDayCellOtherMonth}`,children:[i.jsxs("div",{className:Re.monthDayHeader,children:[i.jsx("span",{className:`${Re.monthDayNumber} ${oe?Re.monthDayNumberToday:""} ${M?Re.monthDayNumberHoliday:""}`,children:an(D,"d")}),M&&i.jsx("span",{className:Re.monthDayHolidayTag,children:M.name})]}),i.jsxs("div",{className:Re.monthEventPreview,children:[Q.slice(0,3).map((ge,ke)=>{const $e=_h[ge.type];return i.jsx("div",{className:Re.monthEventItem,style:{backgroundColor:$e.bgColor,borderLeft:`2px solid ${$e.color}`},children:ge.title},ke)}),Q.length>3&&i.jsxs("div",{className:Re.monthEventMore,children:["+",Q.length-3," mer"]})]})]},N)})})]}),!y&&c.length===0&&b==="week"&&i.jsxs("div",{className:Re.globalEmptyState,children:[i.jsx(Ba,{size:48,className:Re.globalEmptyStateIcon}),i.jsx("h3",{className:Re.globalEmptyStateTitle,children:"Ingen hendelser denne uken"}),i.jsx("p",{className:Re.globalEmptyStateText,children:"Kalenderen fylles automatisk nr du oppretter jobber, registrerer timer, eller legger til andre aktiviteter."}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/jobber/ny"),children:[i.jsx(jn,{size:16}),"Opprett din frste jobb"]})]})]})}const tN="_header_fqkh3_11",nN="_searchWrapper_fqkh3_29",rN="_customerName_fqkh3_41",sN="_privateBadge_fqkh3_51",iN="_orgNumber_fqkh3_73",aN="_contactLink_fqkh3_83",oN="_addressCell_fqkh3_97",lN="_addressText_fqkh3_109",cN="_actionButtons_fqkh3_119",uN="_deleteBtn_fqkh3_129",dN="_actionsColumn_fqkh3_139",hN="_clickableRow_fqkh3_149",oi={header:tN,searchWrapper:nN,customerName:rN,privateBadge:sN,orgNumber:iN,contactLink:aN,addressCell:oN,addressText:lN,actionButtons:cN,deleteBtn:uN,actionsColumn:dN,clickableRow:hN};function fN(){const{organization:n}=fr(),e=Gr(),[t,s]=ae.useState([]),[l,o]=ae.useState(!0),[c,f]=ae.useState(""),[d,p]=ae.useState(null);ae.useEffect(()=>{n!=null&&n.id?y():o(!1)},[n]);const y=async()=>{try{const{data:v,error:C}=await Je.from("customers").select("*").eq("organization_id",n.id).order("name");if(C)throw C;s(v||[])}catch(v){console.error("Error fetching customers:",v)}finally{o(!1)}},_=async v=>{try{const{error:C}=await Je.from("customers").delete().eq("id",v);if(C)throw C;s(t.filter(P=>P.id!==v)),p(null)}catch(C){console.error("Error deleting customer:",C),alert("Kunne ikke slette kunde. Sjekk om kunden har tilknyttede jobber.")}},b=t.filter(v=>{var C,P;return v.name.toLowerCase().includes(c.toLowerCase())||((C=v.email)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))||((P=v.phone)==null?void 0:P.includes(c))});return l?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:oi.header,children:[i.jsxs("div",{className:`search-input-wrapper ${oi.searchWrapper}`,children:[i.jsx(Tc,{size:18}),i.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Sk etter kunder...",value:c,onChange:v=>f(v.target.value)})]}),i.jsxs(on,{to:"/kunder/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Ny kunde"]})]}),b.length===0?i.jsx("div",{className:"card",children:i.jsxs("div",{className:"empty-state",children:[i.jsx(Lu,{className:"empty-state-icon"}),i.jsx("h3",{className:"empty-state-title",children:c?"Ingen kunder funnet":"Ingen kunder enn"}),i.jsx("p",{className:"empty-state-description",children:c?"Prv et annet skeord":"Legg til din frste kunde for  komme i gang."}),!c&&i.jsxs(on,{to:"/kunder/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Legg til kunde"]})]})}):i.jsx("div",{className:"card",children:i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Kunde"}),i.jsx("th",{children:"E-post"}),i.jsx("th",{children:"Telefon"}),i.jsx("th",{children:"Adresse"}),i.jsx("th",{className:oi.actionsColumn})]})}),i.jsx("tbody",{children:b.map(v=>i.jsxs("tr",{className:oi.clickableRow,onClick:()=>e(`/kunder/${v.id}`),children:[i.jsxs("td",{children:[i.jsx("div",{className:oi.customerName,children:v.name}),v.is_private?i.jsx("span",{className:oi.privateBadge,children:"Privatkunde"}):v.org_number?i.jsxs("div",{className:`text-muted ${oi.orgNumber}`,children:["Org.nr: ",v.org_number]}):null]}),i.jsx("td",{children:v.email?i.jsxs("a",{href:`mailto:${v.email}`,onClick:C=>C.stopPropagation(),className:oi.contactLink,children:[i.jsx(la,{size:14}),v.email]}):"-"}),i.jsx("td",{children:v.phone?i.jsxs("a",{href:`tel:${v.phone}`,onClick:C=>C.stopPropagation(),className:oi.contactLink,children:[i.jsx(Yh,{size:14}),v.phone]}):"-"}),i.jsx("td",{children:v.address?i.jsxs("div",{className:oi.addressCell,children:[i.jsx(Kh,{size:14,className:"text-muted"}),i.jsx("span",{className:`truncate ${oi.addressText}`,children:v.address})]}):"-"}),i.jsx("td",{children:i.jsxs("div",{className:oi.actionButtons,children:[i.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:C=>{C.stopPropagation(),e(`/kunder/${v.id}/rediger`)},title:"Rediger",children:i.jsx(Tl,{size:16})}),i.jsx("button",{className:`btn btn-ghost btn-icon btn-sm ${oi.deleteBtn}`,onClick:C=>{C.stopPropagation(),p(v)},title:"Slett",children:i.jsx(Ua,{size:16})})]})})]},v.id))})]})})}),d&&i.jsx("div",{className:"modal-overlay",onClick:()=>p(null),children:i.jsxs("div",{className:"modal",onClick:v=>v.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Slett kunde"}),i.jsx("button",{className:"modal-close",onClick:()=>p(null),children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Er du sikker p at du vil slette ",i.jsx("strong",{children:d.name}),"?"]}),i.jsx("p",{className:"text-muted mt-sm",children:"Denne handlingen kan ikke angres."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>p(null),children:"Avbryt"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>_(d.id),children:"Slett"})]})]})})]})}const pN="_header_ybu9q_11",mN="_backButton_ybu9q_19",gN="_title_ybu9q_27",vN="_errorAlert_ybu9q_37",yN="_card_ybu9q_57",_N="_cardHeader_ybu9q_65",bN="_cardTitle_ybu9q_79",wN="_cardTitleWithSpace_ybu9q_87",xN="_privateToggle_ybu9q_97",jN="_privateToggleInactive_ybu9q_121",kN="_privateToggleActive_ybu9q_133",NN="_checkbox_ybu9q_147",SN="_checkboxUnchecked_ybu9q_167",CN="_checkboxChecked_ybu9q_177",LN="_hiddenInput_ybu9q_189",AN="_phoneInput_ybu9q_199",PN="_formFooter_ybu9q_209",EN="_buttonRow_ybu9q_217",TN="_notesGroup_ybu9q_229",lr={header:pN,backButton:mN,title:gN,errorAlert:vN,card:yN,cardHeader:_N,cardTitle:bN,cardTitleWithSpace:wN,privateToggle:xN,privateToggleInactive:jN,privateToggleActive:kN,checkbox:NN,checkboxUnchecked:SN,checkboxChecked:CN,hiddenInput:LN,phoneInput:AN,formFooter:PN,buttonRow:EN,notesGroup:TN};function lp(){const{id:n}=Tu(),e=!!n,t=Gr(),{organization:s}=fr(),[l,o]=ae.useState(!1),[c,f]=ae.useState(e),[d,p]=ae.useState(""),[y,_]=ae.useState({name:"",email:"",phone:"",address:"",postal_code:"",city:"",org_number:"",contact_person:"",notes:"",is_private:!1});ae.useEffect(()=>{e&&b()},[n]);const b=async()=>{try{const{data:P,error:L}=await Je.from("customers").select("*").eq("id",n).single();if(L)throw L;_({name:P.name||"",email:P.email||"",phone:P.phone||"",address:P.address||"",postal_code:P.postal_code||"",city:P.city||"",org_number:P.org_number||"",contact_person:P.contact_person||"",notes:P.notes||"",is_private:P.is_private||!1})}catch(P){console.error("Error fetching customer:",P),p("Kunne ikke hente kunde")}finally{f(!1)}},v=P=>{_(L=>({...L,[P.target.name]:P.target.value}))},C=async P=>{P.preventDefault(),p(""),o(!0);try{const L={...y,organization_id:s.id};if(e){const{error:S}=await Je.from("customers").update(L).eq("id",n);if(S)throw S}else{const{error:S}=await Je.from("customers").insert([L]);if(S)throw S}t("/kunder")}catch(L){console.error("Error saving customer:",L),p("Kunne ikke lagre kunde. Prv igjen.")}finally{o(!1)}};return c?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:lr.header,children:[i.jsxs(on,{to:"/kunder",className:`btn btn-ghost btn-sm ${lr.backButton}`,children:[i.jsx(Ad,{size:16}),"Tilbake til kunder"]}),i.jsx("h2",{className:lr.title,children:e?"Rediger kunde":"Ny kunde"})]}),d&&i.jsxs("div",{className:`badge badge-danger ${lr.errorAlert}`,children:[i.jsx(Eo,{size:16}),d]}),i.jsxs("form",{onSubmit:C,children:[i.jsxs("div",{className:`card ${lr.card}`,children:[i.jsxs("div",{className:lr.cardHeader,children:[i.jsx("h3",{className:`card-title ${lr.cardTitle}`,children:"Kundeinformasjon"}),i.jsxs("label",{className:`${lr.privateToggle} ${y.is_private?lr.privateToggleActive:lr.privateToggleInactive}`,children:[i.jsx("div",{className:`${lr.checkbox} ${y.is_private?lr.checkboxChecked:lr.checkboxUnchecked}`,children:y.is_private&&i.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polyline",{points:"20 6 9 17 4 12"})})}),i.jsx("input",{type:"checkbox",checked:y.is_private,onChange:P=>_(L=>({...L,is_private:P.target.checked,org_number:""})),className:lr.hiddenInput}),"Privatkunde"]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"name",children:y.is_private?"Kundenavn *":"Firmanavn / Kundenavn *"}),i.jsx("input",{id:"name",name:"name",type:"text",className:"form-input",placeholder:y.is_private?"Ola Nordmann":"Eksempel AS",value:y.name,onChange:v,required:!0})]}),!y.is_private&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"org_number",children:"Organisasjonsnummer"}),i.jsx("input",{id:"org_number",name:"org_number",type:"text",className:"form-input",placeholder:"123 456 789",value:y.org_number,onChange:v})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"contact_person",children:"Kontaktperson"}),i.jsx("input",{id:"contact_person",name:"contact_person",type:"text",className:"form-input",placeholder:"Ola Nordmann",value:y.contact_person,onChange:v})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"email",children:"E-post"}),i.jsx("input",{id:"email",name:"email",type:"email",className:"form-input",placeholder:"post@eksempel.no",value:y.email,onChange:v})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"phone",children:"Telefon"}),i.jsx("input",{id:"phone",name:"phone",type:"tel",className:`form-input ${lr.phoneInput}`,placeholder:"+47 123 45 678",value:y.phone,onChange:v})]})]}),i.jsxs("div",{className:`card ${lr.card}`,children:[i.jsx("h3",{className:`card-title ${lr.cardTitleWithSpace}`,children:"Adresse"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"address",children:"Gateadresse"}),i.jsx("input",{id:"address",name:"address",type:"text",className:"form-input",placeholder:"Eksempelveien 123",value:y.address,onChange:v})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"postal_code",children:"Postnummer"}),i.jsx("input",{id:"postal_code",name:"postal_code",type:"text",className:"form-input",placeholder:"0000",value:y.postal_code,onChange:v})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"city",children:"Sted"}),i.jsx("input",{id:"city",name:"city",type:"text",className:"form-input",placeholder:"Oslo",value:y.city,onChange:v})]})]})]}),i.jsxs("div",{className:`card ${lr.formFooter}`,children:[i.jsx("h3",{className:`card-title ${lr.cardTitleWithSpace}`,children:"Notater"}),i.jsx("div",{className:`form-group ${lr.notesGroup}`,children:i.jsx("textarea",{id:"notes",name:"notes",className:"form-textarea",placeholder:"Interne notater om kunden...",value:y.notes,onChange:v,rows:4})})]}),i.jsxs("div",{className:lr.buttonRow,children:[i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?i.jsx("span",{className:"spinner",style:{width:20,height:20,borderWidth:2}}):i.jsxs(i.Fragment,{children:[i.jsx($a,{size:18}),e?"Lagre endringer":"Opprett kunde"]})}),i.jsx(on,{to:"/kunder",className:"btn btn-secondary",children:"Avbryt"})]})]})]})}const ON="_header_155c3_11",IN="_headerLeft_155c3_29",DN="_searchWrapper_155c3_43",RN="_statusFilter_155c3_55",FN="_statusFilterBtn_155c3_71",MN="_statusFilterBtnActive_155c3_97",BN="_jobsGrid_155c3_109",$N="_jobCard_155c3_121",qN="_jobCardInner_155c3_147",zN="_jobCardHeader_155c3_161",UN="_jobCardTitle_155c3_175",HN="_jobCardCustomer_155c3_189",WN="_jobCardMeta_155c3_205",VN="_jobCardMetaItem_155c3_223",GN="_clickableRow_155c3_241",KN="_jobTitle_155c3_249",YN="_jobDescription_155c3_257",JN="_customerCell_155c3_265",QN="_dateCell_155c3_277",XN="_actionsColumn_155c3_291",ZN="_actionButtons_155c3_299",e3="_deleteBtn_155c3_309",t3="_viewToggle_155c3_319",n3="_viewToggleBtn_155c3_329",r3="_viewToggleBtnActive_155c3_349",hn={header:ON,headerLeft:IN,searchWrapper:DN,statusFilter:RN,statusFilterBtn:FN,statusFilterBtnActive:MN,jobsGrid:BN,jobCard:$N,jobCardInner:qN,jobCardHeader:zN,jobCardTitle:UN,jobCardCustomer:HN,jobCardMeta:WN,jobCardMetaItem:VN,clickableRow:GN,jobTitle:KN,jobDescription:YN,customerCell:JN,dateCell:QN,actionsColumn:XN,actionButtons:ZN,deleteBtn:e3,viewToggle:t3,viewToggleBtn:n3,viewToggleBtnActive:r3},bh={quote:{label:"Tilbud",class:"badge-neutral"},in_progress:{label:"Pgr",class:"badge-primary"},completed:{label:"Fullfrt",class:"badge-success"},cancelled:{label:"Kansellert",class:"badge-danger"}};function s3(){const{organization:n}=fr(),e=Gr(),[t,s]=ae.useState([]),[l,o]=ae.useState(!0),[c,f]=ae.useState(""),[d,p]=ae.useState("all"),[y,_]=ae.useState("list"),[b,v]=ae.useState(null);ae.useEffect(()=>{n!=null&&n.id?C():o(!1)},[n]);const C=async()=>{try{const{data:k,error:A}=await Je.from("jobs").select(`
          *,
          customer:customers(id, name),
          assigned:profiles!jobs_assigned_to_fkey(full_name)
        `).eq("organization_id",n.id).order("created_at",{ascending:!1});if(A)throw A;s(k||[])}catch(k){console.error("Error fetching jobs:",k)}finally{o(!1)}},P=async k=>{try{const{error:A}=await Je.from("jobs").delete().eq("id",k);if(A)throw A;s(t.filter(E=>E.id!==k)),v(null)}catch(A){console.error("Error deleting job:",A),alert("Kunne ikke slette jobb. Prv igjen.")}},L=t.filter(k=>{var U,Z,q;const A=k.title.toLowerCase().includes(c.toLowerCase())||((Z=(U=k.customer)==null?void 0:U.name)==null?void 0:Z.toLowerCase().includes(c.toLowerCase()))||((q=k.address)==null?void 0:q.toLowerCase().includes(c.toLowerCase())),E=d==="all"||k.status===d;return A&&E}),S=k=>k?an(Nc(k),"d. MMM yyyy",{locale:Ss}):"-";return l?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:hn.header,children:[i.jsxs("div",{className:hn.headerLeft,children:[i.jsxs("div",{className:`search-input-wrapper ${hn.searchWrapper}`,children:[i.jsx(Tc,{size:18}),i.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Sk etter jobber...",value:c,onChange:k=>f(k.target.value)})]}),i.jsxs("div",{className:hn.statusFilter,children:[i.jsx("button",{className:`${hn.statusFilterBtn} ${d==="all"?hn.statusFilterBtnActive:""}`,onClick:()=>p("all"),children:"Alle"}),i.jsx("button",{className:`${hn.statusFilterBtn} ${d==="in_progress"?hn.statusFilterBtnActive:""}`,onClick:()=>p("in_progress"),children:"Pgr"}),i.jsx("button",{className:`${hn.statusFilterBtn} ${d==="completed"?hn.statusFilterBtnActive:""}`,onClick:()=>p("completed"),children:"Fullfrt"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[i.jsxs("div",{className:hn.viewToggle,children:[i.jsx("button",{className:`${hn.viewToggleBtn} ${y==="list"?hn.viewToggleBtnActive:""}`,onClick:()=>_("list"),title:"Listevisning",children:i.jsx(Sv,{size:18})}),i.jsx("button",{className:`${hn.viewToggleBtn} ${y==="grid"?hn.viewToggleBtnActive:""}`,onClick:()=>_("grid"),title:"Kortvisning",children:i.jsx(jv,{size:18})})]}),i.jsxs(on,{to:"/jobber/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Ny jobb"]})]})]}),L.length===0?i.jsx("div",{className:"card",children:i.jsxs("div",{className:"empty-state",children:[i.jsx(Ao,{className:"empty-state-icon"}),i.jsx("h3",{className:"empty-state-title",children:c||d!=="all"?"Ingen jobber funnet":"Ingen jobber enn"}),i.jsx("p",{className:"empty-state-description",children:c||d!=="all"?"Prv et annet skeord eller filter":"Opprett din frste jobb for  komme i gang."}),!c&&d==="all"&&i.jsxs(on,{to:"/jobber/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Opprett jobb"]})]})}):y==="grid"?i.jsx("div",{className:hn.jobsGrid,children:L.map(k=>{var A,E;return i.jsx("div",{className:hn.jobCard,onClick:()=>e(`/jobber/${k.id}`),children:i.jsxs("div",{className:hn.jobCardInner,children:[i.jsxs("div",{className:hn.jobCardHeader,children:[i.jsxs("div",{children:[i.jsx("div",{className:hn.jobCardTitle,children:k.title}),k.customer&&i.jsxs("div",{className:hn.jobCardCustomer,children:[i.jsx(Ws,{size:12}),k.customer.name]})]}),i.jsx("span",{className:`badge ${((A=bh[k.status])==null?void 0:A.class)||"badge-neutral"}`,children:((E=bh[k.status])==null?void 0:E.label)||k.status})]}),i.jsxs("div",{className:hn.jobCardMeta,children:[k.scheduled_date&&i.jsxs("div",{className:hn.jobCardMetaItem,children:[i.jsx(Ba,{size:12}),S(k.scheduled_date)]}),k.address&&i.jsxs("div",{className:hn.jobCardMetaItem,children:[i.jsx(Kh,{size:12}),k.address]})]})]})},k.id)})}):i.jsx("div",{className:"card",children:i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Jobb"}),i.jsx("th",{children:"Kunde"}),i.jsx("th",{children:"Dato"}),i.jsx("th",{children:"Status"}),i.jsx("th",{className:hn.actionsColumn})]})}),i.jsx("tbody",{children:L.map(k=>{var A,E;return i.jsxs("tr",{className:hn.clickableRow,onClick:()=>e(`/jobber/${k.id}`),children:[i.jsxs("td",{children:[i.jsx("div",{className:hn.jobTitle,children:k.title}),k.description&&i.jsx("div",{className:`text-muted truncate ${hn.jobDescription}`,children:k.description})]}),i.jsx("td",{children:k.customer?i.jsxs("div",{className:hn.customerCell,children:[i.jsx(Ws,{size:14,className:"text-muted"}),k.customer.name]}):"-"}),i.jsx("td",{children:k.scheduled_date?i.jsxs("div",{className:hn.dateCell,children:[i.jsx(Ba,{size:14,className:"text-muted"}),S(k.scheduled_date)]}):"-"}),i.jsx("td",{children:i.jsx("span",{className:`badge ${((A=bh[k.status])==null?void 0:A.class)||"badge-neutral"}`,children:((E=bh[k.status])==null?void 0:E.label)||k.status})}),i.jsx("td",{children:i.jsxs("div",{className:hn.actionButtons,children:[i.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:U=>{U.stopPropagation(),e(`/jobber/${k.id}/rediger`)},title:"Rediger",children:i.jsx(Tl,{size:16})}),i.jsx("button",{className:`btn btn-ghost btn-icon btn-sm ${hn.deleteBtn}`,onClick:U=>{U.stopPropagation(),v(k)},title:"Slett",children:i.jsx(Ua,{size:16})})]})})]},k.id)})})]})})}),b&&i.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:i.jsxs("div",{className:"modal",onClick:k=>k.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Slett jobb"}),i.jsx("button",{className:"modal-close",onClick:()=>v(null),children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Er du sikker p at du vil slette ",i.jsx("strong",{children:b.title}),"?"]}),i.jsx("p",{className:"text-muted mt-sm",children:"Denne handlingen kan ikke angres. Timer og notater knyttet til jobben vil ogs bli slettet."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>v(null),children:"Avbryt"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>P(b.id),children:"Slett"})]})]})})]})}const i3="_dateInputWrapper_7eo0c_1",a3="_dateInput_7eo0c_1",o3="_calendarButton_7eo0c_21",l3="_hiddenDateInput_7eo0c_65",wh={dateInputWrapper:i3,dateInput:a3,calendarButton:o3,hiddenDateInput:l3};function qh({id:n,name:e,value:t,onChange:s,placeholder:l="DD.MM.",className:o="",required:c=!1}){const f=L=>{if(!L)return"";const S=L.split("-");return S.length!==3?L:`${S[2]}.${S[1]}.${S[0]}`},d=L=>{if(!L)return"";const S=L.replace(/[^\d]/g,"");if(S.length!==8)return"";const k=S.substring(0,2),A=S.substring(2,4),E=S.substring(4,8),U=parseInt(k,10),Z=parseInt(A,10),q=parseInt(E,10);return U<1||U>31||Z<1||Z>12||q<1900||q>2100?"":`${E}-${A}-${k}`},[p,y]=ae.useState(f(t)),_=ae.useRef(null);ae.useEffect(()=>{y(f(t))},[t]);const b=L=>{const k=L.target.value.replace(/[^\d]/g,"");let A="";if(k.length>0&&(A=k.substring(0,2)),k.length>2&&(A+="."+k.substring(2,4)),k.length>4&&(A+="."+k.substring(4,8)),y(A),k.length===8){const E=d(A);E&&s({target:{name:e,value:E}})}else k.length===0&&s({target:{name:e,value:""}})},v=()=>{const L=p.replace(/[^\d]/g,"");if(L.length===8){const S=d(p);S?(y(f(S)),s({target:{name:e,value:S}})):(y(""),s({target:{name:e,value:""}}))}else L.length>0&&(y(""),s({target:{name:e,value:""}}))},C=()=>{var L;(L=_.current)==null||L.showPicker()},P=L=>{const S=L.target.value;y(f(S)),s({target:{name:e,value:S}})};return i.jsxs("div",{className:wh.dateInputWrapper,children:[i.jsx("input",{type:"text",id:n,className:`form-input ${o} ${wh.dateInput}`,value:p,onChange:b,onBlur:v,placeholder:l,maxLength:10,inputMode:"numeric",required:c}),i.jsx("button",{type:"button",className:wh.calendarButton,onClick:C,tabIndex:-1,children:i.jsx(Ba,{size:18})}),i.jsx("input",{ref:_,type:"date",className:wh.hiddenDateInput,value:t||"",onChange:P,tabIndex:-1})]})}const c3="_header_1fmti_11",u3="_backButton_1fmti_19",d3="_title_1fmti_27",h3="_errorAlert_1fmti_37",f3="_card_1fmti_57",p3="_cardTitle_1fmti_65",m3="_customerSearch_1fmti_75",g3="_customerSearchInput_1fmti_83",v3="_customerSearchIcon_1fmti_91",y3="_customerSearchField_1fmti_109",_3="_customerDropdown_1fmti_117",b3="_customerOption_1fmti_147",w3="_customerOptionName_1fmti_179",x3="_customerOptionMeta_1fmti_191",j3="_customerOptionMetaItem_1fmti_205",k3="_createCustomerOption_1fmti_219",N3="_selectedCustomer_1fmti_255",S3="_selectedCustomerInfo_1fmti_277",C3="_selectedCustomerIcon_1fmti_289",L3="_selectedCustomerName_1fmti_311",A3="_selectedCustomerMeta_1fmti_321",P3="_removeCustomerBtn_1fmti_331",E3="_quickCreateForm_1fmti_361",T3="_quickCreateRow_1fmti_373",O3="_statusSelect_1fmti_387",I3="_statusOption_1fmti_399",D3="_statusOptionQuote_1fmti_431",R3="_statusOptionInProgress_1fmti_443",F3="_statusOptionCompleted_1fmti_455",M3="_dateRow_1fmti_469",B3="_buttonRow_1fmti_483",Ht={header:c3,backButton:u3,title:d3,errorAlert:h3,card:f3,cardTitle:p3,customerSearch:m3,customerSearchInput:g3,customerSearchIcon:v3,customerSearchField:y3,customerDropdown:_3,customerOption:b3,customerOptionName:w3,customerOptionMeta:x3,customerOptionMetaItem:j3,createCustomerOption:k3,selectedCustomer:N3,selectedCustomerInfo:S3,selectedCustomerIcon:C3,selectedCustomerName:L3,selectedCustomerMeta:A3,removeCustomerBtn:P3,quickCreateForm:E3,quickCreateRow:T3,statusSelect:O3,statusOption:I3,statusOptionQuote:D3,statusOptionInProgress:R3,statusOptionCompleted:F3,dateRow:M3,buttonRow:B3};function l1(){const{id:n}=Tu(),[e]=rv(),t=!!n,s=Gr(),{organization:l}=fr(),[o,c]=ae.useState(!1),[f,d]=ae.useState(t),[p,y]=ae.useState(""),[_,b]=ae.useState([]),[v,C]=ae.useState(""),[P,L]=ae.useState(!1),[S,k]=ae.useState(null),A=ae.useRef(null),[E,U]=ae.useState(!1),[Z,q]=ae.useState({name:"",phone:"",email:""}),[B,te]=ae.useState({title:"",description:"",status:"in_progress",address:"",postal_code:"",city:"",start_date:e.get("date")||"",end_date:"",estimated_hours:""});ae.useEffect(()=>{le(),t&&F()},[n,l]),ae.useEffect(()=>{const V=D=>{A.current&&!A.current.contains(D.target)&&L(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const le=async()=>{if(l!=null&&l.id)try{const{data:V,error:D}=await Je.from("customers").select("id, name, email, phone, address, is_private").eq("organization_id",l.id).order("name");if(D)throw D;b(V||[])}catch(V){console.error("Error fetching customers:",V)}},F=async()=>{try{const{data:V,error:D}=await Je.from("jobs").select(`
          *,
          customer:customers(id, name, email, phone, address, is_private)
        `).eq("id",n).single();if(D)throw D;te({title:V.title||"",description:V.description||"",status:V.status||"in_progress",address:V.address||"",postal_code:V.postal_code||"",city:V.city||"",start_date:V.start_date||"",end_date:V.end_date||"",estimated_hours:V.estimated_hours||""}),V.customer&&k(V.customer)}catch(V){console.error("Error fetching job:",V),y("Kunne ikke hente jobb")}finally{d(!1)}},R=V=>{te(D=>({...D,[V.target.name]:V.target.value}))},ee=V=>{C(V),L(!0)},G=_.filter(V=>{var D,N;return V.name.toLowerCase().includes(v.toLowerCase())||((D=V.email)==null?void 0:D.toLowerCase().includes(v.toLowerCase()))||((N=V.phone)==null?void 0:N.includes(v))}),ue=V=>{k(V),C(""),L(!1),V.address&&!B.address&&te(D=>({...D,address:V.address||""}))},$=()=>{k(null)},X=()=>{q({name:v,phone:"",email:""}),U(!0),L(!1)},O=async()=>{if(Z.name.trim())try{const{data:V,error:D}=await Je.from("customers").insert([{organization_id:l.id,name:Z.name.trim(),phone:Z.phone||null,email:Z.email||null,is_private:!0}]).select().single();if(D)throw D;b(N=>[...N,V]),k(V),U(!1),C("")}catch(V){console.error("Error creating customer:",V),alert("Kunne ikke opprette kunde. Prv igjen.")}},W=async V=>{V.preventDefault(),y(""),c(!0);try{const D={...B,organization_id:l.id,customer_id:(S==null?void 0:S.id)||null,estimated_hours:B.estimated_hours?parseFloat(B.estimated_hours):null,start_date:B.start_date||null,end_date:B.end_date||null};if(t){const{error:N}=await Je.from("jobs").update(D).eq("id",n);if(N)throw N}else{const{error:N}=await Je.from("jobs").insert([D]);if(N)throw N}s("/jobber")}catch(D){console.error("Error saving job:",D),y("Kunne ikke lagre jobb. Prv igjen.")}finally{c(!1)}};return f?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:Ht.header,children:[i.jsxs(on,{to:"/jobber",className:`btn btn-ghost btn-sm ${Ht.backButton}`,children:[i.jsx(Ad,{size:16}),"Tilbake til jobber"]}),i.jsx("h2",{className:Ht.title,children:t?"Rediger jobb":"Ny jobb"})]}),p&&i.jsxs("div",{className:`badge badge-danger ${Ht.errorAlert}`,children:[i.jsx(Eo,{size:16}),p]}),i.jsxs("form",{onSubmit:W,children:[i.jsxs("div",{className:`card ${Ht.card}`,children:[i.jsx("h3",{className:`card-title ${Ht.cardTitle}`,children:"Kunde"}),S?i.jsxs("div",{className:Ht.selectedCustomer,children:[i.jsxs("div",{className:Ht.selectedCustomerInfo,children:[i.jsx("div",{className:Ht.selectedCustomerIcon,children:i.jsx(Ws,{size:18})}),i.jsxs("div",{children:[i.jsx("div",{className:Ht.selectedCustomerName,children:S.name}),i.jsx("div",{className:Ht.selectedCustomerMeta,children:S.phone||S.email||"Ingen kontaktinfo"})]})]}),i.jsx("button",{type:"button",className:Ht.removeCustomerBtn,onClick:$,title:"Fjern kunde",children:i.jsx(hr,{size:16})})]}):i.jsxs("div",{className:Ht.customerSearch,ref:A,children:[i.jsxs("div",{className:Ht.customerSearchInput,children:[i.jsx(Tc,{size:18,className:Ht.customerSearchIcon}),i.jsx("input",{type:"text",className:`form-input ${Ht.customerSearchField}`,placeholder:"Sk etter kunde eller skriv inn nytt navn...",value:v,onChange:V=>ee(V.target.value),onFocus:()=>L(!0)})]}),P&&v&&i.jsxs("div",{className:Ht.customerDropdown,children:[G.length>0?G.slice(0,5).map(V=>i.jsxs("div",{className:Ht.customerOption,onClick:()=>ue(V),children:[i.jsx("div",{className:Ht.customerOptionName,children:V.name}),i.jsxs("div",{className:Ht.customerOptionMeta,children:[V.phone&&i.jsxs("span",{className:Ht.customerOptionMetaItem,children:[i.jsx(Yh,{size:10})," ",V.phone]}),V.email&&i.jsxs("span",{className:Ht.customerOptionMetaItem,children:[i.jsx(la,{size:10})," ",V.email]})]})]},V.id)):null,i.jsxs("div",{className:Ht.createCustomerOption,onClick:X,children:[i.jsx(jn,{size:16}),'Opprett "',v,'" som ny kunde']})]})]})]}),i.jsxs("div",{className:`card ${Ht.card}`,children:[i.jsx("h3",{className:`card-title ${Ht.cardTitle}`,children:"Jobbdetaljer"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"title",children:"Jobbtittel *"}),i.jsx("input",{id:"title",name:"title",type:"text",className:"form-input",placeholder:"F.eks. Baderomsrenovering, Malejobb, Reparasjon...",value:B.title,onChange:R,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"description",children:"Beskrivelse"}),i.jsx("textarea",{id:"description",name:"description",className:"form-textarea",placeholder:"Beskriv jobben...",value:B.description,onChange:R,rows:3})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Status"}),i.jsxs("div",{className:Ht.statusSelect,children:[i.jsx("button",{type:"button",className:`${Ht.statusOption} ${B.status==="quote"?Ht.statusOptionQuote:""}`,onClick:()=>te(V=>({...V,status:"quote"})),children:"Tilbud"}),i.jsx("button",{type:"button",className:`${Ht.statusOption} ${B.status==="in_progress"?Ht.statusOptionInProgress:""}`,onClick:()=>te(V=>({...V,status:"in_progress"})),children:"Pgr"}),i.jsx("button",{type:"button",className:`${Ht.statusOption} ${B.status==="completed"?Ht.statusOptionCompleted:""}`,onClick:()=>te(V=>({...V,status:"completed"})),children:"Fullfrt"})]})]}),i.jsxs("div",{className:Ht.dateRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"start_date",children:"Planlagt dato"}),i.jsx(qh,{id:"start_date",name:"start_date",value:B.start_date,onChange:R})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"estimated_hours",children:"Estimerte timer"}),i.jsx("input",{id:"estimated_hours",name:"estimated_hours",type:"number",step:"0.5",className:"form-input",placeholder:"F.eks. 8",value:B.estimated_hours,onChange:R})]})]})]}),i.jsxs("div",{className:`card ${Ht.card}`,children:[i.jsx("h3",{className:`card-title ${Ht.cardTitle}`,children:"Arbeidssted"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"address",children:"Adresse"}),i.jsx("input",{id:"address",name:"address",type:"text",className:"form-input",placeholder:"Gateadresse",value:B.address,onChange:R})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"postal_code",children:"Postnummer"}),i.jsx("input",{id:"postal_code",name:"postal_code",type:"text",className:"form-input",placeholder:"0000",value:B.postal_code,onChange:R})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",htmlFor:"city",children:"Sted"}),i.jsx("input",{id:"city",name:"city",type:"text",className:"form-input",placeholder:"Oslo",value:B.city,onChange:R})]})]})]}),i.jsxs("div",{className:Ht.buttonRow,children:[i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?i.jsx("span",{className:"spinner",style:{width:20,height:20,borderWidth:2}}):i.jsxs(i.Fragment,{children:[i.jsx($a,{size:18}),t?"Lagre endringer":"Opprett jobb"]})}),i.jsx(on,{to:"/jobber",className:"btn btn-secondary",children:"Avbryt"})]})]}),E&&i.jsx("div",{className:"modal-overlay",onClick:()=>U(!1),children:i.jsxs("div",{className:"modal",onClick:V=>V.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Hurtigopprett kunde"}),i.jsx("button",{className:"modal-close",onClick:()=>U(!1),children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:Ht.quickCreateForm,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Kundenavn *"}),i.jsx("input",{type:"text",className:"form-input",value:Z.name,onChange:V=>q(D=>({...D,name:V.target.value})),autoFocus:!0})]}),i.jsxs("div",{className:Ht.quickCreateRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Telefon"}),i.jsx("input",{type:"tel",className:"form-input",placeholder:"+47 123 45 678",value:Z.phone,onChange:V=>q(D=>({...D,phone:V.target.value}))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"E-post"}),i.jsx("input",{type:"email",className:"form-input",placeholder:"kunde@eksempel.no",value:Z.email,onChange:V=>q(D=>({...D,email:V.target.value}))})]})]})]}),i.jsx("p",{className:"text-muted mt-md",style:{fontSize:"var(--font-size-sm)"},children:"Du kan legge til mer informasjon senere via kundelisten."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>U(!1),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:O,disabled:!Z.name.trim(),children:[i.jsx(jn,{size:16}),"Opprett kunde"]})]})]})})]})}const $3="_header_yo1ua_1",q3="_headerLeft_yo1ua_19",z3="_backButton_yo1ua_31",U3="_title_yo1ua_65",H3="_meta_yo1ua_77",W3="_statusBadge_yo1ua_89",V3="_quoteRef_yo1ua_107",G3="_headerActions_yo1ua_117",K3="_content_yo1ua_127",Y3="_infoGrid_yo1ua_139",J3="_infoCard_yo1ua_151",Q3="_cardTitle_yo1ua_159",X3="_customerInfo_yo1ua_183",Z3="_scheduleInfo_yo1ua_185",e4="_customerName_yo1ua_195",t4="_noData_yo1ua_205",n4="_descriptionCard_yo1ua_215",r4="_description_yo1ua_215",s4="_linesCard_yo1ua_237",i4="_linesHeader_yo1ua_245",a4="_linesTable_yo1ua_267",o4="_linesTableHeader_yo1ua_279",l4="_lineRow_yo1ua_303",c4="_lineActions_yo1ua_341",u4="_iconBtn_yo1ua_351",d4="_deleteBtn_yo1ua_389",h4="_fullyInvoiced_yo1ua_399",f4="_totals_yo1ua_415",p4="_totalRow_yo1ua_435",m4="_grandTotal_yo1ua_449",g4="_lineFormRow_yo1ua_465",v4="_invoiceModal_yo1ua_479",y4="_invoiceModalDesc_yo1ua_487",_4="_invoiceLinesList_yo1ua_497",b4="_invoiceLine_yo1ua_497",w4="_invoiceLineCheck_yo1ua_525",x4="_invoiceLineDetails_yo1ua_553",j4="_invoiceLinePrice_yo1ua_579",k4="_invoiceTotal_yo1ua_589",N4="_mobileLines_yo1ua_797",S4="_desktopLinesTable_yo1ua_805",C4="_mobileLineCard_yo1ua_835",L4="_mobileLineHeader_yo1ua_855",A4="_mobileLineTitle_yo1ua_869",P4="_mobileLineGrid_yo1ua_883",E4="_mobileLineItem_yo1ua_895",T4="_mobileLineLabel_yo1ua_907",O4="_mobileLineValue_yo1ua_921",I4="_complete_yo1ua_937",D4="_mobileLineFooter_yo1ua_945",R4="_mobileLineSum_yo1ua_959",F4="_editing_yo1ua_973",nt={header:$3,headerLeft:q3,backButton:z3,title:U3,meta:H3,statusBadge:W3,quoteRef:V3,headerActions:G3,content:K3,infoGrid:Y3,infoCard:J3,cardTitle:Q3,customerInfo:X3,scheduleInfo:Z3,customerName:e4,noData:t4,descriptionCard:n4,description:r4,linesCard:s4,linesHeader:i4,linesTable:a4,linesTableHeader:o4,lineRow:l4,lineActions:c4,iconBtn:u4,deleteBtn:d4,fullyInvoiced:h4,totals:f4,totalRow:p4,grandTotal:m4,lineFormRow:g4,invoiceModal:v4,invoiceModalDesc:y4,invoiceLinesList:_4,invoiceLine:b4,invoiceLineCheck:w4,invoiceLineDetails:x4,invoiceLinePrice:j4,invoiceTotal:k4,mobileLines:N4,desktopLinesTable:S4,mobileLineCard:C4,mobileLineHeader:L4,mobileLineTitle:A4,mobileLineGrid:P4,mobileLineItem:E4,mobileLineLabel:T4,mobileLineValue:O4,complete:I4,mobileLineFooter:D4,mobileLineSum:R4,editing:F4},c1={pending:{label:"Venter",color:"var(--color-warning)"},in_progress:{label:"Pgr",color:"var(--color-primary)"},completed:{label:"Fullfrt",color:"var(--color-success)"},cancelled:{label:"Kansellert",color:"var(--color-error)"}};function M4(){const{id:n}=Tu(),e=Gr(),{organization:t,profile:s}=fr(),[l,o]=ae.useState(null),[c,f]=ae.useState([]),[d,p]=ae.useState(!0),[y,_]=ae.useState(!1),[b,v]=ae.useState(null),[C,P]=ae.useState(!1),[L,S]=ae.useState(null),[k,A]=ae.useState(!1),[E,U]=ae.useState({description:"",quantity:1,unit_name:"stk",unit_price:0,cost_price:0,vat_rate:25});ae.useEffect(()=>{n&&(t!=null&&t.id)&&Z()},[n,t]);const Z=async()=>{try{const{data:$,error:X}=await Je.from("jobs").select(`
          *,
          customer:customers(*),
          quote:quotes(id, quote_number, title)
        `).eq("id",n).single();if(X)throw X;o($);const{data:O,error:W}=await Je.from("job_lines").select("*").eq("job_id",n).order("sort_order");if(W)throw W;f(O||[])}catch($){console.error("Error fetching job:",$),e("/jobber")}finally{p(!1)}},q=()=>{let $=0,X=0;return c.forEach(O=>{const W=O.quantity*O.unit_price;$+=W,X+=W*((O.vat_rate||25)/100)}),{subtotal:$,vatAmount:X,total:$+X}},B=async()=>{if(E.description.trim()){_(!0);try{const{data:$,error:X}=await Je.from("job_lines").insert([{job_id:n,...E,sort_order:c.length}]).select().single();if(X)throw X;f([...c,$]),U({description:"",quantity:1,unit_name:"stk",unit_price:0,cost_price:0,vat_rate:25}),P(!1)}catch($){console.error("Error adding line:",$),alert("Kunne ikke legge til linje. Prv igjen.")}finally{_(!1)}}},te=async($,X)=>{_(!0);try{const{error:O}=await Je.from("job_lines").update(X).eq("id",$);if(O)throw O;f(c.map(W=>W.id===$?{...W,...X}:W)),v(null)}catch(O){console.error("Error updating line:",O),alert("Kunne ikke oppdatere linje. Prv igjen.")}finally{_(!1)}},le=async $=>{try{const{error:X}=await Je.from("job_lines").delete().eq("id",$);if(X)throw X;f(c.filter(O=>O.id!==$)),S(null)}catch(X){console.error("Error deleting line:",X),alert("Kunne ikke slette linje. Prv igjen.")}},F=async $=>{try{const{data:X}=await Je.rpc("get_next_invoice_number",{org_id:t.id}),{data:O,error:W}=await Je.from("invoices").insert([{organization_id:t.id,customer_id:l.customer_id,job_id:l.id,invoice_number:X||1,title:l.title,status:"draft",due_date:an(new Date(Date.now()+336*60*60*1e3),"yyyy-MM-dd"),created_by:s==null?void 0:s.id}]).select().single();if(W)throw W;const V=$.map((N,M)=>({invoice_id:O.id,job_line_id:N.id,article_id:N.article_id,description:N.description,quantity:N.quantityToInvoice||N.quantity-N.quantity_invoiced,unit_name:N.unit_name,cost_price:N.cost_price||0,unit_price:N.unit_price,vat_rate:N.vat_rate||25,total:(N.quantityToInvoice||N.quantity-N.quantity_invoiced)*N.unit_price,sort_order:M})),{error:D}=await Je.from("invoice_lines").insert(V);if(D)throw D;for(const N of $){const M=(N.quantity_invoiced||0)+(N.quantityToInvoice||N.quantity-N.quantity_invoiced);await Je.from("job_lines").update({quantity_invoiced:M}).eq("id",N.id)}await Z(),A(!1),e(`/fakturaer/${O.id}`)}catch(X){console.error("Error creating invoice:",X),alert("Kunne ikke opprette faktura. Prv igjen.")}},R=$=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format($);if(d)return i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})});if(!l)return i.jsx("div",{className:"page-container",children:i.jsx("p",{children:"Jobb ikke funnet"})});const ee=q(),G=c1[l.status]||c1.pending,ue=c.some($=>$.quantity>($.quantity_invoiced||0));return i.jsxs("div",{className:"page-container",children:[i.jsxs("div",{className:nt.header,children:[i.jsxs("div",{className:nt.headerLeft,children:[i.jsx(on,{to:"/jobber",className:nt.backButton,children:i.jsx(Ad,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:nt.title,children:l.title}),i.jsxs("div",{className:nt.meta,children:[i.jsx("span",{className:nt.statusBadge,style:{backgroundColor:G.color},children:G.label}),l.quote&&i.jsxs("span",{className:nt.quoteRef,children:["Fra tilbud #",l.quote.quote_number]})]})]})]}),i.jsxs("div",{className:nt.headerActions,children:[i.jsxs(on,{to:`/jobber/${n}/rediger`,className:"btn btn-secondary",children:[i.jsx(Tl,{size:18}),"Rediger"]}),ue&&i.jsxs("button",{className:"btn btn-primary",onClick:()=>A(!0),children:[i.jsx(cm,{size:18}),"Opprett faktura"]})]})]}),i.jsxs("div",{className:nt.content,children:[i.jsxs("div",{className:nt.infoGrid,children:[i.jsxs("div",{className:`card ${nt.infoCard}`,children:[i.jsxs("h3",{className:nt.cardTitle,children:[i.jsx(Ws,{size:18}),"Kunde"]}),l.customer?i.jsxs("div",{className:nt.customerInfo,children:[i.jsx("p",{className:nt.customerName,children:l.customer.name}),l.customer.email&&i.jsx("p",{children:l.customer.email}),l.customer.phone&&i.jsx("p",{children:l.customer.phone})]}):i.jsx("p",{className:nt.noData,children:"Ingen kunde valgt"})]}),i.jsxs("div",{className:`card ${nt.infoCard}`,children:[i.jsxs("h3",{className:nt.cardTitle,children:[i.jsx(Kh,{size:18}),"Arbeidssted"]}),l.address?i.jsxs("div",{children:[i.jsx("p",{children:l.address}),(l.postal_code||l.city)&&i.jsxs("p",{children:[l.postal_code," ",l.city]})]}):i.jsx("p",{className:nt.noData,children:"Ingen adresse"})]}),i.jsxs("div",{className:`card ${nt.infoCard}`,children:[i.jsxs("h3",{className:nt.cardTitle,children:[i.jsx(Ba,{size:18}),"Tidspunkt"]}),i.jsxs("div",{className:nt.scheduleInfo,children:[l.start_date&&i.jsxs("p",{children:[i.jsx("strong",{children:"Start:"})," ",an(new Date(l.start_date),"d. MMMM yyyy",{locale:Ss})]}),l.estimated_hours&&i.jsxs("p",{children:[i.jsx("strong",{children:"Estimert:"})," ",l.estimated_hours," timer"]})]})]})]}),l.description&&i.jsxs("div",{className:`card ${nt.descriptionCard}`,children:[i.jsxs("h3",{className:nt.cardTitle,children:[i.jsx(ca,{size:18}),"Beskrivelse"]}),i.jsx("p",{className:nt.description,children:l.description})]}),i.jsxs("div",{className:`card ${nt.linesCard}`,children:[i.jsxs("div",{className:nt.linesHeader,children:[i.jsxs("h3",{className:nt.cardTitle,children:[i.jsx(kc,{size:18}),"Arbeidslinjer"]}),i.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>P(!0),children:[i.jsx(jn,{size:16}),"Legg til linje"]})]}),c.length===0?i.jsx("p",{className:nt.noData,children:"Ingen linjer lagt til"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:nt.desktopLinesTable,children:i.jsxs("div",{className:nt.linesTable,children:[i.jsxs("div",{className:nt.linesTableHeader,children:[i.jsx("span",{children:"Beskrivelse"}),i.jsx("span",{children:"Antall"}),i.jsx("span",{children:"Enhet"}),i.jsx("span",{children:"Pris"}),i.jsx("span",{children:"MVA"}),i.jsx("span",{children:"Sum"}),i.jsx("span",{children:"Fakturert"}),i.jsx("span",{})]}),c.map($=>{const X=$.quantity*$.unit_price,O=$.quantity-($.quantity_invoiced||0),W=b===$.id;return i.jsx("div",{className:nt.lineRow,children:W?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-input",defaultValue:$.description,onBlur:V=>te($.id,{description:V.target.value})}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.quantity,onBlur:V=>te($.id,{quantity:parseFloat(V.target.value)})}),i.jsx("input",{type:"text",className:"form-input",defaultValue:$.unit_name,onBlur:V=>te($.id,{unit_name:V.target.value})}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.unit_price,onBlur:V=>te($.id,{unit_price:parseFloat(V.target.value)})}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.vat_rate,onBlur:V=>te($.id,{vat_rate:parseFloat(V.target.value)})}),i.jsx("span",{children:R(X)}),i.jsxs("span",{children:[$.quantity_invoiced||0," / ",$.quantity]}),i.jsx("button",{className:nt.iconBtn,onClick:()=>v(null),children:i.jsx(hr,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:$.description}),i.jsx("span",{children:$.quantity}),i.jsx("span",{children:$.unit_name}),i.jsx("span",{children:R($.unit_price)}),i.jsxs("span",{children:[$.vat_rate||25,"%"]}),i.jsx("span",{children:R(X)}),i.jsxs("span",{className:O===0?nt.fullyInvoiced:"",children:[$.quantity_invoiced||0," / ",$.quantity,O===0&&i.jsx(Dl,{size:14})]}),i.jsxs("div",{className:nt.lineActions,children:[i.jsx("button",{className:nt.iconBtn,onClick:()=>v($.id),children:i.jsx(Tl,{size:16})}),i.jsx("button",{className:`${nt.iconBtn} ${nt.deleteBtn}`,onClick:()=>S($),children:i.jsx(Ua,{size:16})})]})]})},$.id)})]})}),i.jsx("div",{className:nt.mobileLines,children:c.map($=>{const X=$.quantity*$.unit_price,O=$.quantity-($.quantity_invoiced||0),W=b===$.id;return i.jsx("div",{className:`${nt.mobileLineCard} ${W?nt.editing:""}`,children:W?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:nt.mobileLineHeader,children:[i.jsx("input",{type:"text",className:"form-input",defaultValue:$.description,placeholder:"Beskrivelse",onBlur:V=>te($.id,{description:V.target.value})}),i.jsx("button",{className:nt.iconBtn,onClick:()=>v(null),children:i.jsx(hr,{size:18})})]}),i.jsxs("div",{className:nt.mobileLineGrid,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Antall"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.quantity,onBlur:V=>te($.id,{quantity:parseFloat(V.target.value)})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Enhet"}),i.jsx("input",{type:"text",className:"form-input",defaultValue:$.unit_name,onBlur:V=>te($.id,{unit_name:V.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Pris per enhet"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.unit_price,onBlur:V=>te($.id,{unit_price:parseFloat(V.target.value)})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"MVA %"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:$.vat_rate||25,onBlur:V=>te($.id,{vat_rate:parseFloat(V.target.value)})})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:nt.mobileLineHeader,children:[i.jsx("span",{className:nt.mobileLineTitle,children:$.description}),i.jsxs("div",{className:nt.lineActions,children:[i.jsx("button",{className:nt.iconBtn,onClick:()=>v($.id),children:i.jsx(Tl,{size:18})}),i.jsx("button",{className:`${nt.iconBtn} ${nt.deleteBtn}`,onClick:()=>S($),children:i.jsx(Ua,{size:18})})]})]}),i.jsxs("div",{className:nt.mobileLineGrid,children:[i.jsxs("div",{className:nt.mobileLineItem,children:[i.jsx("span",{className:nt.mobileLineLabel,children:"Antall"}),i.jsxs("span",{className:nt.mobileLineValue,children:[$.quantity," ",$.unit_name]})]}),i.jsxs("div",{className:nt.mobileLineItem,children:[i.jsx("span",{className:nt.mobileLineLabel,children:"Pris"}),i.jsx("span",{className:nt.mobileLineValue,children:R($.unit_price)})]}),i.jsxs("div",{className:nt.mobileLineItem,children:[i.jsx("span",{className:nt.mobileLineLabel,children:"MVA"}),i.jsxs("span",{className:nt.mobileLineValue,children:[$.vat_rate||25,"%"]})]}),i.jsxs("div",{className:nt.mobileLineItem,children:[i.jsx("span",{className:nt.mobileLineLabel,children:"Fakturert"}),i.jsxs("span",{className:`${nt.mobileLineValue} ${O===0?nt.complete:""}`,children:[$.quantity_invoiced||0," / ",$.quantity,O===0&&i.jsx(Dl,{size:14})]})]})]}),i.jsx("div",{className:nt.mobileLineFooter,children:i.jsx("span",{className:nt.mobileLineSum,children:R(X)})})]})},$.id)})})]}),c.length>0&&i.jsxs("div",{className:nt.totals,children:[i.jsxs("div",{className:nt.totalRow,children:[i.jsx("span",{children:"Sum eks. mva:"}),i.jsx("span",{children:R(ee.subtotal)})]}),i.jsxs("div",{className:nt.totalRow,children:[i.jsx("span",{children:"MVA:"}),i.jsx("span",{children:R(ee.vatAmount)})]}),i.jsxs("div",{className:`${nt.totalRow} ${nt.grandTotal}`,children:[i.jsx("span",{children:"Totalt:"}),i.jsx("span",{children:R(ee.total)})]})]})]})]}),C&&i.jsx("div",{className:"modal-overlay",onClick:()=>P(!1),children:i.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Legg til linje"}),i.jsx("button",{className:"modal-close",onClick:()=>P(!1),children:i.jsx(hr,{size:20})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Beskrivelse *"}),i.jsx("input",{type:"text",className:"form-input",value:E.description,onChange:$=>U({...E,description:$.target.value}),placeholder:"Beskrivelse av arbeid/produkt"})]}),i.jsxs("div",{className:nt.lineFormRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Antall"}),i.jsx("input",{type:"number",className:"form-input",value:E.quantity,onChange:$=>U({...E,quantity:parseFloat($.target.value)||1})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Enhet"}),i.jsx("input",{type:"text",className:"form-input",value:E.unit_name,onChange:$=>U({...E,unit_name:$.target.value})})]})]}),i.jsxs("div",{className:nt.lineFormRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Pris per enhet (eks. mva)"}),i.jsx("input",{type:"number",className:"form-input",value:E.unit_price,onChange:$=>U({...E,unit_price:parseFloat($.target.value)||0})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"MVA %"}),i.jsx("input",{type:"number",className:"form-input",value:E.vat_rate,onChange:$=>U({...E,vat_rate:parseFloat($.target.value)||25})})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>P(!1),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:y||!E.description.trim(),children:[i.jsx(jn,{size:18}),"Legg til"]})]})]})}),L&&i.jsx("div",{className:"modal-overlay",onClick:()=>S(null),children:i.jsxs("div",{className:"modal modal-sm",onClick:$=>$.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Slett linje"}),i.jsx("button",{className:"modal-close",onClick:()=>S(null),children:i.jsx(hr,{size:20})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{children:"Er du sikker p at du vil slette denne linjen?"}),i.jsx("p",{children:i.jsx("strong",{children:L.description})})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>S(null),children:"Avbryt"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>le(L.id),children:"Slett"})]})]})}),k&&i.jsx(B4,{lines:c,onClose:()=>A(!1),onCreateInvoice:F,formatCurrency:R})]})}function B4({lines:n,onClose:e,onCreateInvoice:t,formatCurrency:s}){const[l,o]=ae.useState(n.filter(y=>y.quantity>(y.quantity_invoiced||0)).map(y=>({...y,quantityToInvoice:y.quantity-(y.quantity_invoiced||0),selected:!0}))),c=y=>{o(l.map(_=>_.id===y?{..._,selected:!_.selected}:_))},f=(y,_)=>{o(l.map(b=>b.id===y?{...b,quantityToInvoice:Math.min(_,b.quantity-(b.quantity_invoiced||0))}:b))},d=()=>{const y=l.filter(_=>_.selected&&_.quantityToInvoice>0);if(y.length===0){alert("Velg minst n linje  fakturere");return}t(y)},p=l.filter(y=>y.selected).reduce((y,_)=>y+_.quantityToInvoice*_.unit_price*(1+(_.vat_rate||25)/100),0);return i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:`modal ${nt.invoiceModal}`,onClick:y=>y.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Opprett faktura"}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx(hr,{size:20})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{className:nt.invoiceModalDesc,children:"Velg hvilke linjer du vil fakturere. Du kan delfakturere ved  endre antall."}),i.jsx("div",{className:nt.invoiceLinesList,children:l.map(y=>{const _=y.quantity-(y.quantity_invoiced||0);return i.jsxs("div",{className:nt.invoiceLine,children:[i.jsxs("label",{className:nt.invoiceLineCheck,children:[i.jsx("input",{type:"checkbox",checked:y.selected,onChange:()=>c(y.id)}),i.jsx("span",{children:y.description})]}),i.jsxs("div",{className:nt.invoiceLineDetails,children:[i.jsx("input",{type:"number",className:"form-input",value:y.quantityToInvoice,onChange:b=>f(y.id,parseFloat(b.target.value)||0),min:0,max:_,disabled:!y.selected}),i.jsxs("span",{children:["av ",_," ",y.unit_name]}),i.jsx("span",{className:nt.invoiceLinePrice,children:s(y.quantityToInvoice*y.unit_price)})]})]},y.id)})}),i.jsxs("div",{className:nt.invoiceTotal,children:[i.jsx("span",{children:"Total  fakturere (inkl. mva):"}),i.jsx("strong",{children:s(p)})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:d,children:[i.jsx(cm,{size:18}),"Opprett faktura"]})]})]})})}const $4="modulepreload",q4=function(n){return"/"+n},u1={},Fp=function(e,t,s){let l=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=c(t.map(p=>{if(p=q4(p),p in u1)return;u1[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":$4,y||(b.as="script"),b.crossOrigin="",b.href=p,d&&b.setAttribute("nonce",d),document.head.appendChild(b),y)return new Promise((v,C)=>{b.addEventListener("load",v),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function kn(n){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(n)}var hs=Uint8Array,di=Uint16Array,dm=Int32Array,Qh=new hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xh=new hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mp=new hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$v=function(n,e){for(var t=new di(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var l=new dm(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)l[o]=o-t[s]<<5|s;return{b:t,r:l}},qv=$v(Qh,2),zv=qv.b,Bp=qv.r;zv[28]=258,Bp[258]=28;var Uv=$v(Xh,0),z4=Uv.b,d1=Uv.r,$p=new di(32768);for(var qn=0;qn<32768;++qn){var Nl=(qn&43690)>>1|(qn&21845)<<1;Nl=(Nl&52428)>>2|(Nl&13107)<<2,Nl=(Nl&61680)>>4|(Nl&3855)<<4,$p[qn]=((Nl&65280)>>8|(Nl&255)<<8)>>1}var za=(function(n,e,t){for(var s=n.length,l=0,o=new di(e);l<s;++l)n[l]&&++o[n[l]-1];var c=new di(e);for(l=1;l<e;++l)c[l]=c[l-1]+o[l-1]<<1;var f;if(t){f=new di(1<<e);var d=15-e;for(l=0;l<s;++l)if(n[l])for(var p=l<<4|n[l],y=e-n[l],_=c[n[l]-1]++<<y,b=_|(1<<y)-1;_<=b;++_)f[$p[_]>>d]=p}else for(f=new di(s),l=0;l<s;++l)n[l]&&(f[l]=$p[c[n[l]-1]++]>>15-n[l]);return f}),Rl=new hs(288);for(var qn=0;qn<144;++qn)Rl[qn]=8;for(var qn=144;qn<256;++qn)Rl[qn]=9;for(var qn=256;qn<280;++qn)Rl[qn]=7;for(var qn=280;qn<288;++qn)Rl[qn]=8;var kd=new hs(32);for(var qn=0;qn<32;++qn)kd[qn]=5;var U4=za(Rl,9,0),H4=za(Rl,9,1),W4=za(kd,5,0),V4=za(kd,5,1),cp=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ta=function(n,e,t){var s=e/8|0;return(n[s]|n[s+1]<<8)>>(e&7)&t},up=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},hm=function(n){return(n+7)/8|0},Hv=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new hs(n.subarray(e,t))},G4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ia=function(n,e,t){var s=new Error(e||G4[n]);if(s.code=n,Error.captureStackTrace&&Error.captureStackTrace(s,ia),!t)throw s;return s},K4=function(n,e,t,s){var l=n.length,o=0;if(!l||e.f&&!e.l)return t||new hs(0);var c=!t,f=c||e.i!=2,d=e.i;c&&(t=new hs(l*3));var p=function(He){var Ue=t.length;if(He>Ue){var me=new hs(Math.max(Ue*2,He));me.set(t),t=me}},y=e.f||0,_=e.p||0,b=e.b||0,v=e.l,C=e.d,P=e.m,L=e.n,S=l*8;do{if(!v){y=ta(n,_,1);var k=ta(n,_+1,3);if(_+=3,k)if(k==1)v=H4,C=V4,P=9,L=5;else if(k==2){var Z=ta(n,_,31)+257,q=ta(n,_+10,15)+4,B=Z+ta(n,_+5,31)+1;_+=14;for(var te=new hs(B),le=new hs(19),F=0;F<q;++F)le[Mp[F]]=ta(n,_+F*3,7);_+=q*3;for(var R=cp(le),ee=(1<<R)-1,G=za(le,R,1),F=0;F<B;){var ue=G[ta(n,_,ee)];_+=ue&15;var A=ue>>4;if(A<16)te[F++]=A;else{var $=0,X=0;for(A==16?(X=3+ta(n,_,3),_+=2,$=te[F-1]):A==17?(X=3+ta(n,_,7),_+=3):A==18&&(X=11+ta(n,_,127),_+=7);X--;)te[F++]=$}}var O=te.subarray(0,Z),W=te.subarray(Z);P=cp(O),L=cp(W),v=za(O,P,1),C=za(W,L,1)}else ia(1);else{var A=hm(_)+4,E=n[A-4]|n[A-3]<<8,U=A+E;if(U>l){d&&ia(0);break}f&&p(b+E),t.set(n.subarray(A,U),b),e.b=b+=E,e.p=_=U*8,e.f=y;continue}if(_>S){d&&ia(0);break}}f&&p(b+131072);for(var V=(1<<P)-1,D=(1<<L)-1,N=_;;N=_){var $=v[up(n,_)&V],M=$>>4;if(_+=$&15,_>S){d&&ia(0);break}if($||ia(2),M<256)t[b++]=M;else if(M==256){N=_,v=null;break}else{var Q=M-254;if(M>264){var F=M-257,ie=Qh[F];Q=ta(n,_,(1<<ie)-1)+zv[F],_+=ie}var oe=C[up(n,_)&D],ve=oe>>4;oe||ia(3),_+=oe&15;var W=z4[ve];if(ve>3){var ie=Xh[ve];W+=up(n,_)&(1<<ie)-1,_+=ie}if(_>S){d&&ia(0);break}f&&p(b+131072);var ge=b+Q;if(b<W){var ke=o-W,$e=Math.min(W,ge);for(ke+b<0&&ia(3);b<$e;++b)t[b]=s[ke+b]}for(;b<ge;++b)t[b]=t[b-W]}}e.l=v,e.p=N,e.b=b,e.f=y,v&&(y=1,e.m=P,e.d=C,e.n=L)}while(!y);return b!=t.length&&c?Hv(t,0,b):t.subarray(0,b)},So=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},rd=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},dp=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var l=t.length,o=t.slice();if(!l)return{t:Vv,l:0};if(l==1){var c=new hs(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(U,Z){return U.f-Z.f}),t.push({s:-1,f:25001});var f=t[0],d=t[1],p=0,y=1,_=2;for(t[0]={s:-1,f:f.f+d.f,l:f,r:d};y!=l-1;)f=t[t[p].f<t[_].f?p++:_++],d=t[p!=y&&t[p].f<t[_].f?p++:_++],t[y++]={s:-1,f:f.f+d.f,l:f,r:d};for(var b=o[0].s,s=1;s<l;++s)o[s].s>b&&(b=o[s].s);var v=new di(b+1),C=qp(t[y-1],v,0);if(C>e){var s=0,P=0,L=C-e,S=1<<L;for(o.sort(function(Z,q){return v[q.s]-v[Z.s]||Z.f-q.f});s<l;++s){var k=o[s].s;if(v[k]>e)P+=S-(1<<C-v[k]),v[k]=e;else break}for(P>>=L;P>0;){var A=o[s].s;v[A]<e?P-=1<<e-v[A]++-1:++s}for(;s>=0&&P;--s){var E=o[s].s;v[E]==e&&(--v[E],++P)}C=e}return{t:new hs(v),l:C}},qp=function(n,e,t){return n.s==-1?Math.max(qp(n.l,e,t+1),qp(n.r,e,t+1)):e[n.s]=t},h1=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new di(++e),s=0,l=n[0],o=1,c=function(d){t[s++]=d},f=1;f<=e;++f)if(n[f]==l&&f!=e)++o;else{if(!l&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(l),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(l);o=1,l=n[f]}return{c:t.subarray(0,s),n:e}},sd=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},Wv=function(n,e,t){var s=t.length,l=hm(e+2);n[l]=s&255,n[l+1]=s>>8,n[l+2]=n[l]^255,n[l+3]=n[l+1]^255;for(var o=0;o<s;++o)n[l+o+4]=t[o];return(l+4+s)*8},f1=function(n,e,t,s,l,o,c,f,d,p,y){So(e,y++,t),++l[256];for(var _=dp(l,15),b=_.t,v=_.l,C=dp(o,15),P=C.t,L=C.l,S=h1(b),k=S.c,A=S.n,E=h1(P),U=E.c,Z=E.n,q=new di(19),B=0;B<k.length;++B)++q[k[B]&31];for(var B=0;B<U.length;++B)++q[U[B]&31];for(var te=dp(q,7),le=te.t,F=te.l,R=19;R>4&&!le[Mp[R-1]];--R);var ee=p+5<<3,G=sd(l,Rl)+sd(o,kd)+c,ue=sd(l,b)+sd(o,P)+c+14+3*R+sd(q,le)+2*q[16]+3*q[17]+7*q[18];if(d>=0&&ee<=G&&ee<=ue)return Wv(e,y,n.subarray(d,d+p));var $,X,O,W;if(So(e,y,1+(ue<G)),y+=2,ue<G){$=za(b,v,0),X=b,O=za(P,L,0),W=P;var V=za(le,F,0);So(e,y,A-257),So(e,y+5,Z-1),So(e,y+10,R-4),y+=14;for(var B=0;B<R;++B)So(e,y+3*B,le[Mp[B]]);y+=3*R;for(var D=[k,U],N=0;N<2;++N)for(var M=D[N],B=0;B<M.length;++B){var Q=M[B]&31;So(e,y,V[Q]),y+=le[Q],Q>15&&(So(e,y,M[B]>>5&127),y+=M[B]>>12)}}else $=U4,X=Rl,O=W4,W=kd;for(var B=0;B<f;++B){var ie=s[B];if(ie>255){var Q=ie>>18&31;rd(e,y,$[Q+257]),y+=X[Q+257],Q>7&&(So(e,y,ie>>23&31),y+=Qh[Q]);var oe=ie&31;rd(e,y,O[oe]),y+=W[oe],oe>3&&(rd(e,y,ie>>5&8191),y+=Xh[oe])}else rd(e,y,$[ie]),y+=X[ie]}return rd(e,y,$[256]),y+X[256]},Y4=new dm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vv=new hs(0),J4=function(n,e,t,s,l,o){var c=o.z||n.length,f=new hs(s+c+5*(1+Math.ceil(c/7e3))+l),d=f.subarray(s,f.length-l),p=o.l,y=(o.r||0)&7;if(e){y&&(d[0]=o.r>>3);for(var _=Y4[e-1],b=_>>13,v=_&8191,C=(1<<t)-1,P=o.p||new di(32768),L=o.h||new di(C+1),S=Math.ceil(t/3),k=2*S,A=function(pe){return(n[pe]^n[pe+1]<<S^n[pe+2]<<k)&C},E=new dm(25e3),U=new di(288),Z=new di(32),q=0,B=0,te=o.i||0,le=0,F=o.w||0,R=0;te+2<c;++te){var ee=A(te),G=te&32767,ue=L[ee];if(P[G]=ue,L[ee]=G,F<=te){var $=c-te;if((q>7e3||le>24576)&&($>423||!p)){y=f1(n,d,0,E,U,Z,B,le,R,te-R,y),le=q=B=0,R=te;for(var X=0;X<286;++X)U[X]=0;for(var X=0;X<30;++X)Z[X]=0}var O=2,W=0,V=v,D=G-ue&32767;if($>2&&ee==A(te-D))for(var N=Math.min(b,$)-1,M=Math.min(32767,te),Q=Math.min(258,$);D<=M&&--V&&G!=ue;){if(n[te+O]==n[te+O-D]){for(var ie=0;ie<Q&&n[te+ie]==n[te+ie-D];++ie);if(ie>O){if(O=ie,W=D,ie>N)break;for(var oe=Math.min(D,ie-2),ve=0,X=0;X<oe;++X){var ge=te-D+X&32767,ke=P[ge],$e=ge-ke&32767;$e>ve&&(ve=$e,ue=ge)}}}G=ue,ue=P[G],D+=G-ue&32767}if(W){E[le++]=268435456|Bp[O]<<18|d1[W];var He=Bp[O]&31,Ue=d1[W]&31;B+=Qh[He]+Xh[Ue],++U[257+He],++Z[Ue],F=te+O,++q}else E[le++]=n[te],++U[n[te]]}}for(te=Math.max(te,F);te<c;++te)E[le++]=n[te],++U[n[te]];y=f1(n,d,p,E,U,Z,B,le,R,te-R,y),p||(o.r=y&7|d[y/8|0]<<3,y-=7,o.h=L,o.p=P,o.i=te,o.w=F)}else{for(var te=o.w||0;te<c+p;te+=65535){var me=te+65535;me>=c&&(d[y/8|0]=p,me=c),y=Wv(d,y+1,n.subarray(te,me))}o.i=c}return Hv(f,0,s+hm(y)+l)},Gv=function(){var n=1,e=0;return{p:function(t){for(var s=n,l=e,o=t.length|0,c=0;c!=o;){for(var f=Math.min(c+2655,o);c<f;++c)l+=s+=t[c];s=(s&65535)+15*(s>>16),l=(l&65535)+15*(l>>16)}n=s,e=l},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Q4=function(n,e,t,s,l){if(!l&&(l={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new hs(o.length+n.length);c.set(o),c.set(n,o.length),n=c,l.w=o.length}return J4(n,e.level==null?6:e.level,e.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,l)},Kv=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},X4=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var l=Gv();l.p(e.dictionary),Kv(n,2,l.d())}},Z4=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ia(6,"invalid zlib data"),(n[1]>>5&1)==1&&ia(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function zp(n,e){e||(e={});var t=Gv();t.p(n);var s=Q4(n,e,e.dictionary?6:2,4);return X4(s,e),Kv(s,s.length-4,t.d()),s}function eS(n,e){return K4(n.subarray(Z4(n),-4),{i:2},e,e)}var tS=typeof TextDecoder<"u"&&new TextDecoder,nS=0;try{tS.decode(Vv,{stream:!0}),nS=1}catch{}var Et=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hp(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var Ln={log:hp,warn:function(n){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):hp.call(null,arguments))},error:function(n){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):hp(n))}};function fp(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){bc(s.response,e,t)},s.onerror=function(){Ln.error("could not download file")},s.send()}function p1(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xh(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var cd,Up,bc=Et.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=Et.URL||Et.webkitURL,l=document.createElement("a");e=e||n.name||"download",l.download=e,l.rel="noopener",typeof n=="string"?(l.href=n,l.origin!==location.origin?p1(l.href)?fp(n,e,t):xh(l,l.target="_blank"):xh(l)):(l.href=s.createObjectURL(n),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){xh(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(p1(n))fp(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout((function(){xh(s)}))}else navigator.msSaveOrOpenBlob((function(l,o){return o===void 0?o={autoBom:!1}:kn(o)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return fp(n,e,t);var l=n.type==="application/octet-stream",o=/constructor/i.test(Et.HTMLElement)||Et.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&o)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var y=f.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=y:location=y,s=null},f.readAsDataURL(n)}else{var d=Et.URL||Et.webkitURL,p=d.createObjectURL(n);s?s.location=p:location.href=p,s=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Yv(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],s=0;s<t.length;s++){var l=t[s].re,o=t[s].process,c=l.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+f+d+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pp(n,e){var t=n[0],s=n[1],l=n[2],o=n[3];t=ls(t,s,l,o,e[0],7,-680876936),o=ls(o,t,s,l,e[1],12,-389564586),l=ls(l,o,t,s,e[2],17,606105819),s=ls(s,l,o,t,e[3],22,-1044525330),t=ls(t,s,l,o,e[4],7,-176418897),o=ls(o,t,s,l,e[5],12,1200080426),l=ls(l,o,t,s,e[6],17,-1473231341),s=ls(s,l,o,t,e[7],22,-45705983),t=ls(t,s,l,o,e[8],7,1770035416),o=ls(o,t,s,l,e[9],12,-1958414417),l=ls(l,o,t,s,e[10],17,-42063),s=ls(s,l,o,t,e[11],22,-1990404162),t=ls(t,s,l,o,e[12],7,1804603682),o=ls(o,t,s,l,e[13],12,-40341101),l=ls(l,o,t,s,e[14],17,-1502002290),t=cs(t,s=ls(s,l,o,t,e[15],22,1236535329),l,o,e[1],5,-165796510),o=cs(o,t,s,l,e[6],9,-1069501632),l=cs(l,o,t,s,e[11],14,643717713),s=cs(s,l,o,t,e[0],20,-373897302),t=cs(t,s,l,o,e[5],5,-701558691),o=cs(o,t,s,l,e[10],9,38016083),l=cs(l,o,t,s,e[15],14,-660478335),s=cs(s,l,o,t,e[4],20,-405537848),t=cs(t,s,l,o,e[9],5,568446438),o=cs(o,t,s,l,e[14],9,-1019803690),l=cs(l,o,t,s,e[3],14,-187363961),s=cs(s,l,o,t,e[8],20,1163531501),t=cs(t,s,l,o,e[13],5,-1444681467),o=cs(o,t,s,l,e[2],9,-51403784),l=cs(l,o,t,s,e[7],14,1735328473),t=us(t,s=cs(s,l,o,t,e[12],20,-1926607734),l,o,e[5],4,-378558),o=us(o,t,s,l,e[8],11,-2022574463),l=us(l,o,t,s,e[11],16,1839030562),s=us(s,l,o,t,e[14],23,-35309556),t=us(t,s,l,o,e[1],4,-1530992060),o=us(o,t,s,l,e[4],11,1272893353),l=us(l,o,t,s,e[7],16,-155497632),s=us(s,l,o,t,e[10],23,-1094730640),t=us(t,s,l,o,e[13],4,681279174),o=us(o,t,s,l,e[0],11,-358537222),l=us(l,o,t,s,e[3],16,-722521979),s=us(s,l,o,t,e[6],23,76029189),t=us(t,s,l,o,e[9],4,-640364487),o=us(o,t,s,l,e[12],11,-421815835),l=us(l,o,t,s,e[15],16,530742520),t=ds(t,s=us(s,l,o,t,e[2],23,-995338651),l,o,e[0],6,-198630844),o=ds(o,t,s,l,e[7],10,1126891415),l=ds(l,o,t,s,e[14],15,-1416354905),s=ds(s,l,o,t,e[5],21,-57434055),t=ds(t,s,l,o,e[12],6,1700485571),o=ds(o,t,s,l,e[3],10,-1894986606),l=ds(l,o,t,s,e[10],15,-1051523),s=ds(s,l,o,t,e[1],21,-2054922799),t=ds(t,s,l,o,e[8],6,1873313359),o=ds(o,t,s,l,e[15],10,-30611744),l=ds(l,o,t,s,e[6],15,-1560198380),s=ds(s,l,o,t,e[13],21,1309151649),t=ds(t,s,l,o,e[4],6,-145523070),o=ds(o,t,s,l,e[11],10,-1120210379),l=ds(l,o,t,s,e[2],15,718787259),s=ds(s,l,o,t,e[9],21,-343485551),n[0]=El(t,n[0]),n[1]=El(s,n[1]),n[2]=El(l,n[2]),n[3]=El(o,n[3])}function Zh(n,e,t,s,l,o){return e=El(El(e,n),El(s,o)),El(e<<l|e>>>32-l,t)}function ls(n,e,t,s,l,o,c){return Zh(e&t|~e&s,n,e,l,o,c)}function cs(n,e,t,s,l,o,c){return Zh(e&s|t&~s,n,e,l,o,c)}function us(n,e,t,s,l,o,c){return Zh(e^t^s,n,e,l,o,c)}function ds(n,e,t,s,l,o,c){return Zh(t^(e|~s),n,e,l,o,c)}function Jv(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)pp(s,rS(n.substring(e-64,e)));n=n.substring(e-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)l[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(l[e>>2]|=128<<(e%4<<3),e>55)for(pp(s,l),e=0;e<16;e++)l[e]=0;return l[14]=8*t,pp(s,l),s}function rS(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}cd=Et.atob.bind(Et),Up=Et.btoa.bind(Et);var m1="0123456789abcdef".split("");function sS(n){for(var e="",t=0;t<4;t++)e+=m1[n>>8*t+4&15]+m1[n>>8*t&15];return e}function iS(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Hp(n){return Jv(n).map(iS).join("")}var aS=(function(n){for(var e=0;e<n.length;e++)n[e]=sS(n[e]);return n.join("")})(Jv("hello"))!="5d41402abc4b2a76b9719d911017c592";function El(n,e){if(aS){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Wp(n,e){var t,s,l,o;if(n!==t){for(var c=(l=n,o=1+(256/n.length>>0),new Array(o+1).join(l)),f=[],d=0;d<256;d++)f[d]=d;var p=0;for(d=0;d<256;d++){var y=f[d];p=(p+y+c.charCodeAt(d))%256,f[d]=f[p],f[p]=y}t=n,s=f}else f=s;var _=e.length,b=0,v=0,C="";for(d=0;d<_;d++)v=(v+(y=f[b=(b+1)%256]))%256,f[b]=f[v],f[v]=y,c=f[(f[b]+f[v])%256],C+=String.fromCharCode(e.charCodeAt(d)^c);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g1={print:4,modify:8,copy:16,"annot-forms":32};function xu(n,e,t,s){this.v=1,this.r=2;var l=192;n.forEach((function(f){if(g1.perm!==void 0)throw new Error("Invalid permission: "+f);l+=g1[f]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^l)),this.encryptionKey=Hp(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Wp(this.encryptionKey,this.padding)}function ju(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var l=n.charCodeAt(s);l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?e+="#"+("0"+l.toString(16)).slice(-2):e+=n[s]}return e}function v1(n){if(kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,l){if(l=l||!1,typeof t!="string"||typeof s!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!l],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),l=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(f){Et.console&&Ln.error("jsPDF PubSub Error",f.message,f)}c[1]&&l.push(o)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Nd(n){if(!(this instanceof Nd))return new Nd(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Qv(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Pl(n,e,t,s,l){if(!(this instanceof Pl))return new Pl(n,e,t,s,l);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Qv.call(this,s,l)}function Sc(n,e,t,s,l){if(!(this instanceof Sc))return new Sc(n,e,t,s,l);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Qv.call(this,s,l)}function jt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],l=arguments[2],o=arguments[3],c=[],f=1,d=16,p="S",y=null;kn(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,l=n.format||l,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),f=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),p=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,b={},v={internal:{},__private__:{}};v.__private__.PubSub=v1;var C="1.3",P=v.__private__.getPdfVersion=function(){return C};v.__private__.setPdfVersion=function(w){C=w};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return L};var S=v.__private__.getPageFormat=function(w){return L[w]};l=l||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},A=k.COMPAT;function E(){this.saveGraphicsState(),se(new _t(at,0,0,-at,0,ka()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),p="n",A=k.ADVANCED}function U(){this.restoreGraphicsState(),p="S",A=k.COMPAT}var Z=v.__private__.combineFontStyleAndFontWeight=function(w,H){if(w=="bold"&&H=="normal"||w=="bold"&&H==400||w=="normal"&&H=="italic"||w=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(w=H==400||H==="normal"?w==="italic"?"italic":"normal":H!=700&&H!=="bold"||w!=="normal"?(H==700?"bold":H)+""+w:"bold"),w};v.advancedAPI=function(w){var H=A===k.COMPAT;return H&&E.call(this),typeof w!="function"||(w(this),H&&U.call(this)),this},v.compatAPI=function(w){var H=A===k.ADVANCED;return H&&U.call(this),typeof w!="function"||(w(this),H&&E.call(this)),this},v.isAdvancedAPI=function(){return A===k.ADVANCED};var q,B=function(w){if(A!==k.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=v.roundToPrecision=v.__private__.roundToPrecision=function(w,H){var de=e||H;if(isNaN(w)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(de).replace(/0+$/,"")};q=v.hpf=v.__private__.hpf=typeof d=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return te(w,d)}:d==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return te(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return te(w,16)};var le=v.f2=v.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return te(w,2)},F=v.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return te(w,3)},R=v.scale=v.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return A===k.COMPAT?w*at:A===k.ADVANCED?w:void 0},ee=function(w){return A===k.COMPAT?ka()-w:A===k.ADVANCED?w:void 0},G=function(w){return R(ee(w))};v.__private__.setPrecision=v.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ue,$="00000000000000000000000000000000",X=v.__private__.getFileId=function(){return $},O=v.__private__.setFileId=function(w){return $=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():$.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),y!==null&&(Rn=new xu(y.userPermissions,y.userPassword,y.ownerPassword,$)),$};v.setFileId=function(w){return O(w),this},v.getFileId=function(){return X()};var W=v.__private__.convertDateToPDFDate=function(w){var H=w.getTimezoneOffset(),de=H<0?"+":"-",ye=Math.floor(Math.abs(H/60)),Se=Math.abs(H%60),Fe=[de,Q(ye),"'",Q(Se),"'"].join("");return["D:",w.getFullYear(),Q(w.getMonth()+1),Q(w.getDate()),Q(w.getHours()),Q(w.getMinutes()),Q(w.getSeconds()),Fe].join("")},V=v.__private__.convertPDFDateToDate=function(w){var H=parseInt(w.substr(2,4),10),de=parseInt(w.substr(6,2),10)-1,ye=parseInt(w.substr(8,2),10),Se=parseInt(w.substr(10,2),10),Fe=parseInt(w.substr(12,2),10),Ve=parseInt(w.substr(14,2),10);return new Date(H,de,ye,Se,Fe,Ve,0)},D=v.__private__.setCreationDate=function(w){var H;if(w===void 0&&(w=new Date),w instanceof Date)H=W(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=w}return ue=H},N=v.__private__.getCreationDate=function(w){var H=ue;return w==="jsDate"&&(H=V(ue)),H};v.setCreationDate=function(w){return D(w),this},v.getCreationDate=function(w){return N(w)};var M,Q=v.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ie=v.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},oe=0,ve=[],ge=[],ke=0,$e=[],He=[],Ue=!1,me=ge,pe=function(){oe=0,ke=0,ge=[],ve=[],$e=[],Oi=In(),Ks=In()};v.__private__.setCustomOutputDestination=function(w){Ue=!0,me=w};var he=function(w){Ue||(me=w)};v.__private__.resetCustomOutputDestination=function(){Ue=!1,me=ge};var se=v.__private__.out=function(w){return w=w.toString(),ke+=w.length+1,me.push(w),me},De=v.__private__.write=function(w){return se(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Xe=v.__private__.getArrayBuffer=function(w){for(var H=w.length,de=new ArrayBuffer(H),ye=new Uint8Array(de);H--;)ye[H]=w.charCodeAt(H);return de},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ie};var Ye=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(w){return Ye=A===k.ADVANCED?w/at:w,this};var st,it=v.__private__.getFontSize=v.getFontSize=function(){return A===k.COMPAT?Ye:Ye*at},gt=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(w){return gt=w,this},v.__private__.getR2L=v.getR2L=function(){return gt};var Ot,Mt=v.__private__.setZoomMode=function(w){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))st=w;else if(isNaN(w)){if(H.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');st=w}else st=parseInt(w,10)};v.__private__.getZoomMode=function(){return st};var zt,Gt=v.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Ot=w};v.__private__.getPageMode=function(){return Ot};var en=v.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');zt=w};v.__private__.getLayoutMode=function(){return zt},v.__private__.setDisplayMode=v.setDisplayMode=function(w,H,de){return Mt(w),en(H),Gt(de),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(w){if(Object.keys(Ct).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[w]},v.__private__.getDocumentProperties=function(){return Ct},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(w){for(var H in Ct)Ct.hasOwnProperty(H)&&w[H]&&(Ct[H]=w[H]);return this},v.__private__.setDocumentProperty=function(w,H){if(Object.keys(Ct).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[w]=H};var $t,at,Sr,Jt,Ls,_n={},Nn={},As=[],Qt={},Ti={},An={},Cr={},Kr=null,Tn=0,It=[],tn=new v1(v),ha=n.hotfixes||[],pr={},Ps={},Gs=[],_t=function w(H,de,ye,Se,Fe,Ve){if(!(this instanceof w))return new w(H,de,ye,Se,Fe,Ve);isNaN(H)&&(H=1),isNaN(de)&&(de=0),isNaN(ye)&&(ye=0),isNaN(Se)&&(Se=1),isNaN(Fe)&&(Fe=0),isNaN(Ve)&&(Ve=0),this._matrix=[H,de,ye,Se,Fe,Ve]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(w)},_t.prototype.multiply=function(w){var H=w.sx*this.sx+w.shy*this.shx,de=w.sx*this.shy+w.shy*this.sy,ye=w.shx*this.sx+w.sy*this.shx,Se=w.shx*this.shy+w.sy*this.sy,Fe=w.tx*this.sx+w.ty*this.shx+this.tx,Ve=w.tx*this.shy+w.ty*this.sy+this.ty;return new _t(H,de,ye,Se,Fe,Ve)},_t.prototype.decompose=function(){var w=this.sx,H=this.shy,de=this.shx,ye=this.sy,Se=this.tx,Fe=this.ty,Ve=Math.sqrt(w*w+H*H),ot=(w/=Ve)*de+(H/=Ve)*ye;de-=w*ot,ye-=H*ot;var yt=Math.sqrt(de*de+ye*ye);return ot/=yt,w*(ye/=yt)<H*(de/=yt)&&(w=-w,H=-H,ot=-ot,Ve=-Ve),{scale:new _t(Ve,0,0,yt,0,0),translate:new _t(1,0,0,1,Se,Fe),rotate:new _t(w,H,-H,w,0,0),skew:new _t(1,0,ot,1,0,0)}},_t.prototype.toString=function(w){return this.join(" ")},_t.prototype.inversed=function(){var w=this.sx,H=this.shy,de=this.shx,ye=this.sy,Se=this.tx,Fe=this.ty,Ve=1/(w*ye-H*de),ot=ye*Ve,yt=-H*Ve,Ft=-de*Ve,Rt=w*Ve;return new _t(ot,yt,Ft,Rt,-ot*Se-Ft*Fe,-yt*Se-Rt*Fe)},_t.prototype.applyToPoint=function(w){var H=w.x*this.sx+w.y*this.shx+this.tx,de=w.x*this.shy+w.y*this.sy+this.ty;return new _i(H,de)},_t.prototype.applyToRectangle=function(w){var H=this.applyToPoint(w),de=this.applyToPoint(new _i(w.x+w.w,w.y+w.h));return new ja(H.x,H.y,de.x-H.x,de.y-H.y)},_t.prototype.clone=function(){var w=this.sx,H=this.shy,de=this.shx,ye=this.sy,Se=this.tx,Fe=this.ty;return new _t(w,H,de,ye,Se,Fe)},v.Matrix=_t;var fs=v.matrixMult=function(w,H){return H.multiply(w)},Yr=new _t(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Yr;var Jr=function(w,H){if(!Ti[w]){var de=(H instanceof Pl?"Sh":"P")+(Object.keys(Qt).length+1).toString(10);H.id=de,Ti[w]=de,Qt[de]=H,tn.publish("addPattern",H)}};v.ShadingPattern=Pl,v.TilingPattern=Sc,v.addShadingPattern=function(w,H){return B("addShadingPattern()"),Jr(w,H),this},v.beginTilingPattern=function(w){B("beginTilingPattern()"),zc(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},v.endTilingPattern=function(w,H){B("endTilingPattern()"),H.stream=He[M].join(`
`),Jr(w,H),tn.publish("endTilingPattern",H),Gs.pop().restore()};var On=v.__private__.newObject=function(){var w=In();return Lr(w,!0),w},In=v.__private__.newObjectDeferred=function(){return oe++,ve[oe]=function(){return ke},oe},Lr=function(w,H){return H=typeof H=="boolean"&&H,ve[w]=ke,H&&se(w+" 0 obj"),w},fa=v.__private__.newAdditionalObject=function(){var w={objId:In(),content:""};return $e.push(w),w},Oi=In(),Ks=In(),Ys=v.__private__.decodeColorString=function(w){var H=w.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var de=parseFloat(H[0]);H=[de,de,de,"r"]}for(var ye="#",Se=0;Se<3;Se++)ye+=("0"+Math.floor(255*parseFloat(H[Se])).toString(16)).slice(-2);return ye},yr=v.__private__.encodeColorString=function(w){var H;typeof w=="string"&&(w={ch1:w});var de=w.ch1,ye=w.ch2,Se=w.ch3,Fe=w.ch4,Ve=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var ot=new Yv(de);if(ot.ok)de=ot.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var yt=parseInt(de.substr(1),16);de=yt>>16&255,ye=yt>>8&255,Se=255&yt}if(ye===void 0||Fe===void 0&&de===ye&&ye===Se)if(typeof de=="string")H=de+" "+Ve[0];else switch(w.precision){case 2:H=le(de/255)+" "+Ve[0];break;case 3:default:H=F(de/255)+" "+Ve[0]}else if(Fe===void 0||kn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return H=["1.","1.","1.",Ve[1]].join(" ");if(typeof de=="string")H=[de,ye,Se,Ve[1]].join(" ");else switch(w.precision){case 2:H=[le(de/255),le(ye/255),le(Se/255),Ve[1]].join(" ");break;default:case 3:H=[F(de/255),F(ye/255),F(Se/255),Ve[1]].join(" ")}}else if(typeof de=="string")H=[de,ye,Se,Fe,Ve[2]].join(" ");else switch(w.precision){case 2:H=[le(de),le(ye),le(Se),le(Fe),Ve[2]].join(" ");break;case 3:default:H=[F(de),F(ye),F(Se),F(Fe),Ve[2]].join(" ")}return H},Js=v.__private__.getFilters=function(){return c},ps=v.__private__.putStream=function(w){var H=(w=w||{}).data||"",de=w.filters||Js(),ye=w.alreadyAppliedFilters||[],Se=w.addLength1||!1,Fe=H.length,Ve=w.objectId,ot=function(Ar){return Ar};if(y!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(ot=Rn.encryptor(Ve,0));var yt={};de===!0&&(de=["FlateEncode"]);var Ft=w.additionalKeyValues||[],Rt=(yt=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(H,de):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(yt.data.length!==0&&(Ft.push({key:"Length",value:yt.data.length}),Se===!0&&Ft.push({key:"Length1",value:Fe})),Rt.length!=0)if(Rt.split("/").length-1==1)Ft.push({key:"Filter",value:Rt});else{Ft.push({key:"Filter",value:"["+Rt+"]"});for(var Kt=0;Kt<Ft.length;Kt+=1)if(Ft[Kt].key==="DecodeParms"){for(var Fn=[],zn=0;zn<yt.reverseChain.split("/").length-1;zn+=1)Fn.push("null");Fn.push(Ft[Kt].value),Ft[Kt].value="["+Fn.join(" ")+"]"}}se("<<");for(var Jn=0;Jn<Ft.length;Jn++)se("/"+Ft[Jn].key+" "+Ft[Jn].value);se(">>"),yt.data.length!==0&&(se("stream"),se(ot(yt.data)),se("endstream"))},pi=v.__private__.putPage=function(w){var H=w.number,de=w.data,ye=w.objId,Se=w.contentsObjId;Lr(ye,!0),se("<</Type /Page"),se("/Parent "+w.rootDictionaryObjId+" 0 R"),se("/Resources "+w.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(q(w.mediaBox.bottomLeftX))+" "+parseFloat(q(w.mediaBox.bottomLeftY))+" "+q(w.mediaBox.topRightX)+" "+q(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&se("/CropBox ["+q(w.cropBox.bottomLeftX)+" "+q(w.cropBox.bottomLeftY)+" "+q(w.cropBox.topRightX)+" "+q(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&se("/BleedBox ["+q(w.bleedBox.bottomLeftX)+" "+q(w.bleedBox.bottomLeftY)+" "+q(w.bleedBox.topRightX)+" "+q(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&se("/TrimBox ["+q(w.trimBox.bottomLeftX)+" "+q(w.trimBox.bottomLeftY)+" "+q(w.trimBox.topRightX)+" "+q(w.trimBox.topRightY)+"]"),w.artBox!==null&&se("/ArtBox ["+q(w.artBox.bottomLeftX)+" "+q(w.artBox.bottomLeftY)+" "+q(w.artBox.topRightX)+" "+q(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&se("/UserUnit "+w.userUnit),tn.publish("putPage",{objId:ye,pageContext:It[H],pageNumber:H,page:de}),se("/Contents "+Se+" 0 R"),se(">>"),se("endobj");var Fe=de.join(`
`);return A===k.ADVANCED&&(Fe+=`
Q`),Lr(Se,!0),ps({data:Fe,filters:Js(),objectId:Se}),se("endobj"),ye},pa=v.__private__.putPages=function(){var w,H,de=[];for(w=1;w<=Tn;w++)It[w].objId=In(),It[w].contentsObjId=In();for(w=1;w<=Tn;w++)de.push(pi({number:w,data:He[w],objId:It[w].objId,contentsObjId:It[w].contentsObjId,mediaBox:It[w].mediaBox,cropBox:It[w].cropBox,bleedBox:It[w].bleedBox,trimBox:It[w].trimBox,artBox:It[w].artBox,userUnit:It[w].userUnit,rootDictionaryObjId:Oi,resourceDictionaryObjId:Ks}));Lr(Oi,!0),se("<</Type /Pages");var ye="/Kids [";for(H=0;H<Tn;H++)ye+=de[H]+" 0 R ";se(ye+"]"),se("/Count "+Tn),se(">>"),se("endobj"),tn.publish("postPutPages")},Va=function(w){tn.publish("putFont",{font:w,out:se,newObject:On,putStream:ps}),w.isAlreadyPutted!==!0&&(w.objectNumber=On(),se("<<"),se("/Type /Font"),se("/BaseFont /"+ju(w.postScriptName)),se("/Subtype /Type1"),typeof w.encoding=="string"&&se("/Encoding /"+w.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Ga=function(){for(var w in _n)_n.hasOwnProperty(w)&&(_===!1||_===!0&&b.hasOwnProperty(w))&&Va(_n[w])},Ka=function(w){w.objectNumber=On();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[q(w.x),q(w.y),q(w.x+w.width),q(w.y+w.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var de=w.pages[1].join(`
`);ps({data:de,additionalKeyValues:H,objectId:w.objectNumber}),se("endobj")},Oo=function(){for(var w in pr)pr.hasOwnProperty(w)&&Ka(pr[w])},Ic=function(w,H){var de,ye=[],Se=1/(H-1);for(de=0;de<1;de+=Se)ye.push(de);if(ye.push(1),w[0].offset!=0){var Fe={offset:0,color:w[0].color};w.unshift(Fe)}if(w[w.length-1].offset!=1){var Ve={offset:1,color:w[w.length-1].color};w.push(Ve)}for(var ot="",yt=0,Ft=0;Ft<ye.length;Ft++){for(de=ye[Ft];de>w[yt+1].offset;)yt++;var Rt=w[yt].offset,Kt=(de-Rt)/(w[yt+1].offset-Rt),Fn=w[yt].color,zn=w[yt+1].color;ot+=ie(Math.round((1-Kt)*Fn[0]+Kt*zn[0]).toString(16))+ie(Math.round((1-Kt)*Fn[1]+Kt*zn[1]).toString(16))+ie(Math.round((1-Kt)*Fn[2]+Kt*zn[2]).toString(16))}return ot.trim()},Dn=function(w,H){H||(H=21);var de=On(),ye=Ic(w.colors,H),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+H+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ps({data:ye,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),se("endobj"),w.objectNumber=On(),se("<< /ShadingType "+w.type),se("/ColorSpace /DeviceRGB");var Fe="/Coords ["+q(parseFloat(w.coords[0]))+" "+q(parseFloat(w.coords[1]))+" ";w.type===2?Fe+=q(parseFloat(w.coords[2]))+" "+q(parseFloat(w.coords[3])):Fe+=q(parseFloat(w.coords[2]))+" "+q(parseFloat(w.coords[3]))+" "+q(parseFloat(w.coords[4]))+" "+q(parseFloat(w.coords[5])),se(Fe+="]"),w.matrix&&se("/Matrix ["+w.matrix.toString()+"]"),se("/Function "+de+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Ou=function(w,H){var de=In(),ye=On();H.push({resourcesOid:de,objectOid:ye}),w.objectNumber=ye;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+w.boundingBox.map(q).join(" ")+"]"}),Se.push({key:"XStep",value:q(w.xStep)}),Se.push({key:"YStep",value:q(w.yStep)}),Se.push({key:"Resources",value:de+" 0 R"}),w.matrix&&Se.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ps({data:w.stream,additionalKeyValues:Se,objectId:w.objectNumber}),se("endobj")},ma=function(w){var H;for(H in Qt)Qt.hasOwnProperty(H)&&(Qt[H]instanceof Pl?Dn(Qt[H]):Qt[H]instanceof Sc&&Ou(Qt[H],w))},Ml=function(w){for(var H in w.objectNumber=On(),se("<<"),w)switch(H){case"opacity":se("/ca "+le(w[H]));break;case"stroke-opacity":se("/CA "+le(w[H]))}se(">>"),se("endobj")},Io=function(){var w;for(w in An)An.hasOwnProperty(w)&&Ml(An[w])},Bl=function(){for(var w in se("/XObject <<"),pr)pr.hasOwnProperty(w)&&pr[w].objectNumber>=0&&se("/"+w+" "+pr[w].objectNumber+" 0 R");tn.publish("putXobjectDict"),se(">>")},Dc=function(){Rn.oid=On(),se("<<"),se("/Filter /Standard"),se("/V "+Rn.v),se("/R "+Rn.r),se("/U <"+Rn.toHexString(Rn.U)+">"),se("/O <"+Rn.toHexString(Rn.O)+">"),se("/P "+Rn.P),se(">>"),se("endobj")},Ya=function(){for(var w in se("/Font <<"),_n)_n.hasOwnProperty(w)&&(_===!1||_===!0&&b.hasOwnProperty(w))&&se("/"+w+" "+_n[w].objectNumber+" 0 R");se(">>")},Es=function(){if(Object.keys(Qt).length>0){for(var w in se("/Shading <<"),Qt)Qt.hasOwnProperty(w)&&Qt[w]instanceof Pl&&Qt[w].objectNumber>=0&&se("/"+w+" "+Qt[w].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),se(">>")}},Do=function(w){if(Object.keys(Qt).length>0){for(var H in se("/Pattern <<"),Qt)Qt.hasOwnProperty(H)&&Qt[H]instanceof v.TilingPattern&&Qt[H].objectNumber>=0&&Qt[H].objectNumber<w&&se("/"+H+" "+Qt[H].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),se(">>")}},ms=function(){if(Object.keys(An).length>0){var w;for(w in se("/ExtGState <<"),An)An.hasOwnProperty(w)&&An[w].objectNumber>=0&&se("/"+w+" "+An[w].objectNumber+" 0 R");tn.publish("putGStateDict"),se(">>")}},Vn=function(w){Lr(w.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ya(),Es(),Do(w.objectOid),ms(),Bl(),se(">>"),se("endobj")},Rc=function(){var w=[];Ga(),Io(),Oo(),ma(w),tn.publish("putResources"),w.forEach(Vn),Vn({resourcesOid:Ks,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources")},Fc=function(){tn.publish("putAdditionalObjects");for(var w=0;w<$e.length;w++){var H=$e[w];Lr(H.objId,!0),se(H.content),se("endobj")}tn.publish("postPutAdditionalObjects")},Ja=function(w){Nn[w.fontName]=Nn[w.fontName]||{},Nn[w.fontName][w.fontStyle]=w.id},ga=function(w,H,de,ye,Se){var Fe={id:"F"+(Object.keys(_n).length+1).toString(10),postScriptName:w,fontName:H,fontStyle:de,encoding:ye,isStandardFont:Se||!1,metadata:{}};return tn.publish("addFont",{font:Fe,instance:this}),_n[Fe.id]=Fe,Ja(Fe),Fe.id},Qa=function(w){for(var H=0,de=Ie.length;H<de;H++){var ye=ga.call(this,w[H][0],w[H][1],w[H][2],Ie[H][3],!0);_===!1&&(b[ye]=!0);var Se=w[H][0].split("-");Ja({id:ye,fontName:Se[0],fontStyle:Se[1]||""})}tn.publish("addFonts",{fonts:_n,dictionary:Nn})},Qr=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ye){var H=ye.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var de="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Et.console)throw new Error(de);Et.console.error(de,ye),Et.alert&&alert(de)}},w.foo.bar=w,w.foo},Ro=function(w,H){var de,ye,Se,Fe,Ve,ot,yt,Ft,Rt;if(Se=(H=H||{}).sourceEncoding||"Unicode",Ve=H.outputEncoding,(H.autoencode||Ve)&&_n[$t].metadata&&_n[$t].metadata[Se]&&_n[$t].metadata[Se].encoding&&(Fe=_n[$t].metadata[Se].encoding,!Ve&&_n[$t].encoding&&(Ve=_n[$t].encoding),!Ve&&Fe.codePages&&(Ve=Fe.codePages[0]),typeof Ve=="string"&&(Ve=Fe[Ve]),Ve)){for(yt=!1,ot=[],de=0,ye=w.length;de<ye;de++)(Ft=Ve[w.charCodeAt(de)])?ot.push(String.fromCharCode(Ft)):ot.push(w[de]),ot[de].charCodeAt(0)>>8&&(yt=!0);w=ot.join("")}for(de=w.length;yt===void 0&&de!==0;)w.charCodeAt(de-1)>>8&&(yt=!0),de--;if(!yt)return w;for(ot=H.noBOM?[]:[254,255],de=0,ye=w.length;de<ye;de++){if((Rt=(Ft=w.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ot.push(Rt),ot.push(Ft-(Rt<<8))}return String.fromCharCode.apply(void 0,ot)},Xr=v.__private__.pdfEscape=v.pdfEscape=function(w,H){return Ro(w,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xa=v.__private__.beginPage=function(w){He[++Tn]=[],It[Tn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},va(Tn),he(He[M])},$l=function(w,H){var de,ye,Se;switch(t=H||t,typeof w=="string"&&(de=S(w.toLowerCase()),Array.isArray(de)&&(ye=de[0],Se=de[1])),Array.isArray(w)&&(ye=w[0]*at,Se=w[1]*at),isNaN(ye)&&(ye=l[0],Se=l[1]),(ye>14400||Se>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Se=Math.min(14400,Se)),l=[ye,Se],t.substr(0,1)){case"l":Se>ye&&(l=[Se,ye]);break;case"p":ye>Se&&(l=[Se,ye])}Xa(l),ro(Hl),se(Zr),Vl!==0&&se(Vl+" J"),io!==0&&se(io+" j"),tn.publish("addPage",{pageNumber:Tn})},ql=function(w){w>0&&w<=Tn&&(He.splice(w,1),It.splice(w,1),Tn--,M>Tn&&(M=Tn),this.setPage(M))},va=function(w){w>0&&w<=Tn&&(M=w)},Iu=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return He.length-1},Fo=function(w,H,de){var ye,Se=void 0;return de=de||{},w=w!==void 0?w:_n[$t].fontName,H=H!==void 0?H:_n[$t].fontStyle,ye=w.toLowerCase(),Nn[ye]!==void 0&&Nn[ye][H]!==void 0?Se=Nn[ye][H]:Nn[w]!==void 0&&Nn[w][H]!==void 0?Se=Nn[w][H]:de.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+w+"', '"+H+"'. Refer to getFontList() for available fonts."),Se||de.noFallback||(Se=Nn.times[H])==null&&(Se=Nn.times.normal),Se},nn=v.__private__.putInfo=function(){var w=On(),H=function(ye){return ye};for(var de in y!==null&&(H=Rn.encryptor(w,0)),se("<<"),se("/Producer ("+Xr(H("jsPDF "+jt.version))+")"),Ct)Ct.hasOwnProperty(de)&&Ct[de]&&se("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Xr(H(Ct[de]))+")");se("/CreationDate ("+Xr(H(ue))+")"),se(">>"),se("endobj")},Mo=v.__private__.putCatalog=function(w){var H=(w=w||{}).rootDictionaryObjId||Oi;switch(On(),se("<<"),se("/Type /Catalog"),se("/Pages "+H+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+st;de.substr(de.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&se("/OpenAction [3 0 R /XYZ null null "+le(st)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Ot&&se("/PageMode /"+Ot),tn.publish("putCatalog"),se(">>"),se("endobj")},Mc=v.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(oe+1)),se("/Root "+oe+" 0 R"),se("/Info "+(oe-1)+" 0 R"),y!==null&&se("/Encrypt "+Rn.oid+" 0 R"),se("/ID [ <"+$+"> <"+$+"> ]"),se(">>")},zl=v.__private__.putHeader=function(){se("%PDF-"+C),se("%")},Bc=v.__private__.putXRef=function(){var w="0000000000";se("xref"),se("0 "+(oe+1)),se("0000000000 65535 f ");for(var H=1;H<=oe;H++)typeof ve[H]=="function"?se((w+ve[H]()).slice(-10)+" 00000 n "):ve[H]!==void 0?se((w+ve[H]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},mi=v.__private__.buildDocument=function(){pe(),he(ge),tn.publish("buildDocument"),zl(),pa(),Fc(),Rc(),y!==null&&Dc(),nn(),Mo();var w=ke;return Bc(),Mc(),se("startxref"),se(""+w),se("%%EOF"),he(He[M]),ge.join(`
`)},Za=v.__private__.getBlob=function(w){return new Blob([Xe(w)],{type:"application/pdf"})},ya=v.output=v.__private__.output=Qr((function(w,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",w){case void 0:return mi();case"save":v.save(H.filename);break;case"arraybuffer":return Xe(mi());case"blob":return Za(mi());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(Za(mi()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ye=mi();try{de=Up(ye)}catch{de=Up(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+H.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Se=H.pdfObjectUrl,Fe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ot=Et.open();return ot!==null&&ot.document.write(Ve),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ft=Et.open();if(Ft!==null){Ft.document.write(yt);var Rt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=H.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Fn=Et.open();if(Fn!==null&&(Fn.document.write(Kt),Fn.document.title=H.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",H);default:return null}})),eo=function(w){return Array.isArray(ha)===!0&&ha.indexOf(w)>-1};switch(s){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);at=s}var Rn=null;D(),O();var gi=function(w){return y!==null?Rn.encryptor(w,0):function(H){return H}},Qs=v.__private__.getPageInfo=v.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[w].objId,pageNumber:w,pageContext:It[w]}},St=v.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in It)if(It[H].objId===w)break;return Qs(H)},to=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:It[M].objId,pageNumber:M,pageContext:It[M]}};v.addPage=function(){return $l.apply(this,arguments),this},v.setPage=function(){return va.apply(this,arguments),he.call(this,He[M]),this},v.insertPage=function(w){return this.addPage(),this.movePage(M,w),this},v.movePage=function(w,H){var de,ye;if(w>H){de=He[w],ye=It[w];for(var Se=w;Se>H;Se--)He[Se]=He[Se-1],It[Se]=It[Se-1];He[H]=de,It[H]=ye,this.setPage(H)}else if(w<H){de=He[w],ye=It[w];for(var Fe=w;Fe<H;Fe++)He[Fe]=He[Fe+1],It[Fe]=It[Fe+1];He[H]=de,It[H]=ye,this.setPage(H)}return this},v.deletePage=function(){return ql.apply(this,arguments),this},v.__private__.text=v.text=function(w,H,de,ye,Se){var Fe,Ve,ot,yt,Ft,Rt,Kt,Fn,zn,Jn=(ye=ye||{}).scope||this;if(typeof w=="number"&&typeof H=="number"&&(typeof de=="string"||Array.isArray(de))){var Ar=de;de=H,H=w,w=Ar}if(arguments[3]instanceof _t?(B("The transform parameter of text() with a Matrix value"),zn=Se):(ot=arguments[4],yt=arguments[5],kn(Kt=arguments[3])==="object"&&Kt!==null||(typeof ot=="string"&&(yt=ot,ot=null),typeof Kt=="string"&&(yt=Kt,Kt=null),typeof Kt=="number"&&(ot=Kt,Kt=null),ye={flags:Kt,angle:ot,align:yt})),isNaN(H)||isNaN(de)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Jn;var mr="",ti=!1,vs=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:no,Is=Jn.internal.scaleFactor;function Na(bn){return bn=bn.split("	").join(Array(ye.TabLen||9).join(" ")),Xr(bn,Kt)}function Yl(bn){for(var pn,Hn=bn.concat(),Qn=[],xi=Hn.length;xi--;)typeof(pn=Hn.shift())=="string"?Qn.push(pn):Array.isArray(bn)&&(pn.length===1||pn[1]===void 0&&pn[2]===void 0)?Qn.push(pn[0]):Qn.push([pn[0],pn[1],pn[2]]);return Qn}function Ko(bn,pn){var Hn;if(typeof bn=="string")Hn=pn(bn)[0];else if(Array.isArray(bn)){for(var Qn,xi,sl=bn.concat(),po=[],Xl=sl.length;Xl--;)typeof(Qn=sl.shift())=="string"?po.push(pn(Qn)[0]):Array.isArray(Qn)&&typeof Qn[0]=="string"&&(xi=pn(Qn[0],Qn[1],Qn[2]),po.push([xi[0],xi[1],xi[2]]));Hn=po}return Hn}var ao=!1,Yo=!0;if(typeof w=="string")ao=!0;else if(Array.isArray(w)){var Jo=w.concat();Ve=[];for(var oo,Un=Jo.length;Un--;)(typeof(oo=Jo.shift())!="string"||Array.isArray(oo)&&typeof oo[0]!="string")&&(Yo=!1);ao=Yo}if(ao===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Qo=Ye/Jn.internal.scaleFactor,Xo=Qo*(vs-1);switch(ye.baseline){case"bottom":de-=Xo;break;case"top":de+=Qo-Xo;break;case"hanging":de+=Qo-2*Xo;break;case"middle":de+=Qo/2-Xo}if((Rt=ye.maxWidth||0)>0&&(typeof w=="string"?w=Jn.splitTextToSize(w,Rt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce((function(bn,pn){return bn.concat(Jn.splitTextToSize(pn,Rt))}),[]))),Fe={text:w,x:H,y:de,options:ye,mutex:{pdfEscape:Xr,activeFontKey:$t,fonts:_n,activeFontSize:Ye}},tn.publish("preProcessText",Fe),w=Fe.text,ot=(ye=Fe.options).angle,!(zn instanceof _t)&&ot&&typeof ot=="number"){ot*=Math.PI/180,ye.rotationDirection===0&&(ot=-ot),A===k.ADVANCED&&(ot=-ot);var Zo=Math.cos(ot),el=Math.sin(ot);zn=new _t(Zo,el,-el,Zo,0,0)}else ot&&ot instanceof _t&&(zn=ot);A!==k.ADVANCED||zn||(zn=Yr),(Ft=ye.charSpace||xa)!==void 0&&(mr+=q(R(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=ye.horizontalScale)!==void 0&&(mr+=q(100*Fn)+` Tz
`),ye.lang;var Fr=-1,lo=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Ri=Jn.internal.getCurrentPageInfo().pageContext;switch(lo){case 0:case!1:case"fill":Fr=0;break;case 1:case!0:case"stroke":Fr=1;break;case 2:case"fillThenStroke":Fr=2;break;case 3:case"invisible":Fr=3;break;case 4:case"fillAndAddForClipping":Fr=4;break;case 5:case"strokeAndAddPathForClipping":Fr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fr=6;break;case 7:case"addToPathForClipping":Fr=7}var Uc=Ri.usedRenderingMode!==void 0?Ri.usedRenderingMode:-1;Fr!==-1?mr+=Fr+` Tr
`:Uc!==-1&&(mr+=`0 Tr
`),Fr!==-1&&(Ri.usedRenderingMode=Fr),yt=ye.align||"left";var Mr,tl=Ye*vs,Jl=Jn.internal.pageSize.getWidth(),nl=_n[$t];Ft=ye.charSpace||xa,Rt=ye.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var bi=[],Sa=function(bn){return Jn.getStringUnitWidth(bn,{font:nl,charSpace:Ft,fontSize:Ye,doKerning:!1})*Ye/Is};if(Object.prototype.toString.call(w)==="[object Array]"){var Br;Ve=Yl(w),yt!=="left"&&(Mr=Ve.map(Sa));var Pr,Ca=0;if(yt==="right"){H-=Mr[0],w=[],Un=Ve.length;for(var Fi=0;Fi<Un;Fi++)Fi===0?(Pr=Ts(H),Br=Os(de)):(Pr=R(Ca-Mr[Fi]),Br=-tl),w.push([Ve[Fi],Pr,Br]),Ca=Mr[Fi]}else if(yt==="center"){H-=Mr[0]/2,w=[],Un=Ve.length;for(var Mi=0;Mi<Un;Mi++)Mi===0?(Pr=Ts(H),Br=Os(de)):(Pr=R((Ca-Mr[Mi])/2),Br=-tl),w.push([Ve[Mi],Pr,Br]),Ca=Mr[Mi]}else if(yt==="left"){w=[],Un=Ve.length;for(var rl=0;rl<Un;rl++)w.push(Ve[rl])}else if(yt==="justify"&&nl.encoding==="Identity-H"){w=[],Un=Ve.length,Rt=Rt!==0?Rt:Jl;for(var Bi=0,rn=0;rn<Un;rn++)if(Br=rn===0?Os(de):-tl,Pr=rn===0?Ts(H):Bi,rn<Un-1){var $i=R((Rt-Mr[rn])/(Ve[rn].split(" ").length-1)),Er=Ve[rn].split(" ");w.push([Er[0]+" ",Pr,Br]),Bi=0;for(var ys=1;ys<Er.length;ys++){var co=(Sa(Er[ys-1]+" "+Er[ys])-Sa(Er[ys]))*Is+$i;ys==Er.length-1?w.push([Er[ys],co,0]):w.push([Er[ys]+" ",co,0]),Bi-=co}}else w.push([Ve[rn],Pr,Br]);w.push(["",Bi,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Un=Ve.length,Rt=Rt!==0?Rt:Jl,rn=0;rn<Un;rn++)Br=rn===0?Os(de):-tl,Pr=rn===0?Ts(H):0,rn<Un-1?bi.push(q(R((Rt-Mr[rn])/(Ve[rn].split(" ").length-1)))):bi.push(0),w.push([Ve[rn],Pr,Br])}}var Ql=typeof ye.R2L=="boolean"?ye.R2L:gt;Ql===!0&&(w=Ko(w,(function(bn,pn,Hn){return[bn.split("").reverse().join(""),pn,Hn]}))),Fe={text:w,x:H,y:de,options:ye,mutex:{pdfEscape:Xr,activeFontKey:$t,fonts:_n,activeFontSize:Ye}},tn.publish("postProcessText",Fe),w=Fe.text,ti=Fe.mutex.isHex||!1;var uo=_n[$t].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(w=Ko(w,(function(bn,pn,Hn){return[Na(bn),pn,Hn]}))),Ve=Yl(w),w=[];for(var ho,fo,_s,qi=0,wi=1,zi=Array.isArray(Ve[0])?wi:qi,Ui="",La=function(bn,pn,Hn){var Qn="";return Hn instanceof _t?(Hn=typeof ye.angle=="number"?fs(Hn,new _t(1,0,0,1,bn,pn)):fs(new _t(1,0,0,1,bn,pn),Hn),A===k.ADVANCED&&(Hn=fs(new _t(1,0,0,-1,0,0),Hn)),Qn=Hn.join(" ")+` Tm
`):Qn=q(bn)+" "+q(pn)+` Td
`,Qn},_r=0;_r<Ve.length;_r++){switch(Ui="",zi){case wi:_s=(ti?"<":"(")+Ve[_r][0]+(ti?">":")"),ho=parseFloat(Ve[_r][1]),fo=parseFloat(Ve[_r][2]);break;case qi:_s=(ti?"<":"(")+Ve[_r]+(ti?">":")"),ho=Ts(H),fo=Os(de)}bi!==void 0&&bi[_r]!==void 0&&(Ui=bi[_r]+` Tw
`),_r===0?w.push(Ui+La(ho,fo,zn)+_s):zi===qi?w.push(Ui+_s):zi===wi&&w.push(Ui+La(ho,fo,zn)+_s)}w=zi===qi?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var es=`BT
/`;return es+=$t+" "+Ye+` Tf
`,es+=q(Ye*vs)+` TL
`,es+=rr+`
`,es+=mr,es+=w,se(es+="ET"),b[$t]=!0,Jn};var vi=v.__private__.clip=v.clip=function(w){return se(w==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return vi("evenodd")},v.__private__.discardPath=v.discardPath=function(){return se("n"),this};var yi=v.__private__.isValidStyle=function(w){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(H=!0),H};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(w){return yi(w)&&(p=w),this};var Ul=v.__private__.getStyle=v.getStyle=function(w){var H=p;switch(w){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=w}return H},_a=v.close=function(){return se("h"),this};v.stroke=function(){return se("S"),this},v.fill=function(w){return Bo("f",w),this},v.fillEvenOdd=function(w){return Bo("f*",w),this},v.fillStroke=function(w){return Bo("B",w),this},v.fillStrokeEvenOdd=function(w){return Bo("B*",w),this};var Bo=function(w,H){kn(H)==="object"?$c(H,w):se(w)},$o=function(w){w===null||A===k.ADVANCED&&w===void 0||(w=Ul(w),se(w))};function qo(w,H,de,ye,Se){var Fe=new Sc(H||this.boundingBox,de||this.xStep,ye||this.yStep,this.gState,Se||this.matrix);Fe.stream=this.stream;var Ve=w+"$$"+this.cloneIndex+++"$$";return Jr(Ve,Fe),Fe}var $c=function(w,H){var de=Ti[w.key],ye=Qt[de];if(ye instanceof Pl)se("q"),se(Du(H)),ye.gState&&v.setGState(ye.gState),se(w.matrix.toString()+" cm"),se("/"+de+" sh"),se("Q");else if(ye instanceof Sc){var Se=new _t(1,0,0,-1,0,ka());w.matrix&&(Se=Se.multiply(w.matrix||Yr),de=qo.call(ye,w.key,w.boundingBox,w.xStep,w.yStep,Se).id),se("q"),se("/Pattern cs"),se("/"+de+" scn"),ye.gState&&v.setGState(ye.gState),se(H),se("Q")}},Du=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ii=v.moveTo=function(w,H){return se(q(R(w))+" "+q(G(H))+" m"),this},Xs=v.lineTo=function(w,H){return se(q(R(w))+" "+q(G(H))+" l"),this},gs=v.curveTo=function(w,H,de,ye,Se,Fe){return se([q(R(w)),q(G(H)),q(R(de)),q(G(ye)),q(R(Se)),q(G(Fe)),"c"].join(" ")),this};v.__private__.line=v.line=function(w,H,de,ye,Se){if(isNaN(w)||isNaN(H)||isNaN(de)||isNaN(ye)||!yi(Se))throw new Error("Invalid arguments passed to jsPDF.line");return A===k.COMPAT?this.lines([[de-w,ye-H]],w,H,[1,1],Se||"S"):this.lines([[de-w,ye-H]],w,H,[1,1]).stroke()},v.__private__.lines=v.lines=function(w,H,de,ye,Se,Fe){var Ve,ot,yt,Ft,Rt,Kt,Fn,zn,Jn,Ar,mr,ti;if(typeof w=="number"&&(ti=de,de=H,H=w,w=ti),ye=ye||[1,1],Fe=Fe||!1,isNaN(H)||isNaN(de)||!Array.isArray(w)||!Array.isArray(ye)||!yi(Se)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ii(H,de),Ve=ye[0],ot=ye[1],Ft=w.length,Ar=H,mr=de,yt=0;yt<Ft;yt++)(Rt=w[yt]).length===2?(Ar=Rt[0]*Ve+Ar,mr=Rt[1]*ot+mr,Xs(Ar,mr)):(Kt=Rt[0]*Ve+Ar,Fn=Rt[1]*ot+mr,zn=Rt[2]*Ve+Ar,Jn=Rt[3]*ot+mr,Ar=Rt[4]*Ve+Ar,mr=Rt[5]*ot+mr,gs(Kt,Fn,zn,Jn,Ar,mr));return Fe&&_a(),$o(Se),this},v.path=function(w){for(var H=0;H<w.length;H++){var de=w[H],ye=de.c;switch(de.op){case"m":Ii(ye[0],ye[1]);break;case"l":Xs(ye[0],ye[1]);break;case"c":gs.apply(this,ye);break;case"h":_a()}}return this},v.__private__.rect=v.rect=function(w,H,de,ye,Se){if(isNaN(w)||isNaN(H)||isNaN(de)||isNaN(ye)||!yi(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k.COMPAT&&(ye=-ye),se([q(R(w)),q(G(H)),q(R(de)),q(R(ye)),"re"].join(" ")),$o(Se),this},v.__private__.triangle=v.triangle=function(w,H,de,ye,Se,Fe,Ve){if(isNaN(w)||isNaN(H)||isNaN(de)||isNaN(ye)||isNaN(Se)||isNaN(Fe)||!yi(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-w,ye-H],[Se-de,Fe-ye],[w-Se,H-Fe]],w,H,[1,1],Ve,!0),this},v.__private__.roundedRect=v.roundedRect=function(w,H,de,ye,Se,Fe,Ve){if(isNaN(w)||isNaN(H)||isNaN(de)||isNaN(ye)||isNaN(Se)||isNaN(Fe)||!yi(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*de),Fe=Math.min(Fe,.5*ye),this.lines([[de-2*Se,0],[Se*ot,0,Se,Fe-Fe*ot,Se,Fe],[0,ye-2*Fe],[0,Fe*ot,-Se*ot,Fe,-Se,Fe],[2*Se-de,0],[-Se*ot,0,-Se,-Fe*ot,-Se,-Fe],[0,2*Fe-ye],[0,-Fe*ot,Se*ot,-Fe,Se,-Fe]],w+Se,H,[1,1],Ve,!0),this},v.__private__.ellipse=v.ellipse=function(w,H,de,ye,Se){if(isNaN(w)||isNaN(H)||isNaN(de)||isNaN(ye)||!yi(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*de,Ve=4/3*(Math.SQRT2-1)*ye;return Ii(w+de,H),gs(w+de,H-Ve,w+Fe,H-ye,w,H-ye),gs(w-Fe,H-ye,w-de,H-Ve,w-de,H),gs(w-de,H+Ve,w-Fe,H+ye,w,H+ye),gs(w+Fe,H+ye,w+de,H+Ve,w+de,H),$o(Se),this},v.__private__.circle=v.circle=function(w,H,de,ye){if(isNaN(w)||isNaN(H)||isNaN(de)||!yi(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,H,de,de,ye)},v.setFont=function(w,H,de){return de&&(H=Z(H,de)),$t=Fo(w,H,{disableWarning:!1}),this};var zo=v.__private__.getFont=v.getFont=function(){return _n[Fo.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var w,H,de={};for(w in Nn)if(Nn.hasOwnProperty(w))for(H in de[w]=[],Nn[w])Nn[w].hasOwnProperty(H)&&de[w].push(H);return de},v.addFont=function(w,H,de,ye,Se){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(de=Z(de,ye)),Se=Se||"Identity-H",ga.call(this,w,H,de,Se)};var no,Hl=n.lineWidth||.200025,ba=v.__private__.getLineWidth=v.getLineWidth=function(){return Hl},ro=v.__private__.setLineWidth=v.setLineWidth=function(w){return Hl=w,se(q(R(w))+" w"),this};v.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(w,H){if(w=w||[],H=H||0,isNaN(H)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map((function(de){return q(R(de))})).join(" "),H=q(R(H)),se("["+w+"] "+H+" d"),this};var Uo=v.__private__.getLineHeight=v.getLineHeight=function(){return Ye*no};v.__private__.getLineHeight=v.getLineHeight=function(){return Ye*no};var Wl=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(no=w),this},Zs=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return no};Wl(n.lineHeight);var Ts=v.__private__.getHorizontalCoordinate=function(w){return R(w)},Os=v.__private__.getVerticalCoordinate=function(w){return A===k.ADVANCED?w:It[M].mediaBox.topRightY-It[M].mediaBox.bottomLeftY-R(w)},qc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(w){return q(Ts(w))},ei=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(w){return q(Os(w))},Zr=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Ys(Zr)},v.__private__.setStrokeColor=v.setDrawColor=function(w,H,de,ye){return Zr=yr({ch1:w,ch2:H,ch3:de,ch4:ye,pdfColorType:"draw",precision:2}),se(Zr),this};var Ho=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Ys(Ho)},v.__private__.setFillColor=v.setFillColor=function(w,H,de,ye){return Ho=yr({ch1:w,ch2:H,ch3:de,ch4:ye,pdfColorType:"fill",precision:2}),se(Ho),this};var rr=n.textColor||"0 g",wa=v.__private__.getTextColor=v.getTextColor=function(){return Ys(rr)};v.__private__.setTextColor=v.setTextColor=function(w,H,de,ye){return rr=yr({ch1:w,ch2:H,ch3:de,ch4:ye,pdfColorType:"text",precision:3}),this};var xa=n.charSpace,so=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(xa||0)};v.__private__.setCharSpace=v.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=w,this};var Vl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(w){var H=v.CapJoinStyles[w];if(H===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=H,se(H+" J"),this};var io=0;v.__private__.setLineJoin=v.setLineJoin=function(w){var H=v.CapJoinStyles[w];if(H===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return io=H,se(H+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(q(R(w))+" M"),this},v.GState=Nd,v.setGState=function(w){(w=typeof w=="string"?An[Cr[w]]:Wo(null,w)).equals(Kr)||(se("/"+w.id+" gs"),Kr=w)};var Wo=function(w,H){if(!w||!Cr[w]){var de=!1;for(var ye in An)if(An.hasOwnProperty(ye)&&An[ye].equals(H)){de=!0;break}if(de)H=An[ye];else{var Se="GS"+(Object.keys(An).length+1).toString(10);An[Se]=H,H.id=Se}return w&&(Cr[w]=H.id),tn.publish("addGState",H),H}};v.addGState=function(w,H){return Wo(w,H),this},v.saveGraphicsState=function(){return se("q"),As.push({key:$t,size:Ye,color:rr}),this},v.restoreGraphicsState=function(){se("Q");var w=As.pop();return $t=w.key,Ye=w.size,rr=w.color,Kr=null,this},v.setCurrentTransformationMatrix=function(w){return se(w.toString()+" cm"),this},v.comment=function(w){return se("#"+w),this};var _i=function(w,H){var de=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var ye=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Fe){Se=Fe.toString()}}),this},ja=function(w,H,de,ye){_i.call(this,w,H),this.type="rect";var Se=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ve){isNaN(Ve)||(Se=parseFloat(Ve))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ve){isNaN(Ve)||(Fe=parseFloat(Ve))}}),this},Vo=function(){this.page=Tn,this.currentPage=M,this.pages=He.slice(0),this.pagesContext=It.slice(0),this.x=Sr,this.y=Jt,this.matrix=Ls,this.width=Di(M),this.height=ka(M),this.outputDestination=me,this.id="",this.objectNumber=-1};Vo.prototype.restore=function(){Tn=this.page,M=this.currentPage,It=this.pagesContext,He=this.pages,Sr=this.x,Jt=this.y,Ls=this.matrix,Gl(M,this.width),Kl(M,this.height),me=this.outputDestination};var zc=function(w,H,de,ye,Se){Gs.push(new Vo),Tn=M=0,He=[],Sr=w,Jt=H,Ls=Se,Xa([de,ye])},Ru=function(w){if(Ps[w])Gs.pop().restore();else{var H=new Vo,de="Xo"+(Object.keys(pr).length+1).toString(10);H.id=de,Ps[w]=de,pr[de]=H,tn.publish("addFormObject",H),Gs.pop().restore()}};for(var Go in v.beginFormObject=function(w,H,de,ye,Se){return zc(w,H,de,ye,Se),this},v.endFormObject=function(w){return Ru(w),this},v.doFormObject=function(w,H){var de=pr[Ps[w]];return se("q"),se(H.toString()+" cm"),se("/"+de.id+" Do"),se("Q"),this},v.getFormObject=function(w){var H=pr[Ps[w]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},v.save=function(w,H){return w=w||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(bc(Za(mi()),w),typeof bc.unload=="function"&&Et.setTimeout&&setTimeout(bc.unload,911),this):new Promise((function(de,ye){try{var Se=bc(Za(mi()),w);typeof bc.unload=="function"&&Et.setTimeout&&setTimeout(bc.unload,911),de(Se)}catch(Fe){ye(Fe.message)}}))},jt.API)jt.API.hasOwnProperty(Go)&&(Go==="events"&&jt.API.events.length?(function(w,H){var de,ye,Se;for(Se=H.length-1;Se!==-1;Se--)de=H[Se][0],ye=H[Se][1],w.subscribe.apply(w,[de].concat(typeof ye=="function"?[ye]:ye))})(tn,jt.API.events):v[Go]=jt.API[Go]);var Di=v.getPageWidth=function(w){return(It[w=w||M].mediaBox.topRightX-It[w].mediaBox.bottomLeftX)/at},Gl=v.setPageWidth=function(w,H){It[w].mediaBox.topRightX=H*at+It[w].mediaBox.bottomLeftX},ka=v.getPageHeight=function(w){return(It[w=w||M].mediaBox.topRightY-It[w].mediaBox.bottomLeftY)/at},Kl=v.setPageHeight=function(w,H){It[w].mediaBox.topRightY=H*at+It[w].mediaBox.bottomLeftY};return v.internal={pdfEscape:Xr,getStyle:Ul,getFont:zo,getFontSize:it,getCharSpace:so,getTextColor:wa,getLineHeight:Uo,getLineHeightFactor:Zs,getLineWidth:ba,write:De,getHorizontalCoordinate:Ts,getVerticalCoordinate:Os,getCoordinateString:qc,getVerticalCoordinateString:ei,collections:{},newObject:On,newAdditionalObject:fa,newObjectDeferred:In,newObjectDeferredBegin:Lr,getFilters:Js,putStream:ps,events:tn,scaleFactor:at,pageSize:{getWidth:function(){return Di(M)},setWidth:function(w){Gl(M,w)},getHeight:function(){return ka(M)},setHeight:function(w){Kl(M,w)}},encryptionOptions:y,encryption:Rn,getEncryptor:gi,output:ya,getNumberOfPages:Iu,pages:He,out:se,f2:le,f3:F,getPageInfo:Qs,getPageInfoByObjId:St,getCurrentPageInfo:to,getPDFVersion:P,Point:_i,Rectangle:ja,Matrix:_t,hasHotfix:eo},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Di(M)},set:function(w){Gl(M,w)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return ka(M)},set:function(w){Kl(M,w)},enumerable:!0,configurable:!0}),Qa.call(v,Ie),$t="F1",$l(l,t),tn.publish("initialized"),v}xu.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},xu.prototype.toHexString=function(n){return n.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},xu.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},xu.prototype.processOwnerPassword=function(n,e){return Wp(Hp(e).substr(0,5),n)},xu.prototype.encryptor=function(n,e){var t=Hp(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Wp(t,s)}},Nd.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||kn(n)!==kn(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},jt.API={events:[]},jt.version="2.5.2";var tr=jt.API,fm=1,Oc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(n){return n.toFixed(2)},Sl=function(n){return n.toFixed(5)};tr.__acroform__={};var Vs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},y1=function(n){return n*fm},Ra=function(n){var e=new Zv,t=dt.internal.getHeight(n)||0,s=dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Bt(s)),Number(Bt(t))],e},oS=tr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},lS=tr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},cS=tr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},cr=tr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cS(n,e-1)},ur=tr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oS(n,e-1)},dr=tr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lS(n,e-1)},uS=tr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,l=n[0],o=n[1],c=n[2],f=n[3],d={};return d.lowerLeft_X=t(l)||0,d.lowerLeft_Y=s(o+f)||0,d.upperRight_X=t(l+c)||0,d.upperRight_Y=s(o)||0,[Number(Bt(d.lowerLeft_X)),Number(Bt(d.lowerLeft_Y)),Number(Bt(d.upperRight_X)),Number(Bt(d.upperRight_Y))]},dS=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Vp(n,t),l=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+l+" "+Bt(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ra(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Vp=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},l=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");l=n.multiline?l.map((function(F){return F.split(`
`)})):l.map((function(F){return[F]}));var o=t,c=dt.internal.getHeight(n)||0;c=c<0?-c:c;var f=dt.internal.getWidth(n)||0;f=f<0?-f:f;var d=function(F,R,ee){if(F+1<l.length){var G=R+" "+l[F+1][0];return jh(G,n,ee).width<=f-4}return!1};o++;e:for(;o>0;){e="",o--;var p,y,_=jh("3",n,o).height,b=n.multiline?c-o:(c-_)/2,v=b+=2,C=0,P=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+jh(e,n,o=12).width+", FieldWidth:"+f+`
`;break}for(var S="",k=0,A=0;A<l.length;A++)if(l.hasOwnProperty(A)){var E=!1;if(l[A].length!==1&&L!==l[A].length-1){if((_+2)*(k+2)+2>c)continue e;S+=l[A][L],E=!0,P=A,A--}else{S=(S+=l[A][L]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var U=parseInt(A),Z=d(U,S,o),q=A>=l.length-1;if(Z&&!q){S+=" ",L=0;continue}if(Z||q){if(q)P=U;else if(n.multiline&&(_+2)*(k+2)+2>c)continue e}else{if(!n.multiline||(_+2)*(k+2)+2>c)continue e;P=U}}for(var B="",te=C;te<=P;te++){var le=l[te];if(n.multiline){if(te===P){B+=le[L]+" ",L=(L+1)%le.length;continue}if(te===C){B+=le[le.length-1]+" ";continue}}B+=le[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,y=jh(B,n,o).width,n.textAlign){case"right":p=f-y-2;break;case"center":p=(f-y)/2;break;case"left":default:p=2}e+=Bt(p)+" "+Bt(v)+` Td
`,e+="("+Oc(B)+`) Tj
`,e+=-Bt(p)+` 0 Td
`,v=-(o+2),y=0,C=E?P:P+1,k++,S=""}break}return s.text=e,s.fontSize=o,s},jh=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),l=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:l}},hS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fS=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find((function(s){return s.type===t.type&&s.object===t.object}))===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},pS=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var s=t,l=n[t];e.internal.newObjectDeferredBegin(l.objId,!0),kn(l)==="object"&&typeof l.putStream=="function"&&l.putStream(),delete n[s]}},mS=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ua.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(hS)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fm=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new e0,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];o.objId=void 0,o.hasAnnotation&&fS(o,t)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(t){(function(s,l){var o=!s;for(var c in s||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var f=s[c],d=[],p=f.Rect;if(f.Rect&&(f.Rect=uS(f.Rect,l)),l.internal.newObjectDeferredBegin(f.objId,!0),f.DA=dt.createDefaultAppearanceStream(f),kn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(d=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var y=dS(f);d.push({key:"AP",value:"<</N "+y+">>"}),l.internal.acroformPlugin.xForms.push(y)}if(f.appearanceStreamContent){var _="";for(var b in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(b)){var v=f.appearanceStreamContent[b];if(_+="/"+b+" ",_+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var c in v)if(v.hasOwnProperty(c)){var C=v[c];typeof C=="function"&&(C=C.call(l,f)),_+="/"+c+" "+C+" ",l.internal.acroformPlugin.xForms.indexOf(C)>=0||l.internal.acroformPlugin.xForms.push(C)}}else typeof(C=v)=="function"&&(C=C.call(l,f)),_+="/"+c+" "+C,l.internal.acroformPlugin.xForms.indexOf(C)>=0||l.internal.acroformPlugin.xForms.push(C);_+=">>"}d.push({key:"AP",value:`<<
`+_+">>"})}l.internal.putStream({additionalKeyValues:d,objectId:f.objId}),l.internal.out("endobj")}o&&pS(l.internal.acroformPlugin.xForms,l)})(t,n)})),n.internal.acroformPlugin.isInitialized=!0}},Xv=tr.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var l="[",o=0;o<n.length;o++)switch(o!==0&&(l+=" "),kn(n[o])){case"boolean":case"number":case"object":l+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),l+="("+Oc(s(n[o].toString()))+")"):l+=n[o].toString()}return l+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mp=function(n,e,t){var s=function(l){return l};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Oc(s(n))+")"},qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qa.prototype.toString=function(){return this.objId+" 0 R"},qa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter((function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],l=this[s];l&&(Array.isArray(l)?n.push({key:s,value:Xv(l,this.objId,this.scope)}):l instanceof qa?(l.scope=this.scope,n.push({key:s,value:l.objId+" 0 R"})):typeof l!="function"&&n.push({key:s,value:l}))}return n};var Zv=function(){qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Vs(Zv,qa);var e0=function(){qa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oc(t(n))+")"}},set:function(t){n=t}})};Vs(e0,qa);var ua=function n(){qa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cr(e,3)},set:function(S){S?this.F=ur(e,3):this.F=dr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(S){s=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(S){s[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(S){s[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(S){s[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(S){s[3]=S}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof zh)return;o="FieldObject"+n.FieldNum++}var S=function(k){return k};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Oc(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/fm:p},set:function(S){p=S}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){y=S}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof zh||this instanceof Ol))return mp(_,this.objId,this.scope)},set:function(S){S=S.toString(),_=S}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof kr?b:mp(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof kr?S:S.substr(0,1)==="("?vu(S.substr(1,S.length-2)):vu(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?vu(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof kr?"/"+S:S}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof kr?v:mp(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof kr?S:S.substr(0,1)==="("?vu(S.substr(1,S.length-2)):vu(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?vu(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof kr?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(S){S=!!S,P=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(S){C=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,1)},set:function(S){S?this.Ff=ur(this.Ff,1):this.Ff=dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,2)},set:function(S){S?this.Ff=ur(this.Ff,2):this.Ff=dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,3)},set:function(S){S?this.Ff=ur(this.Ff,3):this.Ff=dr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');L=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(L){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};Vs(ua,qa);var Cc=function(){ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xv(e,this.objId,this.scope)},set:function(t){var s,l;l=[],typeof(s=t)=="string"&&(l=(function(o,c,f){f||(f=1);for(var d,p=[];d=c.exec(o);)p.push(d[f]);return p})(s,/\((.*?)\)/g)),e=l}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,18)},set:function(t){t?this.Ff=ur(this.Ff,18):this.Ff=dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ur(this.Ff,19):this.Ff=dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,20)},set:function(t){t?(this.Ff=ur(this.Ff,20),e.sort()):this.Ff=dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,22)},set:function(t){t?this.Ff=ur(this.Ff,22):this.Ff=dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(t){t?this.Ff=ur(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,27)},set:function(t){t?this.Ff=ur(this.Ff,27):this.Ff=dr(this.Ff,27)}}),this.hasAppearanceStream=!1};Vs(Cc,ua);var Lc=function(){Cc.call(this),this.fontName="helvetica",this.combo=!1};Vs(Lc,Cc);var Ac=function(){Lc.call(this),this.combo=!0};Vs(Ac,Lc);var ud=function(){Ac.call(this),this.edit=!0};Vs(ud,Ac);var kr=function(){ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,15)},set:function(t){t?this.Ff=ur(this.Ff,15):this.Ff=dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,16)},set:function(t){t?this.Ff=ur(this.Ff,16):this.Ff=dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,17)},set:function(t){t?this.Ff=ur(this.Ff,17):this.Ff=dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(t){t?this.Ff=ur(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,l=[];for(s in l.push("<<"),e)l.push("/"+s+" ("+Oc(t(e[s]))+")");return l.push(">>"),l.join(`
`)}},set:function(t){kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Vs(kr,ua);var dd=function(){kr.call(this),this.pushButton=!0};Vs(dd,kr);var Pc=function(){kr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Vs(Pc,kr);var zh=function(){var n,e;ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(l){e=l}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(f){return f};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+Oc(l(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(l){kn(l)==="object"&&(s=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(l){typeof l=="string"&&(s.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(l){t=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(l){t="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vs(zh,ua),Pc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Pc.prototype.createOption=function(n){var e=new zh;return e.Parent=this,e.optionName=n,this.Kids.push(e),gS.call(this.scope,e),e};var hd=function(){kr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Vs(hd,kr);var Ol=function(){ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,13)},set:function(e){e?this.Ff=ur(this.Ff,13):this.Ff=dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,21)},set:function(e){e?this.Ff=ur(this.Ff,21):this.Ff=dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(e){e?this.Ff=ur(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,24)},set:function(e){e?this.Ff=ur(this.Ff,24):this.Ff=dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,25)},set:function(e){e?this.Ff=ur(this.Ff,25):this.Ff=dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(e){e?this.Ff=ur(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vs(Ol,ua);var fd=function(){Ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,14)},set:function(n){n?this.Ff=ur(this.Ff,14):this.Ff=dr(this.Ff,14)}}),this.password=!0};Vs(fd,Ol);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,l=n.scope.__private__.encodeColorString(n.color),o=Vp(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Bt(dt.internal.getWidth(n))+" "+Bt(dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+Bt(o.fontSize)+" Tf "+l),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ra(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),l=[],o=dt.internal.getHeight(n),c=dt.internal.getWidth(n),f=Vp(n,n.caption);return l.push("1 g"),l.push("0 0 "+Bt(c)+" "+Bt(o)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+Bt(c-1)+" "+Bt(o-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+t+" "+Bt(f.fontSize)+" Tf "+s),l.push(f.text),l.push("ET"),l.push("Q"),e.stream=l.join(`
`),e},OffPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(dt.internal.getWidth(n))+" "+Bt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Circle.YesNormal,e.D[n]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ra(n);e.scope=n.scope;var t=[],s=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=dt.internal.Bezier_C,o=Number((s*l).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(n)/2)+" "+Sl(dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=[],s=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=Number((2*s).toFixed(5)),o=Number((l*dt.internal.Bezier_C).toFixed(5)),c=Number((s*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(n)/2)+" "+Sl(dt.internal.getHeight(n)/2)+" cm"),t.push(l+" 0 m"),t.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),t.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),t.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),t.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(n)/2)+" "+Sl(dt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=[],s=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=Number((2*s).toFixed(5)),o=Number((l*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(n)/2)+" "+Sl(dt.internal.getHeight(n)/2)+" cm"),t.push(l+" 0 m"),t.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),t.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),t.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),t.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Cross.YesNormal,e.D[n]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ra(n);e.scope=n.scope;var t=[],s=dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Bt(dt.internal.getWidth(n)-2)+" "+Bt(dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Bt(s.x1.x)+" "+Bt(s.x1.y)+" m"),t.push(Bt(s.x2.x)+" "+Bt(s.x2.y)+" l"),t.push(Bt(s.x4.x)+" "+Bt(s.x4.y)+" m"),t.push(Bt(s.x3.x)+" "+Bt(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=dt.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+Bt(dt.internal.getWidth(n))+" "+Bt(dt.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Bt(dt.internal.getWidth(n)-2)+" "+Bt(dt.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(Bt(t.x1.x)+" "+Bt(t.x1.y)+" m"),s.push(Bt(t.x2.x)+" "+Bt(t.x2.y)+" l"),s.push(Bt(t.x4.x)+" "+Bt(t.x4.y)+" m"),s.push(Bt(t.x3.x)+" "+Bt(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Ra(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(dt.internal.getWidth(n))+" "+Bt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=dt.internal.getWidth(n),t=dt.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},dt.internal.getWidth=function(n){var e=0;return kn(n)==="object"&&(e=y1(n.Rect[2])),e},dt.internal.getHeight=function(n){var e=0;return kn(n)==="object"&&(e=y1(n.Rect[3])),e};var gS=tr.addField=function(n){if(mS(this,n),!(n instanceof ua))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};tr.AcroFormChoiceField=Cc,tr.AcroFormListBox=Lc,tr.AcroFormComboBox=Ac,tr.AcroFormEditBox=ud,tr.AcroFormButton=kr,tr.AcroFormPushButton=dd,tr.AcroFormRadioButton=Pc,tr.AcroFormCheckBox=hd,tr.AcroFormTextField=Ol,tr.AcroFormPasswordField=fd,tr.AcroFormAppearance=dt,tr.AcroForm={ChoiceField:Cc,ListBox:Lc,ComboBox:Ac,EditBox:ud,Button:kr,PushButton:dd,RadioButton:Pc,CheckBox:hd,TextField:Ol,PasswordField:fd,Appearance:dt},jt.AcroForm={ChoiceField:Cc,ListBox:Lc,ComboBox:Ac,EditBox:ud,Button:kr,PushButton:dd,RadioButton:Pc,CheckBox:hd,TextField:Ol,PasswordField:fd,Appearance:dt};var vS=jt.AcroForm;function t0(n){return n.reduce((function(e,t,s){return e[t]=s,e}),{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(F,R){var ee,G,ue,$,X,O=e;if((R=R||e)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(Z(F))for(X in t)for(ue=t[X],ee=0;ee<ue.length;ee+=1){for($=!0,G=0;G<ue[ee].length;G+=1)if(ue[ee][G]!==void 0&&ue[ee][G]!==F[G]){$=!1;break}if($===!0){O=X;break}}else for(X in t)for(ue=t[X],ee=0;ee<ue.length;ee+=1){for($=!0,G=0;G<ue[ee].length;G+=1)if(ue[ee][G]!==void 0&&ue[ee][G]!==F.charCodeAt(G)){$=!1;break}if($===!0){O=X;break}}return O===e&&R!==e&&(O=R),O},l=function F(R){for(var ee=this.internal.write,G=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:R.width}),$.push({key:"Height",value:R.height}),R.colorSpace===L.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===L.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var X="",O=0,W=R.transparency.length;O<W;O++)X+=R.transparency[O]+" "+R.transparency[O]+" ";$.push({key:"Mask",value:"["+X+"]"})}R.sMask!==void 0&&$.push({key:"SMask",value:R.objectId+1+" 0 R"});var V=R.filter!==void 0?["/"+R.filter]:void 0;if(G({data:R.data,additionalKeyValues:$,alreadyAppliedFilters:V,objectId:R.objectId}),ee("endobj"),"sMask"in R&&R.sMask!==void 0){var D="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,N={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:D,data:R.sMask};"filter"in R&&(N.filter=R.filter),F.call(this,N)}if(R.colorSpace===L.INDEXED){var M=this.internal.newObject();G({data:B(new Uint8Array(R.palette)),objectId:M}),ee("endobj")}},o=function(){var F=this.internal.collections.addImage_images;for(var R in F)l.call(this,F[R])},c=function(){var F,R=this.internal.collections.addImage_images,ee=this.internal.write;for(var G in R)ee("/I"+(F=R[G]).index,F.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var F=this.internal.collections.addImage_images;return f.call(this),F},p=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(F){return typeof n["process"+F.toUpperCase()]=="function"},_=function(F){return kn(F)==="object"&&F.nodeType===1},b=function(F,R){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var ee=""+F.getAttribute("src");if(ee.indexOf("data:image/")===0)return cd(unescape(ee).split("base64,").pop());var G=n.loadFile(ee,!0);if(G!==void 0)return G}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ue;switch(R){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return cd(F.toDataURL(ue,1).split("base64,").pop())}},v=function(F){var R=this.internal.collections.addImage_images;if(R){for(var ee in R)if(F===R[ee].alias)return R[ee]}},C=function(F,R,ee){return F||R||(F=-96,R=-96),F<0&&(F=-1*ee.width*72/F/this.internal.scaleFactor),R<0&&(R=-1*ee.height*72/R/this.internal.scaleFactor),F===0&&(F=R*ee.width/ee.height),R===0&&(R=F*ee.height/ee.width),[F,R]},P=function(F,R,ee,G,ue,$){var X=C.call(this,ee,G,ue),O=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,V=d.call(this);if(ee=X[0],G=X[1],V[ue.index]=ue,$){$*=Math.PI/180;var D=Math.cos($),N=Math.sin($),M=function(ie){return ie.toFixed(4)},Q=[M(D),M(N),M(-1*N),M(D),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,O(F),W(R+G),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([O(ee),"0","0",O(G),"0","0","cm"].join(" "))):this.internal.write([O(ee),"0","0",O(G),O(F),W(R+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=n.__addimage__.sHashCode=function(F){var R,ee,G=0;if(typeof F=="string")for(ee=F.length,R=0;R<ee;R++)G=(G<<5)-G+F.charCodeAt(R),G|=0;else if(Z(F))for(ee=F.byteLength/2,R=0;R<ee;R++)G=(G<<5)-G+F[R],G|=0;return G},A=n.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var R=!0;return F.length===0&&(R=!1),F.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(R=!1),R},E=n.__addimage__.extractImageFromDataUrl=function(F){var R=(F=F||"").split("base64,"),ee=null;if(R.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(G)&&(ee={mimeType:G[1],charset:G[2],data:R[1]})}return ee},U=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(F){return U()&&F instanceof ArrayBuffer};var Z=n.__addimage__.isArrayBufferView=function(F){return U()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(F){for(var R=F.length,ee=new Uint8Array(R),G=0;G<R;G++)ee[G]=F.charCodeAt(G);return ee},B=n.__addimage__.arrayBufferToBinaryString=function(F){for(var R="",ee=Z(F)?F:new Uint8Array(F),G=0;G<ee.length;G+=8192)R+=String.fromCharCode.apply(null,ee.subarray(G,G+8192));return R};n.addImage=function(){var F,R,ee,G,ue,$,X,O,W;if(typeof arguments[1]=="number"?(R=e,ee=arguments[1],G=arguments[2],ue=arguments[3],$=arguments[4],X=arguments[5],O=arguments[6],W=arguments[7]):(R=arguments[1],ee=arguments[2],G=arguments[3],ue=arguments[4],$=arguments[5],X=arguments[6],O=arguments[7],W=arguments[8]),kn(F=arguments[0])==="object"&&!_(F)&&"imageData"in F){var V=F;F=V.imageData,R=V.format||R||e,ee=V.x||ee||0,G=V.y||G||0,ue=V.w||V.width||ue,$=V.h||V.height||$,X=V.alias||X,O=V.compression||O,W=V.rotation||V.angle||W}var D=this.internal.getFilters();if(O===void 0&&D.indexOf("FlateEncode")!==-1&&(O="SLOW"),isNaN(ee)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var N=te.call(this,F,R,X,O);return P.call(this,ee,G,ue,$,N,W),this};var te=function(F,R,ee,G){var ue,$,X;if(typeof F=="string"&&s(F)===e){F=unescape(F);var O=le(F,!1);(O!==""||(O=n.loadFile(F,!0))!==void 0)&&(F=O)}if(_(F)&&(F=b(F,R)),R=s(F,R),!y(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((X=ee)==null||X.length===0)&&(ee=(function(W){return typeof W=="string"||Z(W)?k(W):Z(W.data)?k(W.data):null})(F)),(ue=v.call(this,ee))||(U()&&(F instanceof Uint8Array||R==="RGBA"||($=F,F=q(F))),ue=this["process"+R.toUpperCase()](F,p.call(this),ee,(function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in n.image_compression?W:S.NONE})(G),$)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},le=n.__addimage__.convertBase64ToBinaryString=function(F,R){var ee;R=typeof R!="boolean"||R;var G,ue="";if(typeof F=="string"){G=(ee=E(F))!==null?ee.data:F;try{ue=cd(G)}catch($){if(R)throw A(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(F){var R,ee,G="";if(_(F)&&(F=b(F)),typeof F=="string"&&s(F)===e&&((G=le(F,!1))===""&&(G=n.loadFile(F)||""),F=G),ee=s(F),!y(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!U()||F instanceof Uint8Array||(F=q(F)),!(R=this["process"+ee.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=ee,R}})(jt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,l,o,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,y=!1,_=0;_<p.length&&!y;_++)switch((s=p[_]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var b=0;b<p.length;b++){s=p[b];var v=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(P.objId),k=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(l="/Rect ["+c(s.bounds.x)+" "+f(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+f(s.bounds.y)+"] ")+"/Contents ("+v(S(s.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+v(S(k))+") >>",P.content=o;var A=P.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+c(s.bounds.x+30)+" "+f(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+f(s.bounds.y)+"] ")+" /Parent "+A,s.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(P.objId,"0 R",L.objId,"0 R");break;case"freetext":l="/Rect ["+c(s.bounds.x)+" "+f(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+f(s.bounds.y+s.bounds.h)+"] ";var E=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+v(C(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var U=this.annotations._nameMap[s.options.name];s.options.pageNumber=U.page,s.options.top=U.y}else s.options.top||(s.options.top=0);if(l="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+v(C(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var Z=f(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+Z+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,l,o,c){var f=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:d(t),y:p(s),w:d(t+l),h:p(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,l,o){var c,f,d=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){f=o.maxWidth;var y=this.splitTextToSize(t,f).length;c=Math.ceil(p*y)}else f=d,c=p;return this.text(t,s,l,o),l+=.2*p,o.align==="center"&&(s-=d/2),o.align==="right"&&(s-=d),this.link(s,l-p,f,c,o),d},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(jt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},f=n.__arabicParser__.isArabicEndLetter=function(P){return c(P)&&o(P)&&e[P.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(P){return c(P)&&l.indexOf(P.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return c(P)&&o(P)&&e[P.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(P){return c(P)&&o(P)&&e[P.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(P){return c(P)&&o(P)&&e[P.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(P){return c(P)&&o(P)&&e[P.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(P){var L=0,S=t,k="",A=0;for(L=0;L<P.length;L+=1)S[P.charCodeAt(L)]!==void 0?(A++,typeof(S=S[P.charCodeAt(L)])=="number"&&(k+=String.fromCharCode(S),S=t,A=0),L===P.length-1&&(S=t,k+=P.charAt(L-(A-1)),L-=A-1,A=0)):(S=t,k+=P.charAt(L-A),L-=A,A=0);return k};n.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&s[P.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(P,L,S){return c(P)?o(P)===!1?-1:!p(P)||!c(L)&&!c(S)||!c(S)&&f(L)||f(P)&&!c(L)||f(P)&&d(L)||f(P)&&f(L)?0:y(P)&&c(L)&&!f(L)&&c(S)&&p(S)?3:f(P)||!c(S)?1:2:-1},v=function(P){var L=0,S=0,k=0,A="",E="",U="",Z=(P=P||"").split("\\s+"),q=[];for(L=0;L<Z.length;L+=1){for(q.push(""),S=0;S<Z[L].length;S+=1)A=Z[L][S],E=Z[L][S-1],U=Z[L][S+1],c(A)?(k=b(A,E,U),q[L]+=k!==-1?String.fromCharCode(e[A.charCodeAt(0)][k]):A):q[L]+=A;q[L]=_(q[L])}return q.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var P,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(L)){var k=0;for(S=[],k=0;k<L.length;k+=1)Array.isArray(L[k])?S.push([v(L[k][0]),L[k][1],L[k][2]]):S.push([v(L[k])]);P=S}else P=v(L);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};n.events.push(["preProcessText",C])})(jt.API),jt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(f){t=f}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(f){s=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(f){l=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(f){o=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var l;if((t=t||"2d")!=="2d")return null;for(l in s)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=s[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(jt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(P){d=P}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(P){p=P}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(P){y=P}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(P){_=P}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(P){b=P}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(P){v=P}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(P){C=P}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return s.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,p){s.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),b=p.scaleFactor||this.internal.scaleFactor,v=0,C=0,P=0,L=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var S=p.maxWidth;S>0?typeof d=="string"?d=this.splitTextToSize(d,S):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(A,E){return A.concat(L.splitTextToSize(E,S))}),[])):d=Array.isArray(d)?d:[d];for(var k=0;k<d.length;k++)v<(P=this.getStringUnitWidth(d[k],{font:_})*y)&&(v=P);return v!==0&&(C=d.length),{w:v/=b,h:Math.max((C*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=_.top,v&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-y,d.y+y,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+y,{align:"center",baseline:"top",maxWidth:d.width-y-y}):this.text(d.text,d.x+y,d.y+y,{align:"left",baseline:"top",maxWidth:d.width-y-y})),this.internal.__cell__.lastCell=d,this};n.table=function(d,p,y,_,b){if(s.call(this),!y)throw new Error("No data for PDF table.");var v,C,P,L,S=[],k=[],A=[],E={},U={},Z=[],q=[],B=(b=b||{}).autoSize||!1,te=b.printHeaders!==!1,le=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,F=b.margins||Object.assign({width:this.getPageWidth()},e),R=typeof b.padding=="number"?b.padding:3,ee=b.headerBackgroundColor||"#c8c8c8",G=b.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=G,this.setFontSize(le),_==null)k=S=Object.keys(y[0]),A=S.map((function(){return"left"}));else if(Array.isArray(_)&&kn(_[0])==="object")for(S=_.map((function(V){return V.name})),k=_.map((function(V){return V.prompt||V.name||""})),A=_.map((function(V){return V.align||"left"})),v=0;v<_.length;v+=1)U[_[v].name]=_[v].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(k=S=_,A=S.map((function(){return"left"})));if(B||Array.isArray(_)&&typeof _[0]=="string")for(v=0;v<S.length;v+=1){for(E[L=S[v]]=y.map((function(V){return V[L]})),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(k[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=E[L],this.setFont(void 0,"normal"),P=0;P<C.length;P+=1)Z.push(this.getTextDimensions(C[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[L]=Math.max.apply(null,Z)+R+R,Z=[]}if(te){var ue={};for(v=0;v<S.length;v+=1)ue[S[v]]={},ue[S[v]].text=k[v],ue[S[v]].align=A[v];var $=f.call(this,ue,U);q=S.map((function(V){return new o(d,p,U[V],$,ue[V].text,void 0,ue[V].align)})),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var X=_.reduce((function(V,D){return V[D.name]=D.align,V}),{});for(v=0;v<y.length;v+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:v,data:y[v]},this);var O=f.call(this,y[v],U);for(P=0;P<S.length;P+=1){var W=y[v][S[P]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:v,col:P,data:W},this),c.call(this,new o(d,p,U[S[P]],O,W,v+2,X[S[P]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var f=function(d,p){var y=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map((function(v){var C=d[v];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,p[v]-y-y)}),this).map((function(v){return this.getLineHeightFactor()*v.length*_/b+y+y}),this).reduce((function(v,C){return Math.max(v,C)}),0)};n.setTableHeaderRow=function(d){s.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,p){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){y=this.internal.__cell__.tableHeaderRow[v].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,b.push(y)),y.lineNumber=d;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(C)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(jt.API);var n0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},r0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gp=t0(r0),s0=[100,200,300,400,500,600,700,800,900],yS=t0(s0);function Kp(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return n0[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}})(n.weight),l=(function(o){return typeof Gp[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:l,src:n.src||[],ref:n.ref||{name:e,style:[l,t,s].join(" ")}}}function _1(n,e,t,s){var l;for(l=t;l>=0&&l<e.length;l+=s)if(n[e[l]])return n[e[l]];for(l=t;l>=0&&l<e.length;l-=s)if(n[e[l]])return n[e[l]]}var _S={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w1(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function bS(n,e,t){for(var s=(t=t||{}).defaultFontFamily||"times",l=Object.assign({},_S,t.genericFontFamilies||{}),o=null,c=null,f=0;f<e.length;++f)if(l[(o=Kp(e[f])).family]&&(o.family=l[o.family]),n.hasOwnProperty(o.family)){c=n[o.family];break}if(!(c=c||n[s]))throw new Error("Could not find a font-family for the rule '"+w1(o)+"' and default family '"+s+"'.");if(c=(function(d,p){if(p[d])return p[d];var y=Gp[d],_=y<=Gp.normal?-1:1,b=_1(p,r0,y,_);if(!b)throw new Error("Could not find a matching font-stretch value for "+d);return b})(o.stretch,c),c=(function(d,p){if(p[d])return p[d];for(var y=n0[d],_=0;_<y.length;++_)if(p[y[_]])return p[y[_]];throw new Error("Could not find a matching font-style for "+d)})(o.style,c),!(c=(function(d,p){if(p[d])return p[d];if(d===400&&p[500])return p[500];if(d===500&&p[400])return p[400];var y=yS[d],_=_1(p,s0,y,d<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+d);return _})(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+w1(o)+"'.");return c}function x1(n){return n.trimLeft()}function wS(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function xS(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var kh,j1,k1,gp=["times"];(function(n){var e,t,s,l,o,c,f,d,p,y=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new d,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new c,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new c,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,d=this.internal.Matrix,p=new y}]);var _=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=N;Object.defineProperty(this,"pdf",{get:function(){return M}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(he){ie=!!he}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(he){isNaN(he)||(oe=he)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(he){isNaN(he)||(ve=he)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(he){var se;typeof he=="number"?se=[he,he,he,he]:((se=new Array(4))[0]=he[0],se[1]=he.length>=2?he[1]:se[0],se[2]=he.length>=3?he[2]:se[0],se[3]=he.length>=4?he[3]:se[1]),p.margin=se}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(he){ge=he}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(he){ke=he}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(he){$e=he}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(he){he instanceof y&&(p=he)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(he){p.path=he}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(he){He=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var se;se=b(he),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var se=b(he);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Ue=null;function me(he,se){if(Ue===null){var De=(function(Xe){var Ie=[];return Object.keys(Xe).forEach((function(Ye){Xe[Ye].forEach((function(st){var it=null;switch(st){case"bold":it={family:Ye,weight:"bold"};break;case"italic":it={family:Ye,style:"italic"};break;case"bolditalic":it={family:Ye,weight:"bold",style:"italic"};break;case"":case"normal":it={family:Ye}}it!==null&&(it.ref={name:Ye,style:st},Ie.push(it))}))})),Ie})(he.getFontList());Ue=(function(Xe){for(var Ie={},Ye=0;Ye<Xe.length;++Ye){var st=Kp(Xe[Ye]),it=st.family,gt=st.stretch,Ot=st.style,Mt=st.weight;Ie[it]=Ie[it]||{},Ie[it][gt]=Ie[it][gt]||{},Ie[it][gt][Ot]=Ie[it][gt][Ot]||{},Ie[it][gt][Ot][Mt]=st}return Ie})(De.concat(se))}return Ue}var pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(he){Ue=null,pe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var se;if(this.ctx.font=he,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var De=se[1],Xe=(se[2],se[3]),Ie=se[4],Ye=(se[5],se[6]),st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(st==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var it=(function(Ct){var $t,at,Sr=[],Jt=Ct.trim();if(Jt==="")return gp;if(Jt in b1)return[b1[Jt]];for(;Jt!=="";){switch(at=null,$t=(Jt=x1(Jt)).charAt(0)){case'"':case"'":at=wS(Jt.substring(1),$t);break;default:at=xS(Jt)}if(at===null||(Sr.push(at[0]),(Jt=x1(at[1]))!==""&&Jt.charAt(0)!==","))return gp;Jt=Jt.replace(/^,/,"")}return Sr})(Ye);if(this.fontFaces){var gt=bS(me(this.pdf,this.fontFaces),it.map((function(Ct){return{family:Ct,stretch:"normal",weight:Xe,style:De}})));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var Ot="";(Xe==="bold"||parseInt(Xe,10)>=700||De==="bold")&&(Ot="bold"),De==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var Mt="",zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gt=0;Gt<it.length;Gt++){if(this.pdf.internal.getFont(it[Gt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){Mt=it[Gt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(it[Gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=it[Gt],Ot="bold";else if(this.pdf.internal.getFont(it[Gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=it[Gt],Ot="normal";break}}if(Mt===""){for(var en=0;en<it.length;en++)if(zt[it[en]]){Mt=zt[it[en]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};_.prototype.setLineDash=function(N){this.lineDash=N},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){E.call(this,"fill",!1)},_.prototype.stroke=function(){E.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(N,M){if(isNaN(N)||isNaN(M))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new c(N,M));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new c(N,M)},_.prototype.closePath=function(){var N=new c(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&kn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){N=new c(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(N.x,N.y)},_.prototype.lineTo=function(N,M){if(isNaN(N)||isNaN(M))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new c(N,M));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new c(Q.x,Q.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},_.prototype.quadraticCurveTo=function(N,M,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(N)||isNaN(M))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new c(Q,ie)),ve=this.ctx.transform.applyToPoint(new c(N,M));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new c(oe.x,oe.y)},_.prototype.bezierCurveTo=function(N,M,Q,ie,oe,ve){if(isNaN(oe)||isNaN(ve)||isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new c(oe,ve)),ke=this.ctx.transform.applyToPoint(new c(N,M)),$e=this.ctx.transform.applyToPoint(new c(Q,ie));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:$e.x,y2:$e.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new c(ge.x,ge.y)},_.prototype.arc=function(N,M,Q,ie,oe,ve){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie)||isNaN(oe))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new c(N,M));N=ge.x,M=ge.y;var ke=this.ctx.transform.applyToPoint(new c(0,Q)),$e=this.ctx.transform.applyToPoint(new c(0,0));Q=Math.sqrt(Math.pow(ke.x-$e.x,2)+Math.pow(ke.y-$e.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:N,y:M,radius:Q,startAngle:ie,endAngle:oe,counterclockwise:ve})},_.prototype.arcTo=function(N,M,Q,ie,oe){throw new Error("arcTo not implemented.")},_.prototype.rect=function(N,M,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,M),this.lineTo(N+Q,M),this.lineTo(N+Q,M+ie),this.lineTo(N,M+ie),this.lineTo(N,M),this.lineTo(N+Q,M),this.lineTo(N,M)},_.prototype.fillRect=function(N,M,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,M,Q,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},_.prototype.strokeRect=function(N,M,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(N,M,Q,ie),this.stroke())},_.prototype.clearRect=function(N,M,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,M,Q,ie))},_.prototype.save=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},_.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(M),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(N){var M,Q,ie,oe;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))M=0,Q=0,ie=0,oe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ve!==null)M=parseInt(ve[1]),Q=parseInt(ve[2]),ie=parseInt(ve[3]),oe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)M=parseInt(ve[1]),Q=parseInt(ve[2]),ie=parseInt(ve[3]),oe=parseFloat(ve[4]);else{if(oe=1,typeof N=="string"&&N.charAt(0)!=="#"){var ge=new Yv(N);N=ge.ok?ge.toHex():"#000000"}N.length===4?(M=N.substring(1,2),M+=M,Q=N.substring(2,3),Q+=Q,ie=N.substring(3,4),ie+=ie):(M=N.substring(1,3),Q=N.substring(3,5),ie=N.substring(5,7)),M=parseInt(M,16),Q=parseInt(Q,16),ie=parseInt(ie,16)}}return{r:M,g:Q,b:ie,a:oe,style:N}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(N,M,Q,ie){if(isNaN(M)||isNaN(Q)||typeof N!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!v.call(this)){var oe=O(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;R.call(this,{text:N,x:M,y:Q,scale:ve,angle:oe,align:this.textAlign,maxWidth:ie})}},_.prototype.strokeText=function(N,M,Q,ie){if(isNaN(M)||isNaN(Q)||typeof N!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){ie=isNaN(ie)?void 0:ie;var oe=O(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;R.call(this,{text:N,x:M,y:Q,scale:ve,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},_.prototype.measureText=function(N){if(typeof N!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,Q=this.pdf.internal.scaleFactor,ie=M.internal.getFontSize(),oe=M.getStringUnitWidth(N)*ie/M.internal.scaleFactor,ve=function(ge){var ke=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this};return new ve({width:oe*=Math.round(96*Q/72*1e4)/1e4})},_.prototype.scale=function(N,M){if(isNaN(N)||isNaN(M))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new d(N,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},_.prototype.rotate=function(N){if(isNaN(N))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new d(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},_.prototype.translate=function(N,M){if(isNaN(N)||isNaN(M))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new d(1,0,0,1,N,M);this.ctx.transform=this.ctx.transform.multiply(Q)},_.prototype.transform=function(N,M,Q,ie,oe,ve){if(isNaN(N)||isNaN(M)||isNaN(Q)||isNaN(ie)||isNaN(oe)||isNaN(ve))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new d(N,M,Q,ie,oe,ve);this.ctx.transform=this.ctx.transform.multiply(ge)},_.prototype.setTransform=function(N,M,Q,ie,oe,ve){N=isNaN(N)?1:N,M=isNaN(M)?0:M,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,ve=isNaN(ve)?0:ve,this.ctx.transform=new d(N,M,Q,ie,oe,ve)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(N,M,Q,ie,oe,ve,ge,ke,$e){var He=this.pdf.getImageProperties(N),Ue=1,me=1,pe=1,he=1;ie!==void 0&&ke!==void 0&&(pe=ke/ie,he=$e/oe,Ue=He.width/ie*ke/ie,me=He.height/oe*$e/oe),ve===void 0&&(ve=M,ge=Q,M=0,Q=0),ie!==void 0&&ke===void 0&&(ke=ie,$e=oe),ie===void 0&&ke===void 0&&(ke=He.width,$e=He.height);for(var se,De=this.ctx.transform.decompose(),Xe=O(De.rotate.shx),Ie=new d,Ye=(Ie=(Ie=(Ie=Ie.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new f(ve-M*pe,ge-Q*he,ie*Ue,oe*me)),st=L.call(this,Ye),it=[],gt=0;gt<st.length;gt+=1)it.indexOf(st[gt])===-1&&it.push(st[gt]);if(A(it),this.autoPaging)for(var Ot=it[0],Mt=it[it.length-1],zt=Ot;zt<Mt+1;zt++){this.pdf.setPage(zt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],en=zt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=zt===1?0:Ct+(zt-2)*$t;if(this.ctx.clip_path.length!==0){var Sr=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(se,this.posX+this.margin[3],-at+en+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Sr}var Jt=JSON.parse(JSON.stringify(Ye));Jt=k([Jt],this.posX+this.margin[3],-at+en+this.ctx.prevPageLastElemOffset)[0];var Ls=(zt>Ot||zt<Mt)&&P.call(this);Ls&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,$t,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,Xe),Ls&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Xe)};var L=function(N,M,Q){var ie=[];M=M||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ie.push(Math.floor((N.y+oe)/Q)+1);break;case"arc":ie.push(Math.floor((N.y+oe-N.radius)/Q)+1),ie.push(Math.floor((N.y+oe+N.radius)/Q)+1);break;case"qct":var ve=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ie.push(Math.floor((ve.y+oe)/Q)+1),ie.push(Math.floor((ve.y+ve.h+oe)/Q)+1);break;case"bct":var ge=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ie.push(Math.floor((ge.y+oe)/Q)+1),ie.push(Math.floor((ge.y+ge.h+oe)/Q)+1);break;case"rect":ie.push(Math.floor((N.y+oe)/Q)+1),ie.push(Math.floor((N.y+N.h+oe)/Q)+1)}for(var ke=0;ke<ie.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ke];)S.call(this);return ie},S=function(){var N=this.fillStyle,M=this.strokeStyle,Q=this.font,ie=this.lineCap,oe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=M,this.font=Q,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=ve},k=function(N,M,Q){for(var ie=0;ie<N.length;ie++)switch(N[ie].type){case"bct":N[ie].x2+=M,N[ie].y2+=Q;case"qct":N[ie].x1+=M,N[ie].y1+=Q;case"mt":case"lt":case"arc":default:N[ie].x+=M,N[ie].y+=Q}return N},A=function(N){return N.sort((function(M,Q){return M-Q}))},E=function(N,M){for(var Q,ie,oe=this.fillStyle,ve=this.strokeStyle,ge=this.lineCap,ke=this.lineWidth,$e=Math.abs(ke*this.ctx.transform.scaleX),He=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),me=JSON.parse(JSON.stringify(this.path)),pe=[],he=0;he<me.length;he++)if(me[he].x!==void 0)for(var se=L.call(this,me[he]),De=0;De<se.length;De+=1)pe.indexOf(se[De])===-1&&pe.push(se[De]);for(var Xe=0;Xe<pe.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<pe[Xe];)S.call(this);if(A(pe),this.autoPaging)for(var Ie=pe[0],Ye=pe[pe.length-1],st=Ie;st<Ye+1;st++){this.pdf.setPage(st),this.fillStyle=oe,this.strokeStyle=ve,this.lineCap=ge,this.lineWidth=$e,this.lineJoin=He;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=st===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=st===1?0:Ot+(st-2)*Mt;if(this.ctx.clip_path.length!==0){var Gt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Q,this.posX+this.margin[3],-zt+gt+this.ctx.prevPageLastElemOffset),U.call(this,N,!0),this.path=Gt}if(ie=JSON.parse(JSON.stringify(Ue)),this.path=k(ie,this.posX+this.margin[3],-zt+gt+this.ctx.prevPageLastElemOffset),M===!1||st===0){var en=(st>Ie||st<Ye)&&P.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Mt,null).clip().discardPath()),U.call(this,N,M),en&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=$e,U.call(this,N,M),this.lineWidth=ke;this.path=Ue},U=function(N,M){if((N!=="stroke"||M||!C.call(this))&&(N==="stroke"||M||!v.call(this))){for(var Q,ie,oe=[],ve=this.path,ge=0;ge<ve.length;ge++){var ke=ve[ge];switch(ke.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ke,deltas:[],abs:[]});break;case"lt":var $e=oe.length;if(ve[ge-1]&&!isNaN(ve[ge-1].x)&&(Q=[ke.x-ve[ge-1].x,ke.y-ve[ge-1].y],$e>0)){for(;$e>=0;$e--)if(oe[$e-1].close!==!0&&oe[$e-1].begin!==!0){oe[$e-1].deltas.push(Q),oe[$e-1].abs.push(ke);break}}break;case"bct":Q=[ke.x1-ve[ge-1].x,ke.y1-ve[ge-1].y,ke.x2-ve[ge-1].x,ke.y2-ve[ge-1].y,ke.x-ve[ge-1].x,ke.y-ve[ge-1].y],oe[oe.length-1].deltas.push(Q);break;case"qct":var He=ve[ge-1].x+2/3*(ke.x1-ve[ge-1].x),Ue=ve[ge-1].y+2/3*(ke.y1-ve[ge-1].y),me=ke.x+2/3*(ke.x1-ke.x),pe=ke.y+2/3*(ke.y1-ke.y),he=ke.x,se=ke.y;Q=[He-ve[ge-1].x,Ue-ve[ge-1].y,me-ve[ge-1].x,pe-ve[ge-1].y,he-ve[ge-1].x,se-ve[ge-1].y],oe[oe.length-1].deltas.push(Q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ke)}}ie=M?null:N==="stroke"?"stroke":"fill";for(var De=!1,Xe=0;Xe<oe.length;Xe++)if(oe[Xe].arc)for(var Ie=oe[Xe].abs,Ye=0;Ye<Ie.length;Ye++){var st=Ie[Ye];st.type==="arc"?B.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,M,!De):ee.call(this,st.x,st.y),De=!0}else if(oe[Xe].close===!0)this.pdf.internal.out("h"),De=!1;else if(oe[Xe].begin!==!0){var it=oe[Xe].start.x,gt=oe[Xe].start.y;G.call(this,oe[Xe].deltas,it,gt),De=!0}ie&&te.call(this,ie),M&&le.call(this)}},Z=function(N){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-Q;case"top":return N+M-Q;case"hanging":return N+M-2*Q;case"middle":return N+M/2-Q;case"ideographic":return N;case"alphabetic":default:return N}},q=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(M,Q){this.colorStops.push([M,Q])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(N,M,Q,ie,oe,ve,ge,ke,$e){for(var He=$.call(this,Q,ie,oe,ve),Ue=0;Ue<He.length;Ue++){var me=He[Ue];Ue===0&&($e?F.call(this,me.x1+N,me.y1+M):ee.call(this,me.x1+N,me.y1+M)),ue.call(this,N,M,me.x2,me.y2,me.x3,me.y3,me.x4,me.y4)}ke?le.call(this):te.call(this,ge)},te=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(N,M){this.pdf.internal.out(t(N)+" "+s(M)+" m")},R=function(N){var M;switch(N.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var Q=this.pdf.getTextDimensions(N.text),ie=Z.call(this,N.y),oe=q.call(this,ie)-Q.h,ve=this.ctx.transform.applyToPoint(new c(N.x,ie)),ge=this.ctx.transform.decompose(),ke=new d;ke=(ke=(ke=ke.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var $e,He,Ue,me=this.ctx.transform.applyToRectangle(new f(N.x,ie,Q.w,Q.h)),pe=ke.applyToRectangle(new f(N.x,oe,Q.w,Q.h)),he=L.call(this,pe),se=[],De=0;De<he.length;De+=1)se.indexOf(he[De])===-1&&se.push(he[De]);if(A(se),this.autoPaging)for(var Xe=se[0],Ie=se[se.length-1],Ye=Xe;Ye<Ie+1;Ye++){this.pdf.setPage(Ye);var st=Ye===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Ot=gt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],zt=Mt-this.margin[3],Gt=Ye===1?0:it+(Ye-2)*Ot;if(this.ctx.clip_path.length!==0){var en=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k($e,this.posX+this.margin[3],-1*Gt+st),U.call(this,"fill",!0),this.path=en}var Ct=k([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-Gt+st+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*N.scale),Ue=this.lineWidth,this.lineWidth=Ue*N.scale);var $t=this.autoPaging!=="text";if($t||Ct.y+Ct.h<=gt){if($t||Ct.y>=st&&Ct.x<=Mt){var at=$t?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Mt-Ct.x)[0],Sr=k([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-Gt+st+this.ctx.prevPageLastElemOffset)[0],Jt=$t&&(Ye>Xe||Ye<Ie)&&P.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Ot,null).clip().discardPath()),this.pdf.text(at,Sr.x,Sr.y,{angle:N.angle,align:M,renderingMode:N.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else Ct.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-Ct.y);N.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ue)}else N.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*N.scale),Ue=this.lineWidth,this.lineWidth=Ue*N.scale),this.pdf.text(N.text,ve.x+this.posX,ve.y+this.posY,{angle:N.angle,align:M,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ue)},ee=function(N,M,Q,ie){Q=Q||0,ie=ie||0,this.pdf.internal.out(t(N+Q)+" "+s(M+ie)+" l")},G=function(N,M,Q){return this.pdf.lines(N,M,Q,null,null)},ue=function(N,M,Q,ie,oe,ve,ge,ke){this.pdf.internal.out([e(l(Q+N)),e(o(ie+M)),e(l(oe+N)),e(o(ve+M)),e(l(ge+N)),e(o(ke+M)),"c"].join(" "))},$=function(N,M,Q,ie){for(var oe=2*Math.PI,ve=Math.PI/2;M>Q;)M-=oe;var ge=Math.abs(Q-M);ge<oe&&ie&&(ge=oe-ge);for(var ke=[],$e=ie?-1:1,He=M;ge>1e-5;){var Ue=He+$e*Math.min(ge,ve);ke.push(X.call(this,N,He,Ue)),ge-=Math.abs(Ue-He),He=Ue}return ke},X=function(N,M,Q){var ie=(Q-M)/2,oe=N*Math.cos(ie),ve=N*Math.sin(ie),ge=oe,ke=-ve,$e=ge*ge+ke*ke,He=$e+ge*oe+ke*ve,Ue=4/3*(Math.sqrt(2*$e*He)-He)/(ge*ve-ke*oe),me=ge-Ue*ke,pe=ke+Ue*ge,he=me,se=-pe,De=ie+M,Xe=Math.cos(De),Ie=Math.sin(De);return{x1:N*Math.cos(M),y1:N*Math.sin(M),x2:me*Xe-pe*Ie,y2:me*Ie+pe*Xe,x3:he*Xe-se*Ie,y3:he*Ie+se*Xe,x4:N*Math.cos(Q),y4:N*Math.sin(Q)}},O=function(N){return 180*N/Math.PI},W=function(N,M,Q,ie,oe,ve){var ge=N+.5*(Q-N),ke=M+.5*(ie-M),$e=oe+.5*(Q-oe),He=ve+.5*(ie-ve),Ue=Math.min(N,oe,ge,$e),me=Math.max(N,oe,ge,$e),pe=Math.min(M,ve,ke,He),he=Math.max(M,ve,ke,He);return new f(Ue,pe,me-Ue,he-pe)},V=function(N,M,Q,ie,oe,ve,ge,ke){var $e,He,Ue,me,pe,he,se,De,Xe,Ie,Ye,st,it,gt,Ot=Q-N,Mt=ie-M,zt=oe-Q,Gt=ve-ie,en=ge-oe,Ct=ke-ve;for(He=0;He<41;He++)Xe=(se=(Ue=N+($e=He/40)*Ot)+$e*((pe=Q+$e*zt)-Ue))+$e*(pe+$e*(oe+$e*en-pe)-se),Ie=(De=(me=M+$e*Mt)+$e*((he=ie+$e*Gt)-me))+$e*(he+$e*(ve+$e*Ct-he)-De),He==0?(Ye=Xe,st=Ie,it=Xe,gt=Ie):(Ye=Math.min(Ye,Xe),st=Math.min(st,Ie),it=Math.max(it,Xe),gt=Math.max(gt,Ie));return new f(Math.round(Ye),Math.round(st),Math.round(it-Ye),Math.round(gt-st))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,M,Q=(N=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:M}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(jt.API),(function(n){var e=function(o){var c,f,d,p,y,_,b,v,C,P;for(f=[],d=0,p=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;p>d;d+=4)(y=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(P=y%85))/85)-(C=y%85))/85)-(v=y%85))/85)-(b=y%85))/85)%85,f.push(_+33,b+33,v+33,C+33,P+33)):f.push(122);return(function(L,S){for(var k=S;k>0;k--)L.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(o){var c,f,d,p,y,_=String,b="length",v=255,C="charCodeAt",P="slice",L="replace";for(o[P](-2),o=o[P](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),d=[],p=0,y=(o+=c="uuuuu"[P](o[b]%5||5))[b];y>p;p+=5)f=52200625*(o[C](p)-33)+614125*(o[C](p+1)-33)+7225*(o[C](p+2)-33)+85*(o[C](p+3)-33)+(o[C](p+4)-33),d.push(v&f>>24,v&f>>16,v&f>>8,v&f);return(function(S,k){for(var A=k;A>0;A--)S.pop()})(d,c[b]),_.fromCharCode.apply(_,d)},s=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var f="",d=0;d<o.length;d+=2)f+=String.fromCharCode("0x"+(o[d]+o[d+1]));return f},l=function(o){for(var c=new Uint8Array(o.length),f=o.length;f--;)c[f]=o.charCodeAt(f);return o=(c=zp(c)).reduce((function(d,p){return d+String.fromCharCode(p)}),"")};n.processDataByFilters=function(o,c){var f=0,d=o||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map((function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)})).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=l(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(jt.API),(function(n){n.loadFile=function(e,t,s){return(function(l,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=(function(d,p,y){var _=new XMLHttpRequest,b=0,v=function(C){var P=C.length,L=[],S=String.fromCharCode;for(b=0;b<P;b+=1)L.push(S(255&C.charCodeAt(b)));return L.join("")};if(_.open("GET",d,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?y(v(this.responseText)):y(void 0)}),_.send(null),p&&_.status===200)return v(_.responseText)})(l,o,c)}catch{}return f})(e,t,s)},n.loadImageFile=n.loadFile})(jt.API),(function(n){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Fp(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function t(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Fp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var s=function(c){var f=kn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},l=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return p=(p=p.setProgress(1,c,1,[c])).set(f)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,f){return c.__proto__=f||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,f){return this.then((function(){switch(f=f||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(t).then((function(d){return this.set({src:l("div",{innerHTML:c,dompurify:d})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=(function d(p,y){for(var _=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),b=p.firstChild;b;b=b.nextSibling)y!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||_.appendChild(d(b,y));return p.nodeType===1&&(p.nodeName==="CANVAS"?(_.width=p.width,_.height=p.height,_.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(_.value=p.value),_.addEventListener("load",(function(){_.scrollTop=p.scrollTop,_.scrollLeft=p.scrollLeft}),!0)),_})(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then((function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)})).then((function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then((function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var v=p[b],C=v.src.find((function(P){return P.format==="truetype"}));C&&d.addFont(C.url,v.ref.name,v.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)})).then((function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},o.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,f)}))},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(c){if(s(c)!=="object")return this;var f=Object.keys(c||{}).map((function(d){if(d in o.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}}),this);return this.then((function(){return this.thenList(f)}))},o.prototype.get=function(c,f){return this.then((function(){var d=c in o.template.prop?this.prop[c]:this.opt[c];return f?f(d):d}))},o.prototype.setMargin=function(c){return this.then((function(){switch(s(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},o.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then((function(){(c=c||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},o.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},o.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,(function(p,y){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,(function(_){return d.updateProgress(null,p),_})).then(p,y).then((function(_){return d.updateProgress(1),_}))}))},o.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),y=d.call(p,c,f);return o.convert(y,this.__proto__)},o.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},o.prototype.thenList=function(c){var f=this;return c.forEach((function(d){f=f.thenCore(d)})),f},o.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return o.convert(f,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,jt.getPageSize=function(c,f,d){if(kn(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var v,C=0,P=0;if(b.hasOwnProperty(_))C=b[_][1]/y,P=b[_][0]/y;else try{C=d[1],P=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",P>C&&(v=P,P=C,C=v);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",C>P&&(v=P,P=C,C=v)}return{width:P,height:C,unit:f,k:y,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Kp):null;var d=new o(f);return f.worker?d:d.from(c).doCallback()}})(jt.API),jt.API.addJS=function(n){return k1=n,this.internal.events.subscribe("postPutResources",(function(){kh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k1+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){kh!==void 0&&j1!==void 0&&this.internal.out("/Names <</JavaScript "+kh+" 0 R>>")})),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=t.outline.render().split(/\r\n/),o=0;o<l.length;o++){var c=l[o],f=s.exec(c);if(f!=null){var d=f[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(o=0;o<p;o++){var _=t.internal.newObject();y.push(_);var b=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,l,o){var c={title:l,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var l=0;l<s.children.length;l++)this.genIds_r(s.children[l])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var d=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var p=0;p<s.children.length;p++)this.renderItems(s.children[p])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,l){for(var o=0;o<l.children.length;o++)s.count++,this.count_r(s,l.children[o]);return s.count}}])})(jt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,l,o,c,f){var d,p=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=(function(_){for(var b,v=256*_.charCodeAt(4)+_.charCodeAt(5),C=_.length,P={width:0,height:0,numcomponents:1},L=4;L<C;L+=2){if(L+=v,e.indexOf(_.charCodeAt(L+1))!==-1){b=256*_.charCodeAt(L+5)+_.charCodeAt(L+6),P={width:256*_.charCodeAt(L+7)+_.charCodeAt(L+8),height:b,numcomponents:_.charCodeAt(L+9)};break}v=256*_.charCodeAt(L+2)+_.charCodeAt(L+3)}return P})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}y={data:t,width:d.width,height:d.height,colorSpace:f,bitsPerComponent:8,filter:p,index:s,alias:l}}return y}})(jt.API);var yu,Nh,N1,S1,C1,jS=(function(){var n,e,t;function s(o){var c,f,d,p,y,_,b,v,C,P,L,S,k,A;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(c=this.readUInt32(),C=(function(){var E,U;for(U=[],E=0;E<4;++E)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),p=this.readUInt16()||100,_.delay=1e3*y/p,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,c-=4),o=(_!=null?_.data:void 0)||this.imgData,S=0;0<=c?S<c:S>c;0<=c?++S:--S)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((P=d-this.transparency.indexed.length)>0)for(k=0;0<=P?k<P:k>P;0<=P?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":b=(L=this.read(c)).indexOf(0),v=String.fromCharCode.apply(String,L.slice(0,b)),this.text[v]=String.fromCharCode.apply(String,L.slice(b+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(o){var c,f;for(f=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)f.push(this.data[this.pos++]);return f},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),d=0,p=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function y(_,b,v,C){var P,L,S,k,A,E,U,Z,q,B,te,le,F,R,ee,G,ue,$,X,O,W,V=Math.ceil((p.width-_)/v),D=Math.ceil((p.height-b)/C),N=p.width==V&&p.height==D;for(R=c*V,le=N?f:new Uint8Array(R*D),E=o.length,F=0,L=0;F<D&&d<E;){switch(o[d++]){case 0:for(k=ue=0;ue<R;k=ue+=1)le[L++]=o[d++];break;case 1:for(k=$=0;$<R;k=$+=1)P=o[d++],A=k<c?0:le[L-c],le[L++]=(P+A)%256;break;case 2:for(k=X=0;X<R;k=X+=1)P=o[d++],S=(k-k%c)/c,ee=F&&le[(F-1)*R+S*c+k%c],le[L++]=(ee+P)%256;break;case 3:for(k=O=0;O<R;k=O+=1)P=o[d++],S=(k-k%c)/c,A=k<c?0:le[L-c],ee=F&&le[(F-1)*R+S*c+k%c],le[L++]=(P+Math.floor((A+ee)/2))%256;break;case 4:for(k=W=0;W<R;k=W+=1)P=o[d++],S=(k-k%c)/c,A=k<c?0:le[L-c],F===0?ee=G=0:(ee=le[(F-1)*R+S*c+k%c],G=S&&le[(F-1)*R+(S-1)*c+k%c]),U=A+ee-G,Z=Math.abs(U-A),B=Math.abs(U-ee),te=Math.abs(U-G),q=Z<=B&&Z<=te?A:B<=te?ee:G,le[L++]=(P+q)%256;break;default:throw new Error("Invalid filter algorithm: "+o[d-1])}if(!N){var M=((b+F*C)*p.width+_)*c,Q=F*R;for(k=0;k<V;k+=1){for(var ie=0;ie<c;ie+=1)f[M++]=le[Q++];M+=(v-1)*c}}F++}}return o=eS(o),p.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),f},s.prototype.decodePalette=function(){var o,c,f,d,p,y,_,b,v;for(f=this.palette,y=this.transparency.indexed||[],p=new Uint8Array((y.length||0)+f.length),d=0,o=0,c=_=0,b=f.length;_<b;c=_+=3)p[d++]=f[c],p[d++]=f[c+1],p[d++]=f[c+2],p[d++]=(v=y[o++])!=null?v:255;return p},s.prototype.copyToImageData=function(o,c){var f,d,p,y,_,b,v,C,P,L,S;if(d=this.colors,P=null,f=this.hasAlphaChannel,this.palette.length&&(P=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),d=4,f=!0),C=(p=o.data||o).length,_=P||c,y=b=0,d===1)for(;y<C;)v=P?4*c[y/4]:b,L=_[v++],p[y++]=L,p[y++]=L,p[y++]=L,p[y++]=f?_[v++]:255,b=v;else for(;y<C;)v=P?4*c[y/4]:b,p[y++]=_[v++],p[y++]=_[v++],p[y++]=_[v++],p[y++]=f?_[v++]:255,b=v},s.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var l=function(){if(Object.prototype.toString.call(Et)==="[object Window]"){try{e=Et.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return l(),n=function(o){var c;if(l()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(o){var c,f,d,p,y,_,b,v;if(this.animation){for(v=[],f=y=0,_=(b=this.animation.frames).length;y<_;f=++y)c=b[f],d=o.createImageData(c.width,c.height),p=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(d,p),c.imageData=d,v.push(c.image=n(d));return v}},s.prototype.renderFrame=function(o,c){var f,d,p;return f=(d=this.animation.frames)[c],p=d[c-1],c===0&&o.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?o.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&o.putImageData(p.imageData,p.xOffset,p.yOffset),f.blendOp===0&&o.clearRect(f.xOffset,f.yOffset,f.width,f.height),o.drawImage(f.image,f.xOffset,f.yOffset)},s.prototype.animate=function(o){var c,f,d,p,y,_,b=this;return f=0,_=this.animation,p=_.numFrames,d=_.frames,y=_.numPlays,(c=function(){var v,C;if(v=f++%p,C=d[v],b.renderFrame(o,v),p>1&&f/p<y)return b.animation._timeout=setTimeout(c,C.delay)})()},s.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},s.prototype.render=function(o){var c,f;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},s})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function kS(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,l=n[e++],o=l>>7,c=1<<(7&l)+1;n[e++],n[e++];var f=null,d=null;o&&(f=e,d=c,e+=3*c);var p=!0,y=[],_=0,b=null,v=0,C=null;for(this.width=t,this.height=s;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=n[e++];_=n[e++]|n[e++]<<8,b=n[e++],(1&P)==0&&(b=null),v=P>>2&7,e++;break;case 254:for(;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var L=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,E=n[e++],U=E>>6&1,Z=1<<(7&E)+1,q=f,B=d,te=!1;E>>7&&(te=!0,q=e,B=Z,e+=3*Z);var le=e;for(e++;;){var F;if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}y.push({x:L,y:S,width:k,height:A,has_local_palette:te,palette_offset:q,palette_size:B,data_offset:le,data_length:e-le,transparent_index:b,interlaced:!!U,delay:_,disposal:v});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return C},this.frameInfo=function(R){if(R<0||R>=y.length)throw new Error("Frame index out of range.");return y[R]},this.decodeAndBlitFrameBGRA=function(R,ee){var G=this.frameInfo(R),ue=G.width*G.height,$=new Uint8Array(ue);L1(n,G.data_offset,$,ue);var X=G.palette_offset,O=G.transparent_index;O===null&&(O=256);var W=G.width,V=t-W,D=W,N=4*(G.y*t+G.x),M=4*((G.y+G.height)*t+G.x),Q=N,ie=4*V;G.interlaced===!0&&(ie+=4*t*7);for(var oe=8,ve=0,ge=$.length;ve<ge;++ve){var ke=$[ve];if(D===0&&(D=W,(Q+=ie)>=M&&(ie=4*V+4*t*(oe-1),Q=N+(W+V)*(oe<<1),oe>>=1)),ke===O)Q+=4;else{var $e=n[X+3*ke],He=n[X+3*ke+1],Ue=n[X+3*ke+2];ee[Q++]=Ue,ee[Q++]=He,ee[Q++]=$e,ee[Q++]=255}--D}},this.decodeAndBlitFrameRGBA=function(R,ee){var G=this.frameInfo(R),ue=G.width*G.height,$=new Uint8Array(ue);L1(n,G.data_offset,$,ue);var X=G.palette_offset,O=G.transparent_index;O===null&&(O=256);var W=G.width,V=t-W,D=W,N=4*(G.y*t+G.x),M=4*((G.y+G.height)*t+G.x),Q=N,ie=4*V;G.interlaced===!0&&(ie+=4*t*7);for(var oe=8,ve=0,ge=$.length;ve<ge;++ve){var ke=$[ve];if(D===0&&(D=W,(Q+=ie)>=M&&(ie=4*V+4*t*(oe-1),Q=N+(W+V)*(oe<<1),oe>>=1)),ke===O)Q+=4;else{var $e=n[X+3*ke],He=n[X+3*ke+1],Ue=n[X+3*ke+2];ee[Q++]=$e,ee[Q++]=He,ee[Q++]=Ue,ee[Q++]=255}--D}}}function L1(n,e,t,s){for(var l=n[e++],o=1<<l,c=o+1,f=c+1,d=l+1,p=(1<<d)-1,y=0,_=0,b=0,v=n[e++],C=new Int32Array(4096),P=null;;){for(;y<16&&v!==0;)_|=n[e++]<<y,y+=8,v===1?v=n[e++]:--v;if(y<d)break;var L=_&p;if(_>>=d,y-=d,L!==o){if(L===c)break;for(var S=L<f?L:P,k=0,A=S;A>o;)A=C[A]>>8,++k;var E=A;if(b+k+(S!==L?1:0)>s)return void Ln.log("Warning, gif stream longer than expected.");t[b++]=E;var U=b+=k;for(S!==L&&(t[b++]=E),A=S;k--;)A=C[A],t[--U]=255&A,A>>=8;P!==null&&f<4096&&(C[f++]=P<<8|E,f>=p+1&&d<12&&(++d,p=p<<1|1)),P=L}else f=c+1,p=(1<<(d=l+1))-1,P=null}return b!==s&&Ln.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vp(n){var e,t,s,l,o,c=Math.floor,f=new Array(64),d=new Array(64),p=new Array(64),y=new Array(64),_=new Array(65535),b=new Array(65535),v=new Array(64),C=new Array(64),P=[],L=0,S=7,k=new Array(64),A=new Array(64),E=new Array(64),U=new Array(256),Z=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(N,M){for(var Q=0,ie=0,oe=new Array,ve=1;ve<=16;ve++){for(var ge=1;ge<=N[ve];ge++)oe[M[ie]]=[],oe[M[ie]][0]=Q,oe[M[ie]][1]=ve,ie++,Q++;Q*=2}return oe}function X(N){for(var M=N[0],Q=N[1]-1;Q>=0;)M&1<<Q&&(L|=1<<S),Q--,--S<0&&(L==255?(O(255),O(0)):O(L),S=7,L=0)}function O(N){P.push(N)}function W(N){O(N>>8&255),O(255&N)}function V(N,M,Q,ie,oe){for(var ve,ge=oe[0],ke=oe[240],$e=(function(Ie,Ye){var st,it,gt,Ot,Mt,zt,Gt,en,Ct,$t,at=0;for(Ct=0;Ct<8;++Ct){st=Ie[at],it=Ie[at+1],gt=Ie[at+2],Ot=Ie[at+3],Mt=Ie[at+4],zt=Ie[at+5],Gt=Ie[at+6];var Sr=st+(en=Ie[at+7]),Jt=st-en,Ls=it+Gt,_n=it-Gt,Nn=gt+zt,As=gt-zt,Qt=Ot+Mt,Ti=Ot-Mt,An=Sr+Qt,Cr=Sr-Qt,Kr=Ls+Nn,Tn=Ls-Nn;Ie[at]=An+Kr,Ie[at+4]=An-Kr;var It=.707106781*(Tn+Cr);Ie[at+2]=Cr+It,Ie[at+6]=Cr-It;var tn=.382683433*((An=Ti+As)-(Tn=_n+Jt)),ha=.5411961*An+tn,pr=1.306562965*Tn+tn,Ps=.707106781*(Kr=As+_n),Gs=Jt+Ps,_t=Jt-Ps;Ie[at+5]=_t+ha,Ie[at+3]=_t-ha,Ie[at+1]=Gs+pr,Ie[at+7]=Gs-pr,at+=8}for(at=0,Ct=0;Ct<8;++Ct){st=Ie[at],it=Ie[at+8],gt=Ie[at+16],Ot=Ie[at+24],Mt=Ie[at+32],zt=Ie[at+40],Gt=Ie[at+48];var fs=st+(en=Ie[at+56]),Yr=st-en,Jr=it+Gt,On=it-Gt,In=gt+zt,Lr=gt-zt,fa=Ot+Mt,Oi=Ot-Mt,Ks=fs+fa,Ys=fs-fa,yr=Jr+In,Js=Jr-In;Ie[at]=Ks+yr,Ie[at+32]=Ks-yr;var ps=.707106781*(Js+Ys);Ie[at+16]=Ys+ps,Ie[at+48]=Ys-ps;var pi=.382683433*((Ks=Oi+Lr)-(Js=On+Yr)),pa=.5411961*Ks+pi,Va=1.306562965*Js+pi,Ga=.707106781*(yr=Lr+On),Ka=Yr+Ga,Oo=Yr-Ga;Ie[at+40]=Oo+pa,Ie[at+24]=Oo-pa,Ie[at+8]=Ka+Va,Ie[at+56]=Ka-Va,at++}for(Ct=0;Ct<64;++Ct)$t=Ie[Ct]*Ye[Ct],v[Ct]=$t>0?$t+.5|0:$t-.5|0;return v})(N,M),He=0;He<64;++He)C[q[He]]=$e[He];var Ue=C[0]-Q;Q=C[0],Ue==0?X(ie[0]):(X(ie[b[ve=32767+Ue]]),X(_[ve]));for(var me=63;me>0&&C[me]==0;)me--;if(me==0)return X(ge),Q;for(var pe,he=1;he<=me;){for(var se=he;C[he]==0&&he<=me;)++he;var De=he-se;if(De>=16){pe=De>>4;for(var Xe=1;Xe<=pe;++Xe)X(ke);De&=15}ve=32767+C[he],X(oe[(De<<4)+b[ve]]),X(_[ve]),he++}return me!=63&&X(ge),Q}function D(N){N=Math.min(Math.max(N,1),100),o!=N&&((function(M){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=c((Q[ie]*M+50)/100);oe=Math.min(Math.max(oe,1),255),f[q[ie]]=oe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ke=c((ve[ge]*M+50)/100);ke=Math.min(Math.max(ke,1),255),d[q[ge]]=ke}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ue=0;Ue<8;Ue++)for(var me=0;me<8;me++)p[He]=1/(f[q[He]]*$e[Ue]*$e[me]*8),y[He]=1/(d[q[He]]*$e[Ue]*$e[me]*8),He++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),o=N)}this.encode=function(N,M){M&&D(M),P=new Array,L=0,S=7,W(65496),W(65504),W(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),W(1),W(1),O(0),O(0),(function(){W(65499),W(132),O(0);for(var it=0;it<64;it++)O(f[it]);O(1);for(var gt=0;gt<64;gt++)O(d[gt])})(),(function(it,gt){W(65472),W(17),O(8),W(gt),W(it),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)})(N.width,N.height),(function(){W(65476),W(418),O(0);for(var it=0;it<16;it++)O(B[it+1]);for(var gt=0;gt<=11;gt++)O(te[gt]);O(16);for(var Ot=0;Ot<16;Ot++)O(le[Ot+1]);for(var Mt=0;Mt<=161;Mt++)O(F[Mt]);O(1);for(var zt=0;zt<16;zt++)O(R[zt+1]);for(var Gt=0;Gt<=11;Gt++)O(ee[Gt]);O(17);for(var en=0;en<16;en++)O(G[en+1]);for(var Ct=0;Ct<=161;Ct++)O(ue[Ct])})(),W(65498),W(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var Q=0,ie=0,oe=0;L=0,S=7,this.encode.displayName="_encode_";for(var ve,ge,ke,$e,He,Ue,me,pe,he,se=N.data,De=N.width,Xe=N.height,Ie=4*De,Ye=0;Ye<Xe;){for(ve=0;ve<Ie;){for(He=Ie*Ye+ve,me=-1,pe=0,he=0;he<64;he++)Ue=He+(pe=he>>3)*Ie+(me=4*(7&he)),Ye+pe>=Xe&&(Ue-=Ie*(Ye+1+pe-Xe)),ve+me>=Ie&&(Ue-=ve+me-Ie+4),ge=se[Ue++],ke=se[Ue++],$e=se[Ue++],k[he]=(Z[ge]+Z[ke+256>>0]+Z[$e+512>>0]>>16)-128,A[he]=(Z[ge+768>>0]+Z[ke+1024>>0]+Z[$e+1280>>0]>>16)-128,E[he]=(Z[ge+1280>>0]+Z[ke+1536>>0]+Z[$e+1792>>0]>>16)-128;Q=V(k,p,Q,e,s),ie=V(A,y,ie,t,l),oe=V(E,y,oe,t,l),ve+=32}Ye+=8}if(S>=0){var st=[];st[1]=S+1,st[0]=(1<<S+1)-1,X(st)}return W(65497),new Uint8Array(P)},n=n||50,(function(){for(var N=String.fromCharCode,M=0;M<256;M++)U[M]=N(M)})(),e=$(B,te),t=$(R,ee),s=$(le,F),l=$(G,ue),(function(){for(var N=1,M=2,Q=1;Q<=15;Q++){for(var ie=N;ie<M;ie++)b[32767+ie]=Q,_[32767+ie]=[],_[32767+ie][1]=Q,_[32767+ie][0]=ie;for(var oe=-(M-1);oe<=-N;oe++)b[32767+oe]=Q,_[32767+oe]=[],_[32767+oe][1]=Q,_[32767+oe][0]=M-1+oe;N<<=1,M<<=1}})(),(function(){for(var N=0;N<256;N++)Z[N]=19595*N,Z[N+256>>0]=38470*N,Z[N+512>>0]=7471*N+32768,Z[N+768>>0]=-11059*N,Z[N+1024>>0]=-21709*N,Z[N+1280>>0]=32768*N+8421375,Z[N+1536>>0]=-27439*N,Z[N+1792>>0]=-5329*N})(),D(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function na(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A1(n){function e(B){if(!B)throw Error("assert :P")}function t(B,te,le){for(var F=0;4>F;F++)if(B[te+F]!=le.charCodeAt(F))return!0;return!1}function s(B,te,le,F,R){for(var ee=0;ee<R;ee++)B[te+ee]=le[F+ee]}function l(B,te,le,F){for(var R=0;R<F;R++)B[te+R]=le}function o(B){return new Int32Array(B)}function c(B,te){for(var le=[],F=0;F<B;F++)le.push(new te);return le}function f(B,te){var le=[];return(function F(R,ee,G){for(var ue=G[ee],$=0;$<ue&&(R.push(G.length>ee+1?[]:new te),!(G.length<ee+1));$++)F(R[$],ee+1,G)})(le,0,B),le}var d=function(){var B=this;function te(h,g){for(var j=1<<g-1>>>0;h&j;)j>>>=1;return j?(h&j-1)+j:h}function le(h,g,j,I,z){e(!(I%j));do h[g+(I-=j)]=z;while(0<I)}function F(h,g,j,I,z){if(e(2328>=z),512>=z)var K=o(512);else if((K=o(z))==null)return 0;return(function(J,ne,re,ce,_e,Ce){var Le,Ne,We=ne,Te=1<<re,we=o(16),xe=o(16);for(e(_e!=0),e(ce!=null),e(J!=null),e(0<re),Ne=0;Ne<_e;++Ne){if(15<ce[Ne])return 0;++we[ce[Ne]]}if(we[0]==_e)return 0;for(xe[1]=0,Le=1;15>Le;++Le){if(we[Le]>1<<Le)return 0;xe[Le+1]=xe[Le]+we[Le]}for(Ne=0;Ne<_e;++Ne)Le=ce[Ne],0<ce[Ne]&&(Ce[xe[Le]++]=Ne);if(xe[15]==1)return(ce=new R).g=0,ce.value=Ce[0],le(J,We,1,Te,ce),Te;var Be,Me=-1,qe=Te-1,lt=0,tt=1,bt=1,rt=1<<re;for(Ne=0,Le=1,_e=2;Le<=re;++Le,_e<<=1){if(tt+=bt<<=1,0>(bt-=we[Le]))return 0;for(;0<we[Le];--we[Le])(ce=new R).g=Le,ce.value=Ce[Ne++],le(J,We+lt,_e,rt,ce),lt=te(lt,Le)}for(Le=re+1,_e=2;15>=Le;++Le,_e<<=1){if(tt+=bt<<=1,0>(bt-=we[Le]))return 0;for(;0<we[Le];--we[Le]){if(ce=new R,(lt&qe)!=Me){for(We+=rt,Be=1<<(Me=Le)-re;15>Me&&!(0>=(Be-=we[Me]));)++Me,Be<<=1;Te+=rt=1<<(Be=Me-re),J[ne+(Me=lt&qe)].g=Be+re,J[ne+Me].value=We-ne-Me}ce.g=Le-re,ce.value=Ce[Ne++],le(J,We+(lt>>re),_e,rt,ce),lt=te(lt,Le)}}return tt!=2*xe[15]-1?0:Te})(h,g,j,I,z,K)}function R(){this.value=this.g=0}function ee(){this.value=this.g=0}function G(){this.G=c(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Un,ee)}function ue(h,g,j,I){e(h!=null),e(g!=null),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=j,h.Jd=g,h.Yc=j+I,h.Zc=4<=I?j+I-4+1:j,ve(h)}function $(h,g){for(var j=0;0<g--;)j|=ke(h,128)<<g;return j}function X(h,g){var j=$(h,g);return ge(h)?-j:j}function O(h,g,j,I){var z,K=0;for(e(h!=null),e(g!=null),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),z=0;z<I;++z)K+=g[j+z]<<8*z;h.Ra=K,h.bb=I,h.oa=g,h.pa=j}function W(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Zo-8>>>0,++h.bb,h.u-=8;Q(h)&&(h.h=1,h.u=0)}function V(h,g){if(e(0<=g),!h.h&&g<=Xo){var j=M(h)&Qo[g];return h.u+=g,W(h),j}return h.h=1,h.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(h){return h.Ra>>>(h.u&Zo-1)>>>0}function Q(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Zo}function ie(h,g){h.u=g,h.h=Q(h)}function oe(h){h.u>=el&&(e(h.u>=el),W(h))}function ve(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ge(h){return $(h,1)}function ke(h,g){var j=h.Ca;0>h.b&&ve(h);var I=h.b,z=j*g>>>8,K=(h.I>>>I>z)+0;for(K?(j-=z,h.I-=z+1<<I>>>0):j=z+1,I=j,z=0;256<=I;)z+=8,I>>=8;return I=7^z+Fr[I],h.b-=I,h.Ca=(j<<I)-1,K}function $e(h,g,j){h[g+0]=j>>24&255,h[g+1]=j>>16&255,h[g+2]=j>>8&255,h[g+3]=j>>0&255}function He(h,g){return h[g+0]<<0|h[g+1]<<8}function Ue(h,g){return He(h,g)|h[g+2]<<16}function me(h,g){return He(h,g)|He(h,g+2)<<16}function pe(h,g){var j=1<<g;return e(h!=null),e(0<g),h.X=o(j),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function he(h,g){e(h!=null),e(g!=null),e(h.Xa==g.Xa),s(g.X,0,h.X,0,1<<g.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function De(h,g,j,I){e(j!=null),e(I!=null);var z=j[0],K=I[0];return z==0&&(z=(h*K+g/2)/g),K==0&&(K=(g*z+h/2)/h),0>=z||0>=K?0:(j[0]=z,I[0]=K,1)}function Xe(h,g){return h+(1<<g)-1>>>g}function Ie(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ye(h,g){B[g]=function(j,I,z,K,J,ne,re){var ce;for(ce=0;ce<J;++ce){var _e=B[h](ne[re+ce-1],z,K+ce);ne[re+ce]=Ie(j[I+ce],_e)}}}function st(){this.ud=this.hd=this.jd=0}function it(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function gt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ot(h,g){return gt(h+(h-g+.5>>1))}function Mt(h,g,j){return Math.abs(g-j)-Math.abs(h-j)}function zt(h,g,j,I,z,K,J){for(I=K[J-1],j=0;j<z;++j)K[J+j]=I=Ie(h[g+j],I)}function Gt(h,g,j,I,z){var K;for(K=0;K<j;++K){var J=h[g+K],ne=J>>8&255,re=16711935&(re=(re=16711935&J)+((ne<<16)+ne));I[z+K]=(4278255360&J)+re>>>0}}function en(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function Ct(h,g,j,I,z,K){var J;for(J=0;J<I;++J){var ne=g[j+J],re=ne>>>8,ce=ne,_e=255&(_e=(_e=ne>>>16)+((h.jd<<24>>24)*(re<<24>>24)>>>5));ce=255&(ce=(ce=ce+((h.hd<<24>>24)*(re<<24>>24)>>>5))+((h.ud<<24>>24)*(_e<<24>>24)>>>5)),z[K+J]=(4278255360&ne)+(_e<<16)+ce}}function $t(h,g,j,I,z){B[g]=function(K,J,ne,re,ce,_e,Ce,Le,Ne){for(re=Ce;re<Le;++re)for(Ce=0;Ce<Ne;++Ce)ce[_e++]=z(ne[I(K[J++])])},B[h]=function(K,J,ne,re,ce,_e,Ce){var Le=8>>K.b,Ne=K.Ea,We=K.K[0],Te=K.w;if(8>Le)for(K=(1<<K.b)-1,Te=(1<<Le)-1;J<ne;++J){var we,xe=0;for(we=0;we<Ne;++we)we&K||(xe=I(re[ce++])),_e[Ce++]=z(We[xe&Te]),xe>>=Le}else B["VP8LMapColor"+j](re,ce,We,Te,_e,Ce,J,ne,Ne)}}function at(h,g,j,I,z){for(j=g+j;g<j;){var K=h[g++];I[z++]=K>>16&255,I[z++]=K>>8&255,I[z++]=K>>0&255}}function Sr(h,g,j,I,z){for(j=g+j;g<j;){var K=h[g++];I[z++]=K>>16&255,I[z++]=K>>8&255,I[z++]=K>>0&255,I[z++]=K>>24&255}}function Jt(h,g,j,I,z){for(j=g+j;g<j;){var K=(J=h[g++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;I[z++]=K,I[z++]=J}}function Ls(h,g,j,I,z){for(j=g+j;g<j;){var K=(J=h[g++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;I[z++]=K,I[z++]=J}}function _n(h,g,j,I,z){for(j=g+j;g<j;){var K=h[g++];I[z++]=K>>0&255,I[z++]=K>>8&255,I[z++]=K>>16&255}}function Nn(h,g,j,I,z,K){if(K==0)for(j=g+j;g<j;)$e(I,((K=h[g++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),z+=32;else s(I,z,h,g,j)}function As(h,g){B[g][0]=B[h+"0"],B[g][1]=B[h+"1"],B[g][2]=B[h+"2"],B[g][3]=B[h+"3"],B[g][4]=B[h+"4"],B[g][5]=B[h+"5"],B[g][6]=B[h+"6"],B[g][7]=B[h+"7"],B[g][8]=B[h+"8"],B[g][9]=B[h+"9"],B[g][10]=B[h+"10"],B[g][11]=B[h+"11"],B[g][12]=B[h+"12"],B[g][13]=B[h+"13"],B[g][14]=B[h+"0"],B[g][15]=B[h+"0"]}function Qt(h){return h==al||h==mo||h==tc||h==nc}function Ti(){this.eb=[],this.size=this.A=this.fb=0}function An(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ti,this.f.kb=new An,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function tn(h,g){var j=h.T,I=g.ba.f.RGBA,z=I.eb,K=I.fb+h.ka*I.A,J=ns[g.ba.S],ne=h.y,re=h.O,ce=h.f,_e=h.N,Ce=h.ea,Le=h.W,Ne=g.cc,We=g.dc,Te=g.Mc,we=g.Nc,xe=h.ka,Be=h.ka+h.T,Me=h.U,qe=Me+1>>1;for(xe==0?J(ne,re,null,null,ce,_e,Ce,Le,ce,_e,Ce,Le,z,K,null,null,Me):(J(g.ec,g.fc,ne,re,Ne,We,Te,we,ce,_e,Ce,Le,z,K-I.A,z,K,Me),++j);xe+2<Be;xe+=2)Ne=ce,We=_e,Te=Ce,we=Le,_e+=h.Rc,Le+=h.Rc,K+=2*I.A,J(ne,(re+=2*h.fa)-h.fa,ne,re,Ne,We,Te,we,ce,_e,Ce,Le,z,K-I.A,z,K,Me);return re+=h.fa,h.j+Be<h.o?(s(g.ec,g.fc,ne,re,Me),s(g.cc,g.dc,ce,_e,qe),s(g.Mc,g.Nc,Ce,Le,qe),j--):1&Be||J(ne,re,null,null,ce,_e,Ce,Le,ce,_e,Ce,Le,z,K+I.A,null,null,Me),j}function ha(h,g,j){var I=h.F,z=[h.J];if(I!=null){var K=h.U,J=g.ba.S,ne=J==ec||J==tc;g=g.ba.f.RGBA;var re=[0],ce=h.ka;re[0]=h.T,h.Kb&&(ce==0?--re[0]:(--ce,z[0]-=h.width),h.j+h.ka+h.T==h.o&&(re[0]=h.o-h.j-ce));var _e=g.eb;ce=g.fb+ce*g.A,h=pn(I,z[0],h.width,K,re,_e,ce+(ne?0:3),g.A),e(j==re),h&&Qt(J)&&es(_e,ce,ne,K,re,g.A)}return 0}function pr(h){var g=h.ma,j=g.ba.S,I=11>j,z=j==Aa||j==Zl||j==ec||j==wn||j==12||Qt(j);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Yo(g.Oa,h,z?11:12))return 0;if(z&&Qt(j)&&Ve(),h.da)alert("todo:use_scaling");else{if(I){if(g.Ib=It,h.Kb){if(j=h.U+1>>1,g.memory=o(h.U+2*j),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+j,g.Ib=tn,Ve()}}else alert("todo:EmitYUV");z&&(g.Jb=ha,I&&Se())}if(I&&!br){for(h=0;256>h;++h)rs[h]=89858*(h-128)+ni>>Hi,ss[h]=-22014*(h-128)+ni,ul[h]=-45773*(h-128),_o[h]=113618*(h-128)+ni>>Hi;for(h=mn;h<vn;++h)g=76283*(h-16)+ni>>Hi,Kc[h-mn]=vs(g,255),Rd[h-mn]=vs(g+8>>4,15);br=1}return 1}function Ps(h){var g=h.ma,j=h.U,I=h.T;return e(!(1&h.ka)),0>=j||0>=I?0:(j=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,j),g.Dc+=j,1)}function Gs(h){h.ma.memory=null}function _t(h,g,j,I){return V(h,8)!=47?0:(g[0]=V(h,14)+1,j[0]=V(h,14)+1,I[0]=V(h,1),V(h,3)!=0?0:!h.h)}function fs(h,g){if(4>h)return h+1;var j=h-2>>1;return(2+(1&h)<<j)+V(g,j)+1}function Yr(h,g){return 120<g?g-120:1<=(j=((j=tf[g-1])>>4)*h+(8-(15&j)))?j:1;var j}function Jr(h,g,j){var I=M(j),z=h[g+=255&I].g-8;return 0<z&&(ie(j,j.u+8),I=M(j),g+=h[g].value,g+=I&(1<<z)-1),ie(j,j.u+h[g].g),h[g].value}function On(h,g,j){return j.g+=h.g,j.value+=h.value<<g>>>0,e(8>=j.g),h.g}function In(h,g,j){var I=h.xc;return e((g=I==0?0:h.vc[h.md*(j>>I)+(g>>I)])<h.Wb),h.Ya[g]}function Lr(h,g,j,I){var z=h.ab,K=h.c*g,J=h.C;g=J+g;var ne=j,re=I;for(I=h.Ta,j=h.Ua;0<z--;){var ce=h.gc[z],_e=J,Ce=g,Le=ne,Ne=re,We=(re=I,ne=j,ce.Ea);switch(e(_e<Ce),e(Ce<=ce.nc),ce.hc){case 2:Uc(Le,Ne,(Ce-_e)*We,re,ne);break;case 0:var Te=_e,we=Ce,xe=re,Be=ne,Me=(rt=ce).Ea;Te==0&&(lo(Le,Ne,null,null,1,xe,Be),zt(Le,Ne+1,0,0,Me-1,xe,Be+1),Ne+=Me,Be+=Me,++Te);for(var qe=1<<rt.b,lt=qe-1,tt=Xe(Me,rt.b),bt=rt.K,rt=rt.w+(Te>>rt.b)*tt;Te<we;){var Xt=bt,Zt=rt,Yt=1;for(Ri(Le,Ne,xe,Be-Me,1,xe,Be);Yt<Me;){var qt=(Yt&~lt)+qe;qt>Me&&(qt=Me),(0,bi[Xt[Zt++]>>8&15])(Le,Ne+ +Yt,xe,Be+Yt-Me,qt-Yt,xe,Be+Yt),Yt=qt}Ne+=Me,Be+=Me,++Te&lt||(rt+=tt)}Ce!=ce.nc&&s(re,ne-We,re,ne+(Ce-_e-1)*We,We);break;case 1:for(We=Le,we=Ne,Me=(Le=ce.Ea)-(Be=Le&~(xe=(Ne=1<<ce.b)-1)),Te=Xe(Le,ce.b),qe=ce.K,ce=ce.w+(_e>>ce.b)*Te;_e<Ce;){for(lt=qe,tt=ce,bt=new st,rt=we+Be,Xt=we+Le;we<rt;)en(lt[tt++],bt),Sa(bt,We,we,Ne,re,ne),we+=Ne,ne+=Ne;we<Xt&&(en(lt[tt++],bt),Sa(bt,We,we,Me,re,ne),we+=Me,ne+=Me),++_e&xe||(ce+=Te)}break;case 3:if(Le==re&&Ne==ne&&0<ce.b){for(we=re,Le=We=ne+(Ce-_e)*We-(Be=(Ce-_e)*Xe(ce.Ea,ce.b)),Ne=re,xe=ne,Te=[],Be=(Me=Be)-1;0<=Be;--Be)Te[Be]=Ne[xe+Be];for(Be=Me-1;0<=Be;--Be)we[Le+Be]=Te[Be];Mr(ce,_e,Ce,re,We,re,ne)}else Mr(ce,_e,Ce,Le,Ne,re,ne)}ne=I,re=j}re!=j&&s(I,j,ne,re,K)}function fa(h,g){var j=h.V,I=h.Ba+h.c*h.C,z=g-h.C;if(e(g<=h.l.o),e(16>=z),0<z){var K=h.l,J=h.Ta,ne=h.Ua,re=K.width;if(Lr(h,z,j,I),z=ne=[ne],e((j=h.C)<(I=g)),e(K.v<K.va),I>K.o&&(I=K.o),j<K.j){var ce=K.j-j;j=K.j,z[0]+=ce*re}if(j>=I?j=0:(z[0]+=4*K.v,K.ka=j-K.j,K.U=K.va-K.v,K.T=I-j,j=1),j){if(ne=ne[0],11>(j=h.ca).S){var _e=j.f.RGBA,Ce=(I=j.S,z=K.U,K=K.T,ce=_e.eb,_e.A),Le=K;for(_e=_e.fb+h.Ma*_e.A;0<Le--;){var Ne=J,We=ne,Te=z,we=ce,xe=_e;switch(I){case Hc:Br(Ne,We,Te,we,xe);break;case Aa:Pr(Ne,We,Te,we,xe);break;case al:Pr(Ne,We,Te,we,xe),es(we,xe,0,Te,1,0);break;case Ed:Mi(Ne,We,Te,we,xe);break;case Zl:Nn(Ne,We,Te,we,xe,1);break;case mo:Nn(Ne,We,Te,we,xe,1),es(we,xe,0,Te,1,0);break;case ec:Nn(Ne,We,Te,we,xe,0);break;case tc:Nn(Ne,We,Te,we,xe,0),es(we,xe,1,Te,1,0);break;case wn:Ca(Ne,We,Te,we,xe);break;case nc:Ca(Ne,We,Te,we,xe),bn(we,xe,Te,1,0);break;case Wc:Fi(Ne,We,Te,we,xe);break;default:e(0)}ne+=re,_e+=Ce}h.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=j.height)}}h.C=g,e(h.C<=h.i)}function Oi(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var j=h.Ya[g].G,I=h.Ya[g].H;if(0<j[1][I[1]+0].g||0<j[2][I[2]+0].g||0<j[3][I[3]+0].g)return 0}return 1}function Ks(h,g,j,I,z,K){if(h.Z!=0){var J=h.qd,ne=h.rd;for(e(Tr[h.Z]!=null);g<j;++g)Tr[h.Z](J,ne,I,z,I,z,K),J=I,ne=z,z+=K;h.qd=J,h.rd=ne}}function Ys(h,g){var j=h.l.ma,I=j.Z==0||j.Z==1?h.l.j:h.C;if(I=h.C<I?I:h.C,e(g<=h.l.o),g>I){var z=h.l.width,K=j.ca,J=j.tb+z*I,ne=h.V,re=h.Ba+h.c*I,ce=h.gc;e(h.ab==1),e(ce[0].hc==3),Jl(ce[0],I,g,ne,re,K,J),Ks(j,I,g,K,J,z)}h.C=h.Ma=g}function yr(h,g,j,I,z,K,J){var ne=h.$/I,re=h.$%I,ce=h.m,_e=h.s,Ce=j+h.$,Le=Ce;z=j+I*z;var Ne=j+I*K,We=280+_e.ua,Te=h.Pb?ne:16777216,we=0<_e.ua?_e.Wa:null,xe=_e.wc,Be=Ce<Ne?In(_e,re,ne):null;e(h.C<K),e(Ne<=z);var Me=!1;e:for(;;){for(;Me||Ce<Ne;){var qe=0;if(ne>=Te){var lt=Ce-j;e((Te=h).Pb),Te.wd=Te.m,Te.xd=lt,0<Te.s.ua&&he(Te.s.Wa,Te.s.vb),Te=ne+Gc}if(re&xe||(Be=In(_e,re,ne)),e(Be!=null),Be.Qb&&(g[Ce]=Be.qb,Me=!0),!Me)if(oe(ce),Be.jc){qe=ce,lt=g;var tt=Ce,bt=Be.pd[M(qe)&Un-1];e(Be.jc),256>bt.g?(ie(qe,qe.u+bt.g),lt[tt]=bt.value,qe=0):(ie(qe,qe.u+bt.g-256),e(256<=bt.value),qe=bt.value),qe==0&&(Me=!0)}else qe=Jr(Be.G[0],Be.H[0],ce);if(ce.h)break;if(Me||256>qe){if(!Me)if(Be.nd)g[Ce]=(Be.qb|qe<<8)>>>0;else{if(oe(ce),Me=Jr(Be.G[1],Be.H[1],ce),oe(ce),lt=Jr(Be.G[2],Be.H[2],ce),tt=Jr(Be.G[3],Be.H[3],ce),ce.h)break;g[Ce]=(tt<<24|Me<<16|qe<<8|lt)>>>0}if(Me=!1,++Ce,++re>=I&&(re=0,++ne,J!=null&&ne<=K&&!(ne%16)&&J(h,ne),we!=null))for(;Le<Ce;)qe=g[Le++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else if(280>qe){if(qe=fs(qe-256,ce),lt=Jr(Be.G[4],Be.H[4],ce),oe(ce),lt=Yr(I,lt=fs(lt,ce)),ce.h)break;if(Ce-j<lt||z-Ce<qe)break e;for(tt=0;tt<qe;++tt)g[Ce+tt]=g[Ce+tt-lt];for(Ce+=qe,re+=qe;re>=I;)re-=I,++ne,J!=null&&ne<=K&&!(ne%16)&&J(h,ne);if(e(Ce<=z),re&xe&&(Be=In(_e,re,ne)),we!=null)for(;Le<Ce;)qe=g[Le++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else{if(!(qe<We))break e;for(Me=qe-280,e(we!=null);Le<Ce;)qe=g[Le++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe;qe=Ce,e(!(Me>>>(lt=we).Xa)),g[qe]=lt.X[Me],Me=!0}Me||e(ce.h==Q(ce))}if(h.Pb&&ce.h&&Ce<z)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&he(h.s.vb,h.s.Wa);else{if(ce.h)break e;J!=null&&J(h,ne>K?K:ne),h.a=0,h.$=Ce-j}return 1}return h.a=3,0}function Js(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,e(h!=null)}function ps(){var h=new Ru;return h==null?null:(h.a=0,h.xb=ll,As("Predictor","VP8LPredictors"),As("Predictor","VP8LPredictors_C"),As("PredictorAdd","VP8LPredictorsAdd"),As("PredictorAdd","VP8LPredictorsAdd_C"),Uc=Gt,Sa=Ct,Br=at,Pr=Sr,Ca=Jt,Fi=Ls,Mi=_n,B.VP8LMapColor32b=tl,B.VP8LMapColor8b=nl,h)}function pi(h,g,j,I,z){var K=1,J=[h],ne=[g],re=I.m,ce=I.s,_e=null,Ce=0;e:for(;;){if(j)for(;K&&V(re,1);){var Le=J,Ne=ne,We=I,Te=1,we=We.m,xe=We.gc[We.ab],Be=V(we,2);if(We.Oc&1<<Be)K=0;else{switch(We.Oc|=1<<Be,xe.hc=Be,xe.Ea=Le[0],xe.nc=Ne[0],xe.K=[null],++We.ab,e(4>=We.ab),Be){case 0:case 1:xe.b=V(we,3)+2,Te=pi(Xe(xe.Ea,xe.b),Xe(xe.nc,xe.b),0,We,xe.K),xe.K=xe.K[0];break;case 3:var Me,qe=V(we,8)+1,lt=16<qe?0:4<qe?1:2<qe?2:3;if(Le[0]=Xe(xe.Ea,lt),xe.b=lt,Me=Te=pi(qe,1,0,We,xe.K)){var tt,bt=qe,rt=xe,Xt=1<<(8>>rt.b),Zt=o(Xt);if(Zt==null)Me=0;else{var Yt=rt.K[0],qt=rt.w;for(Zt[0]=rt.K[0][0],tt=1;tt<1*bt;++tt)Zt[tt]=Ie(Yt[qt+tt],Zt[tt-1]);for(;tt<4*Xt;++tt)Zt[tt]=0;rt.K[0]=null,rt.K[0]=Zt,Me=1}}Te=Me;break;case 2:break;default:e(0)}K=Te}}if(J=J[0],ne=ne[0],K&&V(re,1)&&!(K=1<=(Ce=V(re,4))&&11>=Ce)){I.a=3;break e}var gn;if(gn=K)t:{var yn,Tt,Mn,zr=I,Gn=J,sr=ne,ln=Ce,Or=j,Ir=zr.m,Bn=zr.s,ir=[null],wr=1,is=0,Fs=Od[ln];n:for(;;){if(Or&&V(Ir,1)){var $n=V(Ir,3)+2,Xn=Xe(Gn,$n),bs=Xe(sr,$n),Ta=Xn*bs;if(!pi(Xn,bs,0,zr,ir))break n;for(ir=ir[0],Bn.xc=$n,yn=0;yn<Ta;++yn){var Vi=ir[yn]>>8&65535;ir[yn]=Vi,Vi>=wr&&(wr=Vi+1)}}if(Ir.h)break n;for(Tt=0;5>Tt;++Tt){var cn=go[Tt];!Tt&&0<ln&&(cn+=1<<ln),is<cn&&(is=cn)}var Ni=c(wr*Fs,R),Yc=wr,zu=c(Yc,G);if(zu==null)var Ms=null;else e(65536>=Yc),Ms=zu;var Bs=o(is);if(Ms==null||Bs==null||Ni==null){zr.a=1;break n}var wo=Ni;for(yn=Mn=0;yn<wr;++yn){var $s=Ms[yn],Gi=$s.G,xo=$s.H,dl=0,ws=1,hl=0;for(Tt=0;5>Tt;++Tt){cn=go[Tt],Gi[Tt]=wo,xo[Tt]=Mn,!Tt&&0<ln&&(cn+=1<<ln);s:{var Oa,Ki=cn,fl=zr,Si=Bs,Md=wo,Uu=Mn,Sn=0,ri=fl.m,Hu=V(ri,1);if(l(Si,0,0,Ki),Hu){var Wu=V(ri,1)+1,Jc=V(ri,1),Qc=V(ri,Jc==0?1:8);Si[Qc]=1,Wu==2&&(Si[Qc=V(ri,8)]=1);var Ci=1}else{var Pn=o(19),Zn=V(ri,4)+4;if(19<Zn){fl.a=3;var Kn=0;break s}for(Oa=0;Oa<Zn;++Oa)Pn[ef[Oa]]=V(ri,3);var pl=void 0,Yi=void 0,ml=fl,of=Pn,ar=Ki,Xc=Si,oc=0,Li=ml.m,si=8,xs=c(128,R);r:for(;F(xs,0,7,of,19);){if(V(Li,1)){var lc=2+2*V(Li,3);if((pl=2+V(Li,lc))>ar)break r}else pl=ar;for(Yi=0;Yi<ar&&pl--;){oe(Li);var Zc=xs[0+(127&M(Li))];ie(Li,Li.u+Zc.g);var Ia=Zc.value;if(16>Ia)Xc[Yi++]=Ia,Ia!=0&&(si=Ia);else{var Bd=Ia==16,Vu=Ia-16,$d=Vc[Vu],Gu=V(Li,rc[Vu])+$d;if(Yi+Gu>ar)break r;for(var qd=Bd?si:0;0<Gu--;)Xc[Yi++]=qd}}oc=1;break r}oc||(ml.a=3),Ci=oc}(Ci=Ci&&!ri.h)&&(Sn=F(Md,Uu,8,Si,Ki)),Ci&&Sn!=0?Kn=Sn:(fl.a=3,Kn=0)}if(Kn==0)break n;if(ws&&Td[Tt]==1&&(ws=wo[Mn].g==0),dl+=wo[Mn].g,Mn+=Kn,3>=Tt){var gl,eu=Bs[0];for(gl=1;gl<cn;++gl)Bs[gl]>eu&&(eu=Bs[gl]);hl+=eu}}if($s.nd=ws,$s.Qb=0,ws&&($s.qb=(Gi[3][xo[3]+0].value<<24|Gi[1][xo[1]+0].value<<16|Gi[2][xo[2]+0].value)>>>0,dl==0&&256>Gi[0][xo[0]+0].value&&($s.Qb=1,$s.qb+=Gi[0][xo[0]+0].value<<8)),$s.jc=!$s.Qb&&6>hl,$s.jc){var cc,js=$s;for(cc=0;cc<Un;++cc){var Ji=cc,ii=js.pd[Ji],jo=js.G[0][js.H[0]+Ji];256<=jo.value?(ii.g=jo.g+256,ii.value=jo.value):(ii.g=0,ii.value=0,Ji>>=On(jo,8,ii),Ji>>=On(js.G[1][js.H[1]+Ji],16,ii),Ji>>=On(js.G[2][js.H[2]+Ji],0,ii),On(js.G[3][js.H[3]+Ji],24,ii))}}}Bn.vc=ir,Bn.Wb=wr,Bn.Ya=Ms,Bn.yc=Ni,gn=1;break t}gn=0}if(!(K=gn)){I.a=3;break e}if(0<Ce){if(ce.ua=1<<Ce,!pe(ce.Wa,Ce)){I.a=1,K=0;break e}}else ce.ua=0;var tu=I,nu=J,zd=ne,ru=tu.s,su=ru.xc;if(tu.c=nu,tu.i=zd,ru.md=Xe(nu,su),ru.wc=su==0?-1:(1<<su)-1,j){I.xb=ki;break e}if((_e=o(J*ne))==null){I.a=1,K=0;break e}K=(K=yr(I,_e,0,J,ne,ne,null))&&!re.h;break e}return K?(z!=null?z[0]=_e:(e(_e==null),e(j)),I.$=0,j||Js(ce)):Js(ce),K}function pa(h,g){var j=h.c*h.i,I=j+g+16*g;return e(h.c<=g),h.V=o(I),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+j+g,1)}function Va(h,g){var j=h.C,I=g-j,z=h.V,K=h.Ba+h.c*j;for(e(g<=h.l.o);0<I;){var J=16<I?16:I,ne=h.l.ma,re=h.l.width,ce=re*J,_e=ne.ca,Ce=ne.tb+re*j,Le=h.Ta,Ne=h.Ua;Lr(h,J,z,K),Hn(Le,Ne,_e,Ce,ce),Ks(ne,j,j+J,_e,Ce,re),I-=J,z+=J*h.c,j+=J}e(j==g),h.C=h.Ma=g}function Ga(){this.ub=this.yd=this.td=this.Rb=0}function Ka(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ic(){this.Yb=(function(){var h=[];return(function g(j,I,z){for(var K=z[I],J=0;J<K&&(j.push(z.length>I+1?[]:0),!(z.length<I+1));J++)g(j[J],I+1,z)})(h,0,[3,11]),h})()}function Dn(){this.jb=o(3),this.Wc=f([4,8],Ic),this.Xc=f([4,17],Ic)}function Ou(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ma(){this.ld=this.La=this.dd=this.tc=0}function Ml(){this.Na=this.la=0}function Io(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ma),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new Do}function Ya(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Es(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Ga,this.Kc=new Ka,this.ed=new Ou,this.Qa=new Oo,this.Ic=this.$c=this.Aa=0,this.D=new Dc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,D),this.ia=0,this.pb=c(4,Io),this.Pa=new Dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ya),this.Hd=0,this.rb=Array(new Ml),this.sb=0,this.wa=Array(new ma),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=f([4,2],ma),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Do(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ms(){var h=new Es;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,vo||(vo=Ja)),h}function Vn(h,g,j){return h.a==0&&(h.a=g,h.sc=j,h.cb=0),0}function Rc(h,g,j){return 3<=j&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function Fc(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Vn(h,2,"null VP8Io passed to VP8GetHeaders()");var j=g.data,I=g.w,z=g.ha;if(4>z)return Vn(h,7,"Truncated header.");var K=j[I+0]|j[I+1]<<8|j[I+2]<<16,J=h.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return Vn(h,3,"Incorrect keyframe parameters.");if(!J.yd)return Vn(h,4,"Frame not displayable.");I+=3,z-=3;var ne=h.Kc;if(J.Rb){if(7>z)return Vn(h,7,"cannot parse picture header");if(!Rc(j,I,z))return Vn(h,3,"Bad code word");ne.c=16383&(j[I+4]<<8|j[I+3]),ne.Td=j[I+4]>>6,ne.i=16383&(j[I+6]<<8|j[I+5]),ne.Ud=j[I+6]>>6,I+=7,z-=7,h.za=ne.c+15>>4,h.Ub=ne.i+15>>4,g.width=ne.c,g.height=ne.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,l((K=h.Pa).jb,0,255,K.jb.length),e((K=h.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,l(K.Zb,0,0,K.Zb.length),l(K.Lb,0,0,K.Lb)}if(J.ub>z)return Vn(h,7,"bad partition length");ue(K=h.m,j,I,J.ub),I+=J.ub,z-=J.ub,J.Rb&&(ne.Ld=ge(K),ne.Kd=ge(K)),ne=h.Qa;var re,ce=h.Pa;if(e(K!=null),e(ne!=null),ne.Cb=ge(K),ne.Cb){if(ne.Bb=ge(K),ge(K)){for(ne.Fb=ge(K),re=0;4>re;++re)ne.Zb[re]=ge(K)?X(K,7):0;for(re=0;4>re;++re)ne.Lb[re]=ge(K)?X(K,6):0}if(ne.Bb)for(re=0;3>re;++re)ce.jb[re]=ge(K)?$(K,8):255}else ne.Bb=0;if(K.Ka)return Vn(h,3,"cannot parse segment header");if((ne=h.ed).zd=ge(K),ne.Tb=$(K,6),ne.wb=$(K,3),ne.Pc=ge(K),ne.Pc&&ge(K)){for(ce=0;4>ce;++ce)ge(K)&&(ne.vd[ce]=X(K,6));for(ce=0;4>ce;++ce)ge(K)&&(ne.od[ce]=X(K,6))}if(h.L=ne.Tb==0?0:ne.zd?1:2,K.Ka)return Vn(h,3,"cannot parse filter header");var _e=z;if(z=re=I,I=re+_e,ne=_e,h.Xb=(1<<$(h.m,2))-1,_e<3*(ce=h.Xb))j=7;else{for(re+=3*ce,ne-=3*ce,_e=0;_e<ce;++_e){var Ce=j[z+0]|j[z+1]<<8|j[z+2]<<16;Ce>ne&&(Ce=ne),ue(h.Jc[+_e],j,re,Ce),re+=Ce,ne-=Ce,z+=3}ue(h.Jc[+ce],j,re,ne),j=re<I?0:5}if(j!=0)return Vn(h,j,"cannot parse partitions");for(j=$(re=h.m,7),z=ge(re)?X(re,4):0,I=ge(re)?X(re,4):0,ne=ge(re)?X(re,4):0,ce=ge(re)?X(re,4):0,re=ge(re)?X(re,4):0,_e=h.Qa,Ce=0;4>Ce;++Ce){if(_e.Cb){var Le=_e.Zb[Ce];_e.Fb||(Le+=j)}else{if(0<Ce){h.pb[Ce]=h.pb[0];continue}Le=j}var Ne=h.pb[Ce];Ne.Sc[0]=ol[vs(Le+z,127)],Ne.Sc[1]=sc[vs(Le+0,127)],Ne.Eb[0]=2*ol[vs(Le+I,127)],Ne.Eb[1]=101581*sc[vs(Le+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=ol[vs(Le+ce,117)],Ne.Qc[1]=sc[vs(Le+re,127)],Ne.lc=Le+re}if(!J.Rb)return Vn(h,4,"Not a key frame.");for(ge(K),J=h.Pa,j=0;4>j;++j){for(z=0;8>z;++z)for(I=0;3>I;++I)for(ne=0;11>ne;++ne)ce=ke(K,rf[j][z][I][ne])?$(K,8):Dd[j][z][I][ne],J.Wc[j][z].Yb[I][ne]=ce;for(z=0;17>z;++z)J.Xc[j][z]=J.Wc[j][Bu[z]]}return h.kc=ge(K),h.kc&&(h.Bd=$(K,8)),h.cb=1}function Ja(h,g,j,I,z,K,J){var ne=g[z].Yb[j];for(j=0;16>z;++z){if(!ke(h,ne[j+0]))return z;for(;!ke(h,ne[j+1]);)if(ne=g[++z].Yb[0],j=0,z==16)return 16;var re=g[z+1].Yb;if(ke(h,ne[j+2])){var ce=h,_e=0;if(ke(ce,(Le=ne)[(Ce=j)+3]))if(ke(ce,Le[Ce+6])){for(ne=0,Ce=2*(_e=ke(ce,Le[Ce+8]))+(Le=ke(ce,Le[Ce+9+_e])),_e=0,Le=Fu[Ce];Le[ne];++ne)_e+=_e+ke(ce,Le[ne]);_e+=3+(8<<Ce)}else ke(ce,Le[Ce+7])?(_e=7+2*ke(ce,165),_e+=ke(ce,145)):_e=5+ke(ce,159);else _e=ke(ce,Le[Ce+4])?3+ke(ce,Le[Ce+5]):2;ne=re[2]}else _e=1,ne=re[1];re=J+Mu[z],0>(ce=h).b&&ve(ce);var Ce,Le=ce.b,Ne=(Ce=ce.Ca>>1)-(ce.I>>Le)>>31;--ce.b,ce.Ca+=Ne,ce.Ca|=1,ce.I-=(Ce+1&Ne)<<Le,K[re]=((_e^Ne)-Ne)*I[(0<z)+0]}return 16}function ga(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,l(h.zc,0,0,h.zc.length),h.ja=0}function Qa(h,g){if(h==null)return 0;if(g==null)return Vn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Fc(h,g))return 0;if(e(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var j=bo[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-j>>4,h.zb=g.j-j>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+j>>4,h.Hb=g.va+15+j>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var I=h.ed;for(j=0;4>j;++j){var z;if(h.Qa.Cb){var K=h.Qa.Lb[j];h.Qa.Fb||(K+=I.Tb)}else K=I.Tb;for(z=0;1>=z;++z){var J=h.gd[j][z],ne=K;if(I.Pc&&(ne+=I.vd[0],z&&(ne+=I.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var re=ne;0<I.wb&&(re=4<I.wb?re>>2:re>>1)>9-I.wb&&(re=9-I.wb),1>re&&(re=1),J.dd=re,J.tc=2*ne+re,J.ld=40<=ne?2:15<=ne?1:0}else J.tc=0;J.La=z}}}j=0}else Vn(h,6,"Frame setup failed"),j=h.a;if(j=j==0){if(j){h.$c=0,0<h.Aa||(h.Ic=Wi);e:{j=h.Ic,I=4*(re=h.za);var ce=32*re,_e=re+1,Ce=0<h.L?re*(0<h.Aa?2:1):0,Le=(h.Aa==2?2:1)*re;if((J=I+832+(z=3*(16*j+bo[h.L])/2*ce)+(K=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=J)j=0;else{if(J>h.Vb){if(h.Vb=0,h.Ec=o(J),h.Fc=0,h.Ec==null){j=Vn(h,1,"no memory during frame initialization.");break e}h.Vb=J}J=h.Ec,ne=h.Fc,h.Ac=J,h.Bc=ne,ne+=I,h.Gd=c(ce,Ya),h.Hd=0,h.rb=c(_e+1,Ml),h.sb=1,h.wa=Ce?c(Ce,ma):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=re),e(!0),h.oc=J,h.pc=ne,ne+=832,h.ya=c(Le,Bl),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=re),h.R=16*re,h.B=8*re,re=(ce=bo[h.L])*h.R,ce=ce/2*h.B,h.sa=J,h.ta=ne+re,h.qa=h.sa,h.ra=h.ta+16*j*h.R+ce,h.Ha=h.qa,h.Ia=h.ra+8*j*h.B+ce,h.$c=0,ne+=z,h.mb=K?J:null,h.nb=K?ne:null,e(ne+K<=h.Fc+h.Vb),ga(h),l(h.Ac,h.Bc,0,I),j=1}}if(j){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Xl){for(j=-255;255>=j;++j)Qn[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)xi[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)sl[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)po[255+j]=0>j?0:255<j?255:j;Xl=1}rl=nn,Bi=ql,$i=va,Er=Iu,ys=Fo,rn=$l,co=Ho,Ql=rr,uo=so,ho=Vl,fo=wa,_s=xa,qi=io,wi=Wo,zi=Zs,Ui=Ts,La=Os,_r=qc,Rs[0]=yi,Rs[1]=Mc,Rs[2]=to,Rs[3]=vi,Rs[4]=Ul,Rs[5]=Bo,Rs[6]=_a,Rs[7]=$o,Rs[8]=$c,Rs[9]=qo,qr[0]=eo,qr[1]=Bc,qr[2]=mi,qr[3]=Za,qr[4]=Rn,qr[5]=gi,qr[6]=Qs,ts[0]=gs,ts[1]=zl,ts[2]=Du,ts[3]=Ii,ts[4]=no,ts[5]=zo,ts[6]=Hl,j=1}else j=0}j&&(j=(function(Ne,We){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Te,we=Ne.Jc[Ne.M&Ne.Xb],xe=Ne.m,Be=Ne;for(Te=0;Te<Be.za;++Te){var Me=xe,qe=Be,lt=qe.Ac,tt=qe.Bc+4*Te,bt=qe.zc,rt=qe.ya[qe.aa+Te];if(qe.Qa.Bb?rt.$b=ke(Me,qe.Pa.jb[0])?2+ke(Me,qe.Pa.jb[2]):ke(Me,qe.Pa.jb[1]):rt.$b=0,qe.kc&&(rt.Ad=ke(Me,qe.Bd)),rt.Za=!ke(Me,145)+0,rt.Za){var Xt=rt.Ob,Zt=0;for(qe=0;4>qe;++qe){var Yt,qt=bt[0+qe];for(Yt=0;4>Yt;++Yt){qt=nf[lt[tt+Yt]][qt];for(var gn=Id[ke(Me,qt[0])];0<gn;)gn=Id[2*gn+ke(Me,qt[gn])];qt=-gn,lt[tt+Yt]=qt}s(Xt,Zt,lt,tt,4),Zt+=4,bt[0+qe]=qt}}else qt=ke(Me,156)?ke(Me,128)?1:3:ke(Me,163)?2:0,rt.Ob[0]=qt,l(lt,tt,qt,4),l(bt,0,qt,4);rt.Dd=ke(Me,142)?ke(Me,114)?ke(Me,183)?1:3:2:0}if(Be.m.Ka)return Vn(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(Be=we,Me=(xe=Ne).rb[xe.sb-1],lt=xe.rb[xe.sb+xe.ja],Te=xe.ya[xe.aa+xe.ja],tt=xe.kc?Te.Ad:0)Me.la=lt.la=0,Te.Za||(Me.Na=lt.Na=0),Te.Hc=0,Te.Gc=0,Te.ia=0;else{var yn,Tt;if(Me=lt,lt=Be,tt=xe.Pa.Xc,bt=xe.ya[xe.aa+xe.ja],rt=xe.pb[bt.$b],qe=bt.ad,Xt=0,Zt=xe.rb[xe.sb-1],qt=Yt=0,l(qe,Xt,0,384),bt.Za)var Mn=0,zr=tt[3];else{gn=o(16);var Gn=Me.Na+Zt.Na;if(Gn=vo(lt,tt[1],Gn,rt.Eb,0,gn,0),Me.Na=Zt.Na=(0<Gn)+0,1<Gn)rl(gn,0,qe,Xt);else{var sr=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)qe[Xt+gn]=sr}Mn=1,zr=tt[0]}var ln=15&Me.la,Or=15&Zt.la;for(gn=0;4>gn;++gn){var Ir=1&Or;for(sr=Tt=0;4>sr;++sr)ln=ln>>1|(Ir=(Gn=vo(lt,zr,Gn=Ir+(1&ln),rt.Sc,Mn,qe,Xt))>Mn)<<7,Tt=Tt<<2|(3<Gn?3:1<Gn?2:qe[Xt+0]!=0),Xt+=16;ln>>=4,Or=Or>>1|Ir<<7,Yt=(Yt<<8|Tt)>>>0}for(zr=ln,Mn=Or>>4,yn=0;4>yn;yn+=2){for(Tt=0,ln=Me.la>>4+yn,Or=Zt.la>>4+yn,gn=0;2>gn;++gn){for(Ir=1&Or,sr=0;2>sr;++sr)Gn=Ir+(1&ln),ln=ln>>1|(Ir=0<(Gn=vo(lt,tt[2],Gn,rt.Qc,0,qe,Xt)))<<3,Tt=Tt<<2|(3<Gn?3:1<Gn?2:qe[Xt+0]!=0),Xt+=16;ln>>=2,Or=Or>>1|Ir<<5}qt|=Tt<<4*yn,zr|=ln<<4<<yn,Mn|=(240&Or)<<yn}Me.la=zr,Zt.la=Mn,bt.Hc=Yt,bt.Gc=qt,bt.ia=43690&qt?0:rt.ia,tt=!(Yt|qt)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Te.$b][Te.Za],xe.wa[xe.Y+xe.ja].La|=!tt),Be.Ka)return Vn(Ne,7,"Premature end-of-file encountered.")}if(ga(Ne),xe=We,Be=1,Te=(we=Ne).D,Me=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Te.M=we.M,Te.uc=Me,Ko(we,Te),Be=1,Te=(Tt=we.D).Nb,Me=(qt=bo[we.L])*we.R,lt=qt/2*we.B,gn=16*Te*we.R,sr=8*Te*we.B,tt=we.sa,bt=we.ta-Me+gn,rt=we.qa,qe=we.ra-lt+sr,Xt=we.Ha,Zt=we.Ia-lt+sr,Or=(ln=Tt.M)==0,Yt=ln>=we.Va-1,we.Aa==2&&Ko(we,Tt),Tt.uc)for(Ir=(Gn=we).D.M,e(Gn.D.uc),Tt=Gn.yb;Tt<Gn.Hb;++Tt){Mn=Tt,zr=Ir;var Bn=(ir=(cn=Gn).D).Nb;yn=cn.R;var ir=ir.wa[ir.Y+Mn],wr=cn.sa,is=cn.ta+16*Bn*yn+16*Mn,Fs=ir.dd,$n=ir.tc;if($n!=0)if(e(3<=$n),cn.L==1)0<Mn&&Ui(wr,is,yn,$n+4),ir.La&&_r(wr,is,yn,$n),0<zr&&zi(wr,is,yn,$n+4),ir.La&&La(wr,is,yn,$n);else{var Xn=cn.B,bs=cn.qa,Ta=cn.ra+8*Bn*Xn+8*Mn,Vi=cn.Ha,cn=cn.Ia+8*Bn*Xn+8*Mn;Bn=ir.ld,0<Mn&&(Ql(wr,is,yn,$n+4,Fs,Bn),ho(bs,Ta,Vi,cn,Xn,$n+4,Fs,Bn)),ir.La&&(_s(wr,is,yn,$n,Fs,Bn),wi(bs,Ta,Vi,cn,Xn,$n,Fs,Bn)),0<zr&&(co(wr,is,yn,$n+4,Fs,Bn),uo(bs,Ta,Vi,cn,Xn,$n+4,Fs,Bn)),ir.La&&(fo(wr,is,yn,$n,Fs,Bn),qi(bs,Ta,Vi,cn,Xn,$n,Fs,Bn))}}if(we.ia&&alert("todo:DitherRow"),xe.put!=null){if(Tt=16*ln,ln=16*(ln+1),Or?(xe.y=we.sa,xe.O=we.ta+gn,xe.f=we.qa,xe.N=we.ra+sr,xe.ea=we.Ha,xe.W=we.Ia+sr):(Tt-=qt,xe.y=tt,xe.O=bt,xe.f=rt,xe.N=qe,xe.ea=Xt,xe.W=Zt),Yt||(ln-=qt),ln>xe.o&&(ln=xe.o),xe.F=null,xe.J=null,we.Fa!=null&&0<we.Fa.length&&Tt<ln&&(xe.J=Kl(we,xe,Tt,ln-Tt),xe.F=we.mb,xe.F==null&&xe.F.length==0)){Be=Vn(we,3,"Could not decode alpha data.");break e}Tt<xe.j&&(qt=xe.j-Tt,Tt=xe.j,e(!(1&qt)),xe.O+=we.R*qt,xe.N+=we.B*(qt>>1),xe.W+=we.B*(qt>>1),xe.F!=null&&(xe.J+=xe.width*qt)),Tt<ln&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Tt-xe.j,xe.U=xe.va-xe.v,xe.T=ln-Tt,Be=xe.put(xe))}Te+1!=we.Ic||Yt||(s(we.sa,we.ta-Me,tt,bt+16*we.R,Me),s(we.qa,we.ra-lt,rt,qe+8*we.B,lt),s(we.Ha,we.Ia-lt,Xt,Zt+8*we.B,lt))}if(!Be)return Vn(Ne,6,"Output aborted.")}return 1})(h,g)),g.bc!=null&&g.bc(g),j&=1}return j?(h.cb=0,j):0}function Qr(h,g,j,I,z){z=h[g+j+32*I]+(z>>3),h[g+j+32*I]=-256&z?0>z?0:255:z}function Ro(h,g,j,I,z,K){Qr(h,g,0,j,I+z),Qr(h,g,1,j,I+K),Qr(h,g,2,j,I-K),Qr(h,g,3,j,I-z)}function Xr(h){return(20091*h>>16)+h}function Xa(h,g,j,I){var z,K=0,J=o(16);for(z=0;4>z;++z){var ne=h[g+0]+h[g+8],re=h[g+0]-h[g+8],ce=(35468*h[g+4]>>16)-Xr(h[g+12]),_e=Xr(h[g+4])+(35468*h[g+12]>>16);J[K+0]=ne+_e,J[K+1]=re+ce,J[K+2]=re-ce,J[K+3]=ne-_e,K+=4,g++}for(z=K=0;4>z;++z)ne=(h=J[K+0]+4)+J[K+8],re=h-J[K+8],ce=(35468*J[K+4]>>16)-Xr(J[K+12]),Qr(j,I,0,0,ne+(_e=Xr(J[K+4])+(35468*J[K+12]>>16))),Qr(j,I,1,0,re+ce),Qr(j,I,2,0,re-ce),Qr(j,I,3,0,ne-_e),K++,I+=32}function $l(h,g,j,I){var z=h[g+0]+4,K=35468*h[g+4]>>16,J=Xr(h[g+4]),ne=35468*h[g+1]>>16;Ro(j,I,0,z+J,h=Xr(h[g+1]),ne),Ro(j,I,1,z+K,h,ne),Ro(j,I,2,z-K,h,ne),Ro(j,I,3,z-J,h,ne)}function ql(h,g,j,I,z){Xa(h,g,j,I),z&&Xa(h,g+16,j,I+4)}function va(h,g,j,I){Bi(h,g+0,j,I,1),Bi(h,g+32,j,I+128,1)}function Iu(h,g,j,I){var z;for(h=h[g+0]+4,z=0;4>z;++z)for(g=0;4>g;++g)Qr(j,I,g,z,h)}function Fo(h,g,j,I){h[g+0]&&Er(h,g+0,j,I),h[g+16]&&Er(h,g+16,j,I+4),h[g+32]&&Er(h,g+32,j,I+128),h[g+48]&&Er(h,g+48,j,I+128+4)}function nn(h,g,j,I){var z,K=o(16);for(z=0;4>z;++z){var J=h[g+0+z]+h[g+12+z],ne=h[g+4+z]+h[g+8+z],re=h[g+4+z]-h[g+8+z],ce=h[g+0+z]-h[g+12+z];K[0+z]=J+ne,K[8+z]=J-ne,K[4+z]=ce+re,K[12+z]=ce-re}for(z=0;4>z;++z)J=(h=K[0+4*z]+3)+K[3+4*z],ne=K[1+4*z]+K[2+4*z],re=K[1+4*z]-K[2+4*z],ce=h-K[3+4*z],j[I+0]=J+ne>>3,j[I+16]=ce+re>>3,j[I+32]=J-ne>>3,j[I+48]=ce-re>>3,I+=64}function Mo(h,g,j){var I,z=g-32,K=$r,J=255-h[z-1];for(I=0;I<j;++I){var ne,re=K,ce=J+h[g-1];for(ne=0;ne<j;++ne)h[g+ne]=re[ce+h[z+ne]];g+=32}}function Mc(h,g){Mo(h,g,4)}function zl(h,g){Mo(h,g,8)}function Bc(h,g){Mo(h,g,16)}function mi(h,g){var j;for(j=0;16>j;++j)s(h,g+32*j,h,g-32,16)}function Za(h,g){var j;for(j=16;0<j;--j)l(h,g,h[g-1],16),g+=32}function ya(h,g,j){var I;for(I=0;16>I;++I)l(g,j+32*I,h,16)}function eo(h,g){var j,I=16;for(j=0;16>j;++j)I+=h[g-1+32*j]+h[g+j-32];ya(I>>5,h,g)}function Rn(h,g){var j,I=8;for(j=0;16>j;++j)I+=h[g-1+32*j];ya(I>>4,h,g)}function gi(h,g){var j,I=8;for(j=0;16>j;++j)I+=h[g+j-32];ya(I>>4,h,g)}function Qs(h,g){ya(128,h,g)}function St(h,g,j){return h+2*g+j+2>>2}function to(h,g){var j,I=g-32;for(I=new Uint8Array([St(h[I-1],h[I+0],h[I+1]),St(h[I+0],h[I+1],h[I+2]),St(h[I+1],h[I+2],h[I+3]),St(h[I+2],h[I+3],h[I+4])]),j=0;4>j;++j)s(h,g+32*j,I,0,I.length)}function vi(h,g){var j=h[g-1],I=h[g-1+32],z=h[g-1+64],K=h[g-1+96];$e(h,g+0,16843009*St(h[g-1-32],j,I)),$e(h,g+32,16843009*St(j,I,z)),$e(h,g+64,16843009*St(I,z,K)),$e(h,g+96,16843009*St(z,K,K))}function yi(h,g){var j,I=4;for(j=0;4>j;++j)I+=h[g+j-32]+h[g-1+32*j];for(I>>=3,j=0;4>j;++j)l(h,g+32*j,I,4)}function Ul(h,g){var j=h[g-1+0],I=h[g-1+32],z=h[g-1+64],K=h[g-1-32],J=h[g+0-32],ne=h[g+1-32],re=h[g+2-32],ce=h[g+3-32];h[g+0+96]=St(I,z,h[g-1+96]),h[g+1+96]=h[g+0+64]=St(j,I,z),h[g+2+96]=h[g+1+64]=h[g+0+32]=St(K,j,I),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=St(J,K,j),h[g+3+64]=h[g+2+32]=h[g+1+0]=St(ne,J,K),h[g+3+32]=h[g+2+0]=St(re,ne,J),h[g+3+0]=St(ce,re,ne)}function _a(h,g){var j=h[g+1-32],I=h[g+2-32],z=h[g+3-32],K=h[g+4-32],J=h[g+5-32],ne=h[g+6-32],re=h[g+7-32];h[g+0+0]=St(h[g+0-32],j,I),h[g+1+0]=h[g+0+32]=St(j,I,z),h[g+2+0]=h[g+1+32]=h[g+0+64]=St(I,z,K),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=St(z,K,J),h[g+3+32]=h[g+2+64]=h[g+1+96]=St(K,J,ne),h[g+3+64]=h[g+2+96]=St(J,ne,re),h[g+3+96]=St(ne,re,re)}function Bo(h,g){var j=h[g-1+0],I=h[g-1+32],z=h[g-1+64],K=h[g-1-32],J=h[g+0-32],ne=h[g+1-32],re=h[g+2-32],ce=h[g+3-32];h[g+0+0]=h[g+1+64]=K+J+1>>1,h[g+1+0]=h[g+2+64]=J+ne+1>>1,h[g+2+0]=h[g+3+64]=ne+re+1>>1,h[g+3+0]=re+ce+1>>1,h[g+0+96]=St(z,I,j),h[g+0+64]=St(I,j,K),h[g+0+32]=h[g+1+96]=St(j,K,J),h[g+1+32]=h[g+2+96]=St(K,J,ne),h[g+2+32]=h[g+3+96]=St(J,ne,re),h[g+3+32]=St(ne,re,ce)}function $o(h,g){var j=h[g+0-32],I=h[g+1-32],z=h[g+2-32],K=h[g+3-32],J=h[g+4-32],ne=h[g+5-32],re=h[g+6-32],ce=h[g+7-32];h[g+0+0]=j+I+1>>1,h[g+1+0]=h[g+0+64]=I+z+1>>1,h[g+2+0]=h[g+1+64]=z+K+1>>1,h[g+3+0]=h[g+2+64]=K+J+1>>1,h[g+0+32]=St(j,I,z),h[g+1+32]=h[g+0+96]=St(I,z,K),h[g+2+32]=h[g+1+96]=St(z,K,J),h[g+3+32]=h[g+2+96]=St(K,J,ne),h[g+3+64]=St(J,ne,re),h[g+3+96]=St(ne,re,ce)}function qo(h,g){var j=h[g-1+0],I=h[g-1+32],z=h[g-1+64],K=h[g-1+96];h[g+0+0]=j+I+1>>1,h[g+2+0]=h[g+0+32]=I+z+1>>1,h[g+2+32]=h[g+0+64]=z+K+1>>1,h[g+1+0]=St(j,I,z),h[g+3+0]=h[g+1+32]=St(I,z,K),h[g+3+32]=h[g+1+64]=St(z,K,K),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=K}function $c(h,g){var j=h[g-1+0],I=h[g-1+32],z=h[g-1+64],K=h[g-1+96],J=h[g-1-32],ne=h[g+0-32],re=h[g+1-32],ce=h[g+2-32];h[g+0+0]=h[g+2+32]=j+J+1>>1,h[g+0+32]=h[g+2+64]=I+j+1>>1,h[g+0+64]=h[g+2+96]=z+I+1>>1,h[g+0+96]=K+z+1>>1,h[g+3+0]=St(ne,re,ce),h[g+2+0]=St(J,ne,re),h[g+1+0]=h[g+3+32]=St(j,J,ne),h[g+1+32]=h[g+3+64]=St(I,j,J),h[g+1+64]=h[g+3+96]=St(z,I,j),h[g+1+96]=St(K,z,I)}function Du(h,g){var j;for(j=0;8>j;++j)s(h,g+32*j,h,g-32,8)}function Ii(h,g){var j;for(j=0;8>j;++j)l(h,g,h[g-1],8),g+=32}function Xs(h,g,j){var I;for(I=0;8>I;++I)l(g,j+32*I,h,8)}function gs(h,g){var j,I=8;for(j=0;8>j;++j)I+=h[g+j-32]+h[g-1+32*j];Xs(I>>4,h,g)}function zo(h,g){var j,I=4;for(j=0;8>j;++j)I+=h[g+j-32];Xs(I>>3,h,g)}function no(h,g){var j,I=4;for(j=0;8>j;++j)I+=h[g-1+32*j];Xs(I>>3,h,g)}function Hl(h,g){Xs(128,h,g)}function ba(h,g,j){var I=h[g-j],z=h[g+0],K=3*(z-I)+ji[1020+h[g-2*j]-h[g+j]],J=il[112+(K+4>>3)];h[g-j]=$r[255+I+il[112+(K+3>>3)]],h[g+0]=$r[255+z-J]}function ro(h,g,j,I){var z=h[g+0],K=h[g+j];return Ds[255+h[g-2*j]-h[g-j]]>I||Ds[255+K-z]>I}function Uo(h,g,j,I){return 4*Ds[255+h[g-j]-h[g+0]]+Ds[255+h[g-2*j]-h[g+j]]<=I}function Wl(h,g,j,I,z){var K=h[g-3*j],J=h[g-2*j],ne=h[g-j],re=h[g+0],ce=h[g+j],_e=h[g+2*j],Ce=h[g+3*j];return 4*Ds[255+ne-re]+Ds[255+J-ce]>I?0:Ds[255+h[g-4*j]-K]<=z&&Ds[255+K-J]<=z&&Ds[255+J-ne]<=z&&Ds[255+Ce-_e]<=z&&Ds[255+_e-ce]<=z&&Ds[255+ce-re]<=z}function Zs(h,g,j,I){var z=2*I+1;for(I=0;16>I;++I)Uo(h,g+I,j,z)&&ba(h,g+I,j)}function Ts(h,g,j,I){var z=2*I+1;for(I=0;16>I;++I)Uo(h,g+I*j,1,z)&&ba(h,g+I*j,1)}function Os(h,g,j,I){var z;for(z=3;0<z;--z)Zs(h,g+=4*j,j,I)}function qc(h,g,j,I){var z;for(z=3;0<z;--z)Ts(h,g+=4,j,I)}function ei(h,g,j,I,z,K,J,ne){for(K=2*K+1;0<z--;){if(Wl(h,g,j,K,J))if(ro(h,g,j,ne))ba(h,g,j);else{var re=h,ce=g,_e=j,Ce=re[ce-2*_e],Le=re[ce-_e],Ne=re[ce+0],We=re[ce+_e],Te=re[ce+2*_e],we=27*(Be=ji[1020+3*(Ne-Le)+ji[1020+Ce-We]])+63>>7,xe=18*Be+63>>7,Be=9*Be+63>>7;re[ce-3*_e]=$r[255+re[ce-3*_e]+Be],re[ce-2*_e]=$r[255+Ce+xe],re[ce-_e]=$r[255+Le+we],re[ce+0]=$r[255+Ne-we],re[ce+_e]=$r[255+We-xe],re[ce+2*_e]=$r[255+Te-Be]}g+=I}}function Zr(h,g,j,I,z,K,J,ne){for(K=2*K+1;0<z--;){if(Wl(h,g,j,K,J))if(ro(h,g,j,ne))ba(h,g,j);else{var re=h,ce=g,_e=j,Ce=re[ce-_e],Le=re[ce+0],Ne=re[ce+_e],We=il[112+((Te=3*(Le-Ce))+4>>3)],Te=il[112+(Te+3>>3)],we=We+1>>1;re[ce-2*_e]=$r[255+re[ce-2*_e]+we],re[ce-_e]=$r[255+Ce+Te],re[ce+0]=$r[255+Le-We],re[ce+_e]=$r[255+Ne-we]}g+=I}}function Ho(h,g,j,I,z,K){ei(h,g,j,1,16,I,z,K)}function rr(h,g,j,I,z,K){ei(h,g,1,j,16,I,z,K)}function wa(h,g,j,I,z,K){var J;for(J=3;0<J;--J)Zr(h,g+=4*j,j,1,16,I,z,K)}function xa(h,g,j,I,z,K){var J;for(J=3;0<J;--J)Zr(h,g+=4,1,j,16,I,z,K)}function so(h,g,j,I,z,K,J,ne){ei(h,g,z,1,8,K,J,ne),ei(j,I,z,1,8,K,J,ne)}function Vl(h,g,j,I,z,K,J,ne){ei(h,g,1,z,8,K,J,ne),ei(j,I,1,z,8,K,J,ne)}function io(h,g,j,I,z,K,J,ne){Zr(h,g+4*z,z,1,8,K,J,ne),Zr(j,I+4*z,z,1,8,K,J,ne)}function Wo(h,g,j,I,z,K,J,ne){Zr(h,g+4,1,z,8,K,J,ne),Zr(j,I+4,1,z,8,K,J,ne)}function _i(){this.ba=new Cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ja(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zc(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new R}function Ru(){this.xb=this.a=0,this.l=new Do,this.ca=new Cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zc,this.ab=0,this.gc=c(4,Vo),this.Oc=0}function Go(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Do,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Di(h,g,j,I,z,K,J){for(h=h==null?0:h[g+0],g=0;g<J;++g)z[K+g]=h+j[I+g]&255,h=z[K+g]}function Gl(h,g,j,I,z,K,J){var ne;if(h==null)Di(null,null,j,I,z,K,J);else for(ne=0;ne<J;++ne)z[K+ne]=h[g+ne]+j[I+ne]&255}function ka(h,g,j,I,z,K,J){if(h==null)Di(null,null,j,I,z,K,J);else{var ne,re=h[g+0],ce=re,_e=re;for(ne=0;ne<J;++ne)ce=_e+(re=h[g+ne])-ce,_e=j[I+ne]+(-256&ce?0>ce?0:255:ce)&255,ce=re,z[K+ne]=_e}}function Kl(h,g,j,I){var z=g.width,K=g.o;if(e(h!=null&&g!=null),0>j||0>=I||j+I>K)return null;if(!h.Cc){if(h.ga==null){var J;if(h.ga=new Go,(J=h.ga==null)||(J=g.width*g.o,e(h.Gb.length==0),h.Gb=o(J),h.Uc=0,h.Gb==null?J=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,J=1),J=!J),!J){J=h.ga;var ne=h.Fa,re=h.P,ce=h.qc,_e=h.mb,Ce=h.nb,Le=re+1,Ne=ce-1,We=J.l;if(e(ne!=null&&_e!=null&&g!=null),Tr[0]=null,Tr[1]=Di,Tr[2]=Gl,Tr[3]=ka,J.ca=_e,J.tb=Ce,J.c=g.width,J.i=g.height,e(0<J.c&&0<J.i),1>=ce)g=0;else if(J.$a=ne[re+0]>>0&3,J.Z=ne[re+0]>>2&3,J.Lc=ne[re+0]>>4&3,re=ne[re+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||re)g=0;else if(We.put=Ps,We.ac=pr,We.bc=Gs,We.ma=J,We.width=g.width,We.height=g.height,We.Da=g.Da,We.v=g.v,We.va=g.va,We.j=g.j,We.o=g.o,J.$a)e:{e(J.$a==1),g=ps();t:for(;;){if(g==null){g=0;break e}if(e(J!=null),J.mc=g,g.c=J.c,g.i=J.i,g.l=J.l,g.l.ma=J,g.l.width=J.c,g.l.height=J.i,g.a=0,O(g.m,ne,Le,Ne),!pi(J.c,J.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Oi(g.s)?(J.ic=1,ne=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(ne),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(J.ic=0,g=pa(g,J.c)),!g))break t;g=1;break e}J.mc=null,g=0}else g=Ne>=J.c*J.i;J=!g}if(J)return null;h.ga.Lc!=1?h.Ga=0:I=K-j}e(h.ga!=null),e(j+I<=K);e:{if(g=(ne=h.ga).c,K=ne.l.o,ne.$a==0){if(Le=h.rc,Ne=h.Vc,We=h.Fa,re=h.P+1+j*g,ce=h.mb,_e=h.nb+j*g,e(re<=h.P+h.qc),ne.Z!=0)for(e(Tr[ne.Z]!=null),J=0;J<I;++J)Tr[ne.Z](Le,Ne,We,re,ce,_e,g),Le=ce,Ne=_e,_e+=g,re+=g;else for(J=0;J<I;++J)s(ce,_e,We,re,g),Le=ce,Ne=_e,_e+=g,re+=g;h.rc=Le,h.Vc=Ne}else{if(e(ne.mc!=null),g=j+I,e((J=ne.mc)!=null),e(g<=J.i),J.C>=g)g=1;else if(ne.ic||Se(),ne.ic){ne=J.V,Le=J.Ba,Ne=J.c;var Te=J.i,we=(We=1,re=J.$/Ne,ce=J.$%Ne,_e=J.m,Ce=J.s,J.$),xe=Ne*Te,Be=Ne*g,Me=Ce.wc,qe=we<Be?In(Ce,ce,re):null;e(we<=xe),e(g<=Te),e(Oi(Ce));t:for(;;){for(;!_e.h&&we<Be;){if(ce&Me||(qe=In(Ce,ce,re)),e(qe!=null),oe(_e),256>(Te=Jr(qe.G[0],qe.H[0],_e)))ne[Le+we]=Te,++we,++ce>=Ne&&(ce=0,++re<=g&&!(re%16)&&Ys(J,re));else{if(!(280>Te)){We=0;break t}Te=fs(Te-256,_e);var lt,tt=Jr(qe.G[4],qe.H[4],_e);if(oe(_e),!(we>=(tt=Yr(Ne,tt=fs(tt,_e)))&&xe-we>=Te)){We=0;break t}for(lt=0;lt<Te;++lt)ne[Le+we+lt]=ne[Le+we+lt-tt];for(we+=Te,ce+=Te;ce>=Ne;)ce-=Ne,++re<=g&&!(re%16)&&Ys(J,re);we<Be&&ce&Me&&(qe=In(Ce,ce,re))}e(_e.h==Q(_e))}Ys(J,re>g?g:re);break t}!We||_e.h&&we<xe?(We=0,J.a=_e.h?5:3):J.$=we,g=We}else g=yr(J,J.V,J.Ba,J.c,J.i,g,Va);if(!g){I=0;break e}}j+I>=K&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&((I=h.ga)!=null&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+j*z}function w(h,g,j,I,z,K){for(;0<z--;){var J,ne=h,re=g+(j?1:0),ce=h,_e=g+(j?0:3);for(J=0;J<I;++J){var Ce=ce[_e+4*J];Ce!=255&&(Ce*=32897,ne[re+4*J+0]=ne[re+4*J+0]*Ce>>23,ne[re+4*J+1]=ne[re+4*J+1]*Ce>>23,ne[re+4*J+2]=ne[re+4*J+2]*Ce>>23)}g+=K}}function H(h,g,j,I,z){for(;0<I--;){var K;for(K=0;K<j;++K){var J=h[g+2*K+0],ne=15&(ce=h[g+2*K+1]),re=4369*ne,ce=(240&ce|ce>>4)*re>>16;h[g+2*K+0]=(240&J|J>>4)*re>>16&240|(15&J|J<<4)*re>>16>>4&15,h[g+2*K+1]=240&ce|ne}g+=z}}function de(h,g,j,I,z,K,J,ne){var re,ce,_e=255;for(ce=0;ce<z;++ce){for(re=0;re<I;++re){var Ce=h[g+re];K[J+4*re]=Ce,_e&=Ce}g+=j,J+=ne}return _e!=255}function ye(h,g,j,I,z){var K;for(K=0;K<z;++K)j[I+K]=h[g+K]>>8}function Se(){es=w,bn=H,pn=de,Hn=ye}function Fe(h,g,j){B[h]=function(I,z,K,J,ne,re,ce,_e,Ce,Le,Ne,We,Te,we,xe,Be,Me){var qe,lt=Me-1>>1,tt=ne[re+0]|ce[_e+0]<<16,bt=Ce[Le+0]|Ne[We+0]<<16;e(I!=null);var rt=3*tt+bt+131074>>2;for(g(I[z+0],255&rt,rt>>16,Te,we),K!=null&&(rt=3*bt+tt+131074>>2,g(K[J+0],255&rt,rt>>16,xe,Be)),qe=1;qe<=lt;++qe){var Xt=ne[re+qe]|ce[_e+qe]<<16,Zt=Ce[Le+qe]|Ne[We+qe]<<16,Yt=tt+Xt+bt+Zt+524296,qt=Yt+2*(Xt+bt)>>3;rt=qt+tt>>1,tt=(Yt=Yt+2*(tt+Zt)>>3)+Xt>>1,g(I[z+2*qe-1],255&rt,rt>>16,Te,we+(2*qe-1)*j),g(I[z+2*qe-0],255&tt,tt>>16,Te,we+(2*qe-0)*j),K!=null&&(rt=Yt+bt>>1,tt=qt+Zt>>1,g(K[J+2*qe-1],255&rt,rt>>16,xe,Be+(2*qe-1)*j),g(K[J+2*qe+0],255&tt,tt>>16,xe,Be+(2*qe+0)*j)),tt=Xt,bt=Zt}1&Me||(rt=3*tt+bt+131074>>2,g(I[z+Me-1],255&rt,rt>>16,Te,we+(Me-1)*j),K!=null&&(rt=3*bt+tt+131074>>2,g(K[J+Me-1],255&rt,rt>>16,xe,Be+(Me-1)*j)))}}function Ve(){ns[Hc]=sf,ns[Aa]=Pa,ns[Ed]=af,ns[Zl]=cl,ns[ec]=yo,ns[wn]=ic,ns[Wc]=$u,ns[al]=Pa,ns[mo]=cl,ns[tc]=yo,ns[nc]=ic}function ot(h){return h&-16384?0>h?0:255:h>>Ea}function yt(h,g){return ot((19077*h>>8)+(26149*g>>8)-14234)}function Ft(h,g,j){return ot((19077*h>>8)-(6419*g>>8)-(13320*j>>8)+8708)}function Rt(h,g){return ot((19077*h>>8)+(33050*g>>8)-17685)}function Kt(h,g,j,I,z){I[z+0]=yt(h,j),I[z+1]=Ft(h,g,j),I[z+2]=Rt(h,g)}function Fn(h,g,j,I,z){I[z+0]=Rt(h,g),I[z+1]=Ft(h,g,j),I[z+2]=yt(h,j)}function zn(h,g,j,I,z){var K=Ft(h,g,j);g=K<<3&224|Rt(h,g)>>3,I[z+0]=248&yt(h,j)|K>>5,I[z+1]=g}function Jn(h,g,j,I,z){var K=240&Rt(h,g)|15;I[z+0]=240&yt(h,j)|Ft(h,g,j)>>4,I[z+1]=K}function Ar(h,g,j,I,z){I[z+0]=255,Kt(h,g,j,I,z+1)}function mr(h,g,j,I,z){Fn(h,g,j,I,z),I[z+3]=255}function ti(h,g,j,I,z){Kt(h,g,j,I,z),I[z+3]=255}function vs(h,g){return 0>h?0:h>g?g:h}function Is(h,g,j){B[h]=function(I,z,K,J,ne,re,ce,_e,Ce){for(var Le=_e+(-2&Ce)*j;_e!=Le;)g(I[z+0],K[J+0],ne[re+0],ce,_e),g(I[z+1],K[J+0],ne[re+0],ce,_e+j),z+=2,++J,++re,_e+=2*j;1&Ce&&g(I[z+0],K[J+0],ne[re+0],ce,_e)}}function Na(h,g,j){return j==0?h==0?g==0?6:5:g==0?4:0:j}function Yl(h,g,j,I,z){switch(h>>>30){case 3:Bi(g,j,I,z,0);break;case 2:rn(g,j,I,z);break;case 1:Er(g,j,I,z)}}function Ko(h,g){var j,I,z=g.M,K=g.Nb,J=h.oc,ne=h.pc+40,re=h.oc,ce=h.pc+584,_e=h.oc,Ce=h.pc+600;for(j=0;16>j;++j)J[ne+32*j-1]=129;for(j=0;8>j;++j)re[ce+32*j-1]=129,_e[Ce+32*j-1]=129;for(0<z?J[ne-1-32]=re[ce-1-32]=_e[Ce-1-32]=129:(l(J,ne-32-1,127,21),l(re,ce-32-1,127,9),l(_e,Ce-32-1,127,9)),I=0;I<h.za;++I){var Le=g.ya[g.aa+I];if(0<I){for(j=-1;16>j;++j)s(J,ne+32*j-4,J,ne+32*j+12,4);for(j=-1;8>j;++j)s(re,ce+32*j-4,re,ce+32*j+4,4),s(_e,Ce+32*j-4,_e,Ce+32*j+4,4)}var Ne=h.Gd,We=h.Hd+I,Te=Le.ad,we=Le.Hc;if(0<z&&(s(J,ne-32,Ne[We].y,0,16),s(re,ce-32,Ne[We].f,0,8),s(_e,Ce-32,Ne[We].ea,0,8)),Le.Za){var xe=J,Be=ne-32+16;for(0<z&&(I>=h.za-1?l(xe,Be,Ne[We].y[15],4):s(xe,Be,Ne[We+1].y,0,4)),j=0;4>j;j++)xe[Be+128+j]=xe[Be+256+j]=xe[Be+384+j]=xe[Be+0+j];for(j=0;16>j;++j,we<<=2)xe=J,Be=ne+qu[j],Rs[Le.Ob[j]](xe,Be),Yl(we,Te,16*+j,xe,Be)}else if(xe=Na(I,z,Le.Ob[0]),qr[xe](J,ne),we!=0)for(j=0;16>j;++j,we<<=2)Yl(we,Te,16*+j,J,ne+qu[j]);for(j=Le.Gc,xe=Na(I,z,Le.Dd),ts[xe](re,ce),ts[xe](_e,Ce),we=Te,xe=re,Be=ce,255&(Le=j>>0)&&(170&Le?$i(we,256,xe,Be):ys(we,256,xe,Be)),Le=_e,we=Ce,255&(j>>=8)&&(170&j?$i(Te,320,Le,we):ys(Te,320,Le,we)),z<h.Ub-1&&(s(Ne[We].y,0,J,ne+480,16),s(Ne[We].f,0,re,ce+224,8),s(Ne[We].ea,0,_e,Ce+224,8)),j=8*K*h.B,Ne=h.sa,We=h.ta+16*I+16*K*h.R,Te=h.qa,Le=h.ra+8*I+j,we=h.Ha,xe=h.Ia+8*I+j,j=0;16>j;++j)s(Ne,We+j*h.R,J,ne+32*j,16);for(j=0;8>j;++j)s(Te,Le+j*h.B,re,ce+32*j,8),s(we,xe+j*h.B,_e,Ce+32*j,8)}}function ao(h,g,j,I,z,K,J,ne,re){var ce=[0],_e=[0],Ce=0,Le=re!=null?re.kd:0,Ne=re??new ja;if(h==null||12>j)return 7;Ne.data=h,Ne.w=g,Ne.ha=j,g=[g],j=[j],Ne.gb=[Ne.gb];e:{var We=g,Te=j,we=Ne.gb;if(e(h!=null),e(Te!=null),e(we!=null),we[0]=0,12<=Te[0]&&!t(h,We[0],"RIFF")){if(t(h,We[0]+8,"WEBP")){we=3;break e}var xe=me(h,We[0]+4);if(12>xe||4294967286<xe){we=3;break e}if(Le&&xe>Te[0]-8){we=7;break e}we[0]=xe,We[0]+=12,Te[0]-=12}we=0}if(we!=0)return we;for(xe=0<Ne.gb[0],j=j[0];;){e:{var Be=h;Te=g,we=j;var Me=ce,qe=_e,lt=We=[0];if((rt=Ce=[Ce])[0]=0,8>we[0])we=7;else{if(!t(Be,Te[0],"VP8X")){if(me(Be,Te[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var tt=me(Be,Te[0]+8),bt=1+Ue(Be,Te[0]+12);if(2147483648<=bt*(Be=1+Ue(Be,Te[0]+15))){we=3;break e}lt!=null&&(lt[0]=tt),Me!=null&&(Me[0]=bt),qe!=null&&(qe[0]=Be),Te[0]+=18,we[0]-=18,rt[0]=1}we=0}}if(Ce=Ce[0],We=We[0],we!=0)return we;if(Te=!!(2&We),!xe&&Ce)return 3;if(K!=null&&(K[0]=!!(16&We)),J!=null&&(J[0]=Te),ne!=null&&(ne[0]=0),J=ce[0],We=_e[0],Ce&&Te&&re==null){we=0;break}if(4>j){we=7;break}if(xe&&Ce||!xe&&!Ce&&!t(h,g[0],"ALPH")){j=[j],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{tt=h,we=g,xe=j;var rt=Ne.gb;Me=Ne.na,qe=Ne.P,lt=Ne.Sa,bt=22,e(tt!=null),e(xe!=null),Be=we[0];var Xt=xe[0];for(e(Me!=null),e(lt!=null),Me[0]=null,qe[0]=null,lt[0]=0;;){if(we[0]=Be,xe[0]=Xt,8>Xt){we=7;break e}var Zt=me(tt,Be+4);if(4294967286<Zt){we=3;break e}var Yt=8+Zt+1&-2;if(bt+=Yt,0<rt&&bt>rt){we=3;break e}if(!t(tt,Be,"VP8 ")||!t(tt,Be,"VP8L")){we=0;break e}if(Xt[0]<Yt){we=7;break e}t(tt,Be,"ALPH")||(Me[0]=tt,qe[0]=Be+8,lt[0]=Zt),Be+=Yt,Xt-=Yt}}if(j=j[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],we!=0)break}j=[j],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(rt=h,we=g,xe=j,Me=Ne.gb[0],qe=Ne.Ja,lt=Ne.xa,tt=we[0],Be=!t(rt,tt,"VP8 "),bt=!t(rt,tt,"VP8L"),e(rt!=null),e(xe!=null),e(qe!=null),e(lt!=null),8>xe[0])we=7;else{if(Be||bt){if(rt=me(rt,tt+4),12<=Me&&rt>Me-12){we=3;break e}if(Le&&rt>xe[0]-8){we=7;break e}qe[0]=rt,we[0]+=8,xe[0]-=8,lt[0]=bt}else lt[0]=5<=xe[0]&&rt[tt+0]==47&&!(rt[tt+4]>>5),qe[0]=xe[0];we=0}if(j=j[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],g=g[0],we!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||Te||(ne[0]=Ne.xa?2:1),J=[J],We=[We],Ne.xa){if(5>j){we=7;break}ne=J,Le=We,Te=K,h==null||5>j?h=0:5<=j&&h[g+0]==47&&!(h[g+4]>>5)?(xe=[0],rt=[0],Me=[0],O(qe=new N,h,g,j),_t(qe,xe,rt,Me)?(ne!=null&&(ne[0]=xe[0]),Le!=null&&(Le[0]=rt[0]),Te!=null&&(Te[0]=Me[0]),h=1):h=0):h=0}else{if(10>j){we=7;break}ne=We,h==null||10>j||!Rc(h,g+3,j-3)?h=0:(Le=h[g+0]|h[g+1]<<8|h[g+2]<<16,Te=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ne.Ja||!Te||!h?h=0:(J&&(J[0]=Te),ne&&(ne[0]=h),h=1))}if(!h||(J=J[0],We=We[0],Ce&&(ce[0]!=J||_e[0]!=We)))return 3;re!=null&&(re[0]=Ne,re.offset=g-re.w,e(4294967286>g-re.w),e(re.offset==re.ha-j));break}return we==0||we==7&&Ce&&re==null?(K!=null&&(K[0]|=Ne.na!=null&&0<Ne.na.length),I!=null&&(I[0]=J),z!=null&&(z[0]=We),0):we}function Yo(h,g,j){var I=g.width,z=g.height,K=0,J=0,ne=I,re=z;if(g.Da=h!=null&&0<h.Da,g.Da&&(ne=h.cd,re=h.bd,K=h.v,J=h.j,11>j||(K&=-2,J&=-2),0>K||0>J||0>=ne||0>=re||K+ne>I||J+re>z))return 0;if(g.v=K,g.j=J,g.va=K+ne,g.o=J+re,g.U=ne,g.T=re,g.da=h!=null&&0<h.da,g.da){if(!De(ne,re,j=[h.ib],K=[h.hb]))return 0;g.ib=j[0],g.hb=K[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*I/4&&g.hb<3*z/4,g.Kb=0),1}function Jo(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function oo(h,g,j,I){if(I==null||0>=h||0>=g)return 2;if(j!=null){if(j.Da){var z=j.cd,K=j.bd,J=-2&j.v,ne=-2&j.j;if(0>J||0>ne||0>=z||0>=K||J+z>h||ne+K>g)return 2;h=z,g=K}if(j.da){if(!De(h,g,z=[j.ib],K=[j.hb]))return 2;h=z[0],g=K[0]}}I.width=h,I.height=g;e:{var re=I.width,ce=I.height;if(h=I.S,0>=re||0>=ce||!(h>=Hc&&13>h))h=2;else{if(0>=I.Rd&&I.sd==null){J=K=z=g=0;var _e=(ne=re*ac[h])*ce;if(11>h||(K=(ce+1)/2*(g=(re+1)/2),h==12&&(J=(z=re)*ce)),(ce=o(_e+2*K+J))==null){h=1;break e}I.sd=ce,11>h?((re=I.f.RGBA).eb=ce,re.fb=0,re.A=ne,re.size=_e):((re=I.f.kb).y=ce,re.O=0,re.fa=ne,re.Fd=_e,re.f=ce,re.N=0+_e,re.Ab=g,re.Cd=K,re.ea=ce,re.W=0+_e+K,re.Db=g,re.Ed=K,h==12&&(re.F=ce,re.J=0+_e+2*K),re.Tc=J,re.lb=z)}if(g=1,z=I.S,K=I.width,J=I.height,z>=Hc&&13>z)if(11>z)h=I.f.RGBA,g&=(ne=Math.abs(h.A))*(J-1)+K<=h.size,g&=ne>=K*ac[z],g&=h.eb!=null;else{h=I.f.kb,ne=(K+1)/2,_e=(J+1)/2,re=Math.abs(h.fa),ce=Math.abs(h.Ab);var Ce=Math.abs(h.Db),Le=Math.abs(h.lb),Ne=Le*(J-1)+K;g&=re*(J-1)+K<=h.Fd,g&=ce*(_e-1)+ne<=h.Cd,g=(g&=Ce*(_e-1)+ne<=h.Ed)&re>=K&ce>=ne&Ce>=ne,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,z==12&&(g&=Le>=K,g&=Ne<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||j!=null&&j.fd&&(h=Jo(I)),h}var Un=64,Qo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xo=24,Zo=32,el=8,Fr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(h){return h},B.Predictor2=function(h,g,j){return g[j+0]},B.Predictor3=function(h,g,j){return g[j+1]},B.Predictor4=function(h,g,j){return g[j-1]},B.Predictor5=function(h,g,j){return it(it(h,g[j+1]),g[j+0])},B.Predictor6=function(h,g,j){return it(h,g[j-1])},B.Predictor7=function(h,g,j){return it(h,g[j+0])},B.Predictor8=function(h,g,j){return it(g[j-1],g[j+0])},B.Predictor9=function(h,g,j){return it(g[j+0],g[j+1])},B.Predictor10=function(h,g,j){return it(it(h,g[j-1]),it(g[j+0],g[j+1]))},B.Predictor11=function(h,g,j){var I=g[j+0];return 0>=Mt(I>>24&255,h>>24&255,(g=g[j-1])>>24&255)+Mt(I>>16&255,h>>16&255,g>>16&255)+Mt(I>>8&255,h>>8&255,g>>8&255)+Mt(255&I,255&h,255&g)?I:h},B.Predictor12=function(h,g,j){var I=g[j+0];return(gt((h>>24&255)+(I>>24&255)-((g=g[j-1])>>24&255))<<24|gt((h>>16&255)+(I>>16&255)-(g>>16&255))<<16|gt((h>>8&255)+(I>>8&255)-(g>>8&255))<<8|gt((255&h)+(255&I)-(255&g)))>>>0},B.Predictor13=function(h,g,j){var I=g[j-1];return(Ot((h=it(h,g[j+0]))>>24&255,I>>24&255)<<24|Ot(h>>16&255,I>>16&255)<<16|Ot(h>>8&255,I>>8&255)<<8|Ot(h>>0&255,I>>0&255))>>>0};var lo=B.PredictorAdd0;B.PredictorAdd1=zt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Ri=B.PredictorAdd2;$t("ColorIndexInverseTransform","MapARGB","32b",(function(h){return h>>8&255}),(function(h){return h})),$t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(h){return h}),(function(h){return h>>8&255}));var Uc,Mr=B.ColorIndexInverseTransform,tl=B.MapARGB,Jl=B.VP8LColorIndexInverseTransformAlpha,nl=B.MapAlpha,bi=B.VP8LPredictorsAdd=[];bi.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Sa,Br,Pr,Ca,Fi,Mi,rl,Bi,rn,$i,Er,ys,co,Ql,uo,ho,fo,_s,qi,wi,zi,Ui,La,_r,es,bn,pn,Hn,Qn=o(511),xi=o(2041),sl=o(225),po=o(767),Xl=0,ji=xi,il=sl,$r=po,Ds=Qn,Hc=0,Aa=1,Ed=2,Zl=3,ec=4,wn=5,Wc=6,al=7,mo=8,tc=9,nc=10,rc=[2,3,7],Vc=[3,3,11],go=[280,256,256,256,40],Td=[0,1,1,1,0],ef=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Od=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gc=8,ol=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vo=null,Fu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Id=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qr=[],Rs=[],ts=[],ki=1,ll=2,Tr=[],ns=[];Fe("UpsampleRgbLinePair",Kt,3),Fe("UpsampleBgrLinePair",Fn,3),Fe("UpsampleRgbaLinePair",ti,4),Fe("UpsampleBgraLinePair",mr,4),Fe("UpsampleArgbLinePair",Ar,4),Fe("UpsampleRgba4444LinePair",Jn,2),Fe("UpsampleRgb565LinePair",zn,2);var sf=B.UpsampleRgbLinePair,af=B.UpsampleBgrLinePair,Pa=B.UpsampleRgbaLinePair,cl=B.UpsampleBgraLinePair,yo=B.UpsampleArgbLinePair,ic=B.UpsampleRgba4444LinePair,$u=B.UpsampleRgb565LinePair,Hi=16,ni=1<<Hi-1,mn=-227,vn=482,Ea=6,br=0,rs=o(256),_o=o(256),ul=o(256),ss=o(256),Kc=o(vn-mn),Rd=o(vn-mn);Is("YuvToRgbRow",Kt,3),Is("YuvToBgrRow",Fn,3),Is("YuvToRgbaRow",ti,4),Is("YuvToBgraRow",mr,4),Is("YuvToArgbRow",Ar,4),Is("YuvToRgba4444Row",Jn,2),Is("YuvToRgb565Row",zn,2);var qu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bo=[0,2,8],Fd=[8,7,6,4,4,2,2,2,1,1,1,1],Wi=1;this.WebPDecodeRGBA=function(h,g,j,I,z){var K=Aa,J=new _i,ne=new Cr;J.ba=ne,ne.S=K,ne.width=[ne.width],ne.height=[ne.height];var re=ne.width,ce=ne.height,_e=new Kr;if(_e==null||h==null)var Ce=2;else e(_e!=null),Ce=ao(h,g,j,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ce!=0?re=0:(re!=null&&(re[0]=_e.width[0]),ce!=null&&(ce[0]=_e.height[0]),re=1),re){ne.width=ne.width[0],ne.height=ne.height[0],I!=null&&(I[0]=ne.width),z!=null&&(z[0]=ne.height);e:{if(I=new Do,(z=new ja).data=h,z.w=g,z.ha=j,z.kd=1,g=[0],e(z!=null),((h=ao(z.data,z.w,z.ha,null,null,null,g,null,z))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(e(J!=null),I.data=z.data,I.w=z.w+z.offset,I.ha=z.ha-z.offset,I.put=Ps,I.ac=pr,I.bc=Gs,I.ma=J,z.xa){if((h=ps())==null){J=1;break e}if((function(Le,Ne){var We=[0],Te=[0],we=[0];t:for(;;){if(Le==null)return 0;if(Ne==null)return Le.a=2,0;if(Le.l=Ne,Le.a=0,O(Le.m,Ne.data,Ne.w,Ne.ha),!_t(Le.m,We,Te,we)){Le.a=3;break t}if(Le.xb=ll,Ne.width=We[0],Ne.height=Te[0],!pi(We[0],Te[0],1,Le,null))break t;return 1}return e(Le.a!=0),0})(h,I)){if(I=(g=oo(I.width,I.height,J.Oa,J.ba))==0){t:{I=h;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((j=I.l)!=null),e((z=j.ma)!=null),I.xb!=0){if(I.ca=z.ba,I.tb=z.tb,e(I.ca!=null),!Yo(z.Oa,j,Zl)){I.a=2;break n}if(!pa(I,j.width)||j.da)break n;if((j.da||Qt(I.ca.S))&&Se(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Se()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!pe(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!yr(I,I.V,I.Ba,I.c,I.i,j.o,fa))break n;z.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(g=h.a)}else g=h.a}else{if((h=new ms)==null){J=1;break e}if(h.Fa=z.na,h.P=z.P,h.qc=z.Sa,Fc(h,I)){if((g=oo(I.width,I.height,J.Oa,J.ba))==0){if(h.Aa=0,j=J.Oa,e((z=h)!=null),j!=null){if(0<(re=0>(re=j.Md)?0:100<re?255:255*re/100)){for(ce=_e=0;4>ce;++ce)12>(Ce=z.pb[ce]).lc&&(Ce.ia=re*Fd[0>Ce.lc?0:Ce.lc]>>3),_e|=Ce.ia;_e&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=j.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}Qa(h,I)||(g=h.a)}}else g=h.a}g==0&&J.Oa!=null&&J.Oa.fd&&(g=Jo(J.ba))}J=g}K=J!=0?null:11>K?ne.f.RGBA.eb:ne.f.kb.y}else K=null;return K};var ac=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(B,te){for(var le="",F=0;F<4;F++)le+=String.fromCharCode(B[te++]);return le}function y(B,te){return(B[te+0]<<0|B[te+1]<<8|B[te+2]<<16)>>>0}function _(B,te){return(B[te+0]<<0|B[te+1]<<8|B[te+2]<<16|B[te+3]<<24)>>>0}new d;var b=[0],v=[0],C=[],P=new d,L=n,S=(function(B,te){var le={},F=0,R=!1,ee=0,G=0;if(le.frames=[],!(function(M,Q,ie,oe){for(var ve=0;ve<oe;ve++)if(M[Q+ve]!=ie.charCodeAt(ve))return!0;return!1})(B,te,"RIFF",4)){var ue,$;for(_(B,te+=4),te+=8;te<B.length;){var X=p(B,te),O=_(B,te+=4);te+=4;var W=O+(1&O);switch(X){case"VP8 ":case"VP8L":le.frames[F]===void 0&&(le.frames[F]={}),(N=le.frames[F]).src_off=R?G:te-8,N.src_size=ee+O+8,F++,R&&(R=!1,ee=0,G=0);break;case"VP8X":(N=le.header={}).feature_flags=B[te];var V=te+4;N.canvas_width=1+y(B,V),V+=3,N.canvas_height=1+y(B,V),V+=3;break;case"ALPH":R=!0,ee=W+8,G=te-8;break;case"ANIM":(N=le.header).bgcolor=_(B,te),V=te+4,N.loop_count=(ue=B)[($=V)+0]<<0|ue[$+1]<<8,V+=2;break;case"ANMF":var D,N;(N=le.frames[F]={}).offset_x=2*y(B,te),te+=3,N.offset_y=2*y(B,te),te+=3,N.width=1+y(B,te),te+=3,N.height=1+y(B,te),te+=3,N.duration=y(B,te),te+=3,D=B[te++],N.dispose=1&D,N.blend=D>>1&1}X!="ANMF"&&(te+=W)}return le}})(L,0);S.response=L,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,A=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,b=[k.canvas_height],v=[k.canvas_width];for(var E=0;E<A.length&&A[E].blend!=0;E++);}var U=A[0],Z=P.WebPDecodeRGBA(L,U.src_off,U.src_size,v,b);U.rgba=Z,U.imgwidth=v[0],U.imgheight=b[0];for(var q=0;q<v[0]*b[0]*4;q++)C[q]=Z[q];return this.width=v,this.height=b,this.data=C,this}(function(n){var e=function(){return typeof zp=="function"},t=function(b,v,C,P){var L=4,S=c;switch(P){case n.image_compression.FAST:L=1,S=o;break;case n.image_compression.MEDIUM:L=6,S=f;break;case n.image_compression.SLOW:L=9,S=d}b=s(b,v,C,S);var k=zp(b,{level:L});return n.__addimage__.arrayBufferToBinaryString(k)},s=function(b,v,C,P){for(var L,S,k,A=b.length/v,E=new Uint8Array(b.length+A),U=y(),Z=0;Z<A;Z+=1){if(k=Z*v,L=b.subarray(k,k+v),P)E.set(P(L,C,S),k+Z);else{for(var q,B=U.length,te=[];q<B;q+=1)te[q]=U[q](L,C,S);var le=_(te.concat());E.set(te[le],k+Z)}S=L}return E},l=function(b){var v=Array.apply([],b);return v.unshift(0),v},o=function(b,v){var C,P=[],L=b.length;P[0]=1;for(var S=0;S<L;S+=1)C=b[S-v]||0,P[S+1]=b[S]-C+256&255;return P},c=function(b,v,C){var P,L=[],S=b.length;L[0]=2;for(var k=0;k<S;k+=1)P=C&&C[k]||0,L[k+1]=b[k]-P+256&255;return L},f=function(b,v,C){var P,L,S=[],k=b.length;S[0]=3;for(var A=0;A<k;A+=1)P=b[A-v]||0,L=C&&C[A]||0,S[A+1]=b[A]+256-(P+L>>>1)&255;return S},d=function(b,v,C){var P,L,S,k,A=[],E=b.length;A[0]=4;for(var U=0;U<E;U+=1)P=b[U-v]||0,L=C&&C[U]||0,S=C&&C[U-v]||0,k=p(P,L,S),A[U+1]=b[U]-k+256&255;return A},p=function(b,v,C){if(b===v&&v===C)return b;var P=Math.abs(v-C),L=Math.abs(b-C),S=Math.abs(b+v-C-C);return P<=L&&P<=S?b:L<=S?v:C},y=function(){return[l,o,c,f,d]},_=function(b){var v=b.map((function(C){return C.reduce((function(P,L){return P+Math.abs(L)}),0)}));return v.indexOf(Math.min.apply(null,v))};n.processPNG=function(b,v,C,P){var L,S,k,A,E,U,Z,q,B,te,le,F,R,ee,G,ue=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(k=new jS(b)).imgData,S=k.bits,L=k.colorSpace,E=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){B=(q=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,le=new Uint8Array(B*k.colors),te=new Uint8Array(B);var X,O=k.pixelBitlength-k.bits;for(ee=0,G=0;ee<B;ee++){for(R=q[ee],X=0;X<O;)le[G++]=R>>>X&255,X+=k.bits;te[ee]=R>>>X&255}}if(k.bits===16){B=(q=new Uint32Array(k.decodePixels().buffer)).length,le=new Uint8Array(B*(32/k.pixelBitlength)*k.colors),te=new Uint8Array(B*(32/k.pixelBitlength)),F=k.colors>1,ee=0,G=0;for(var W=0;ee<B;)R=q[ee++],le[G++]=R>>>0&255,F&&(le[G++]=R>>>16&255,R=q[ee++],le[G++]=R>>>0&255),te[W++]=R>>>16&255;S=8}P!==n.image_compression.NONE&&e()?(b=t(le,k.width*k.colors,k.colors,P),Z=t(te,k.width,1,P)):(b=le,Z=te,ue=void 0)}if(k.colorType===3&&(L=this.color_spaces.INDEXED,U=k.palette,k.transparency.indexed)){var V=k.transparency.indexed,D=0;for(ee=0,B=V.length;ee<B;++ee)D+=V[ee];if((D/=255)===B-1&&V.indexOf(0)!==-1)A=[V.indexOf(0)];else if(D!==B){for(q=k.decodePixels(),te=new Uint8Array(q.length),ee=0,B=q.length;ee<B;ee++)te[ee]=V[q[ee]];Z=t(te,k.width,1)}}var N=(function(M){var Q;switch(M){case n.image_compression.FAST:Q=11;break;case n.image_compression.MEDIUM:Q=13;break;case n.image_compression.SLOW:Q=14;break;default:Q=12}return Q})(P);return ue===this.decode.FLATE_DECODE&&($="/Predictor "+N+" "),$+="/Colors "+E+" /BitsPerComponent "+S+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:C,data:b,index:v,filter:ue,decodeParameters:$,transparency:A,palette:U,sMask:Z,predictor:N,width:k.width,height:k.height,bitsPerComponent:S,colorSpace:L}}}})(jt.API),(function(n){n.processGIF89A=function(e,t,s,l){var o=new kS(e),c=o.width,f=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:c,height:f},y=new vp(100).encode(p,100);return n.processJPEG.call(this,y,t,s,l)},n.processGIF87A=n.processGIF89A})(jt.API),na.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:l,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},na.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Ln.log("bit decode error:"+t)}},na.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,l=0;l<e;l++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*l*4,f=0;f<8&&8*l+f<this.width;f++){var d=this.palette[o>>7-f&1];this.data[c+4*f]=d.blue,this.data[c+4*f+1]=d.green,this.data[c+4*f+2]=d.red,this.data[c+4*f+3]=255}t!==0&&(this.pos+=4-t)}},na.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,l=0;l<n;l++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*l*4,f=o>>4,d=15&o,p=this.palette[f];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*l+1>=this.width)break;p=this.palette[d],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},na.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(l<this.palette.length){var c=this.palette[l];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},na.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,l=0;l<this.width;l++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,f=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,p=o>>15?255:0,y=s*this.width*4+4*l;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=p}this.pos+=n}},na.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var l=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&e)/e*255|0,d=(c>>5&t)/t*255|0,p=(c>>11)/e*255|0,y=l*this.width*4+4*o;this.data[y]=p,this.data[y+1]=d,this.data[y+2]=f,this.data[y+3]=255}this.pos+=n}},na.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},na.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=o,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=c}},na.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,l){var o=new na(e,!1),c=o.width,f=o.height,d={data:o.getData(),width:c,height:f},p=new vp(100).encode(d,100);return n.processJPEG.call(this,p,t,s,l)}})(jt.API),A1.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,l){var o=new A1(e),c=o.width,f=o.height,d={data:o.getData(),width:c,height:f},p=new vp(100).encode(d,100);return n.processJPEG.call(this,p,t,s,l)}})(jt.API),jt.API.processRGBA=function(n,e,t){for(var s=n.data,l=s.length,o=new Uint8Array(l/4*3),c=new Uint8Array(l/4),f=0,d=0,p=0;p<l;p+=4){var y=s[p],_=s[p+1],b=s[p+2],v=s[p+3];o[f++]=y,o[f++]=_,o[f++]=b,c[d++]=v}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},jt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},yu=jt.API,Nh=yu.getCharWidthsArray=function(n,e){var t,s,l=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:l.metadata.Unicode.widths,d=f.fof?f.fof:1,p=e.kerning?e.kerning:l.metadata.Unicode.kerning,y=p.fof?p.fof:1,_=e.doKerning!==!1,b=0,v=n.length,C=0,P=f[0]||d,L=[];for(t=0;t<v;t++)s=n.charCodeAt(t),typeof l.metadata.widthOfString=="function"?L.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(b=_&&kn(p[s])==="object"&&!isNaN(parseInt(p[s][C],10))?p[s][C]/y:0,L.push((f[s]||P)/d+b)),C=s;return L},N1=yu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),l=e.charSpace||this.internal.getCharSpace();return yu.processArabic&&(n=yu.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,l)/t:Nh.apply(this,arguments).reduce((function(o,c){return o+c}),0)},S1=function(n,e,t,s){for(var l=[],o=0,c=n.length,f=0;o!==c&&f+e[o]<t;)f+=e[o],o++;l.push(n.slice(0,o));var d=o;for(f=0;o!==c;)f+e[o]>s&&(l.push(n.slice(d,o)),f=0,d=o),f+=e[o],o++;return d!==o&&l.push(n.slice(d,o)),l},C1=function(n,e,t){t||(t={});var s,l,o,c,f,d,p,y=[],_=[y],b=t.textIndent||0,v=0,C=0,P=n.split(" "),L=Nh.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?P[0].length+2:t.lineIndent||0){var S=Array(d).join(" "),k=[];P.map((function(E){(E=E.split(/\s*\n/)).length>1?k=k.concat(E.map((function(U,Z){return(Z&&U.length?`
`:"")+U}))):k.push(E[0])})),P=k,d=N1.apply(this,[S,t])}for(o=0,c=P.length;o<c;o++){var A=0;if(s=P[o],d&&s[0]==`
`&&(s=s.substr(1),A=1),b+v+(C=(l=Nh.apply(this,[s,t])).reduce((function(E,U){return E+U}),0))>e||A){if(C>e){for(f=S1.apply(this,[s,l,e-(b+v),e]),y.push(f.shift()),y=[f.pop()];f.length;)_.push([f.shift()]);C=l.slice(s.length-(y[0]?y[0].length:0)).reduce((function(E,U){return E+U}),0)}else y=[s];_.push(y),b=C+d,v=L}else y.push(s),b+=v+C,v=L}return p=d?function(E,U){return(U?S:"")+E.join(" ")}:function(E){return E.join(" ")},_.map(p)},yu.splitTextToSize=function(n,e,t){var s,l=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var _=this.internal.getFont(y.fontName,y.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/l;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/l:0,o.lineIndent=t.lineIndent;var f,d,p=[];for(f=0,d=s.length;f<d;f++)p=p.concat(C1.apply(this,[s[f],c,o]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},s={},l=0;l<e.length;l++)t[e[l]]="0123456789abcdef"[l],s["0123456789abcdef"[l]]=e[l];var o=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var b,v,C,P,L=["{"];for(var S in _){if(b=_[S],isNaN(parseInt(S,10))?v="'"+S+"'":(S=parseInt(S,10),v=(v=o(S).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof b=="number")b<0?(C=o(b).slice(3),P="-"):(C=o(b).slice(2),P=""),C=P+C.slice(0,-1)+s[C.slice(-1)];else{if(kn(b)!=="object")throw new Error("Don't know what to do with value type "+kn(b)+".");C=c(b)}L.push(v+C)}return L.push("}"),L.join("")},f=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,v,C,P,L={},S=1,k=L,A=[],E="",U="",Z=_.length-1,q=1;q<Z;q+=1)(P=_[q])=="'"?b?(C=b.join(""),b=void 0):b=[]:b?b.push(P):P=="{"?(A.push([k,C]),k={},C=void 0):P=="}"?((v=A.pop())[0][v[1]]=k,C=void 0,k=v[0]):P=="-"?S=-1:C===void 0?t.hasOwnProperty(P)?(E+=t[P],C=parseInt(E,16)*S,S=1,E=""):E+=P:t.hasOwnProperty(P)?(U+=t[P],k[C]=parseInt(U,16)*S,S=1,C=void 0,U=""):U+=P;return L},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var b=_.font,v=y.Unicode[b.postScriptName];v&&(b.metadata.Unicode={},b.metadata.Unicode.widths=v.widths,b.metadata.Unicode.kerning=v.kerning);var C=p.Unicode[b.postScriptName];C&&(b.metadata.Unicode.encoding=C,b.encoding=C.codePages[0])}])})(jt.API),(function(n){var e=function(t){for(var s=t.length,l=new Uint8Array(s),o=0;o<s;o++)l[o]=t.charCodeAt(o);return l};n.API.events.push(["addFont",function(t){var s=void 0,l=t.font,o=t.instance;if(!l.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(s=o.existsFileInVFS(l.postScriptName)===!1?o.loadFile(l.postScriptName):o.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(cd(f)),c.metadata=n.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(l,s)}}])})(jt),(function(n){function e(){return(Et.canvg?Promise.resolve(Et.canvg):Fp(()=>import("./index.es-BdUesPw6.js"),[])).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}jt.API.addSvgAsImage=function(t,s,l,o,c,f,d,p){if(isNaN(s)||isNaN(l))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=o,y.height=c;var _=y.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,y.width,y.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then((function(C){return C.fromString(_,t,b)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(C){return C.render(b)})).then((function(){v.addImage(y.toDataURL("image/jpeg",1),s,l,o,c,d,p)}))}})(),jt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var l=0;l<this.internal.pages[s].length;l++)this.internal.pages[s][l]=this.internal.pages[s][l].replace(e,t);return this},jt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,l,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),d=[],p=0,y=0,_=0;function b(C,P){var L,S=!1;for(L=0;L<C.length;L+=1)C[L]===P&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=f.length;for(_=0;_<v;_+=1)t[f[_]].value=t[f[_]].defaultValue,t[f[_]].explicitSet=!1}if(kn(n)==="object"){for(l in n)if(o=n[l],b(f,l)&&o!==void 0){if(t[l].type==="boolean"&&typeof o=="boolean")t[l].value=o;else if(t[l].type==="name"&&b(t[l].valueSet,o))t[l].value=o;else if(t[l].type==="integer"&&Number.isInteger(o))t[l].value=o;else if(t[l].type==="array"){for(p=0;p<o.length;p+=1)if(s=!0,o[p].length===1&&typeof o[p][0]=="number")d.push(String(o[p]-1));else if(o[p].length>1){for(y=0;y<o[p].length;y+=1)typeof o[p][y]!="number"&&(s=!1);s===!0&&d.push([o[p][0]-1,o[p][1]-1].join(" "))}t[l].value="["+d.join(" ")+"]"}else t[l].value=t[l].defaultValue;t[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var C,P=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?P.push("/"+C+" /"+t[C].value):P.push("/"+C+" "+t[C].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',l=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+c.length+f.length+l.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(l+o+c+f+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,l){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:l||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(jt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var f,d=c.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],_=0,b=o.length;_<b;++_){if(f=c.metadata.characterToGlyph(o.charCodeAt(_)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=o.charCodeAt(_),d.indexOf(f)==-1&&(d.push(f),d.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return y.join("");f=f.toString(16),y.push(p[4-f.length],f)}return y.join("")},s=function(o){var c,f,d,p,y,_,b;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],_=0,b=(f=Object.keys(o).sort((function(v,C){return v-C}))).length;_<b;_++)c=f[_],d.length>=100&&(y+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(p=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+p+">"));return d.length&&(y+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var f=c.font,d=c.out,p=c.newObject,y=c.putStream;if(f.metadata instanceof n.API.TTFFont&&f.encoding==="Identity-H"){for(var _=f.metadata.Unicode.widths,b=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),v="",C=0;C<b.length;C++)v+=String.fromCharCode(b[C]);var P=p();y({data:v,addLength1:!0,objectId:P}),d("endobj");var L=p();y({data:s(f.metadata.toUnicode),addLength1:!0,objectId:L}),d("endobj");var S=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+ju(f.fontName)),d("/FontFile2 "+P+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(f.metadata.bbox)),d("/Flags "+f.metadata.flags),d("/StemV "+f.metadata.stemV),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d(">>"),d("endobj");var k=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+ju(f.fontName)),d("/FontDescriptor "+S+" 0 R"),d("/W "+n.API.PDFObject.convert(_)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+f.encoding+")"),d(">>"),d(">>"),d("endobj"),f.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+L+" 0 R"),d("/BaseFont /"+ju(f.fontName)),d("/Encoding /"+f.encoding),d("/DescendantFonts ["+k+" 0 R]"),d(">>"),d("endobj"),f.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var f=c.font,d=c.out,p=c.newObject,y=c.putStream;if(f.metadata instanceof n.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var _=f.metadata.rawData,b="",v=0;v<_.length;v++)b+=String.fromCharCode(_[v]);var C=p();y({data:b,addLength1:!0,objectId:C}),d("endobj");var P=p();y({data:s(f.metadata.toUnicode),addLength1:!0,objectId:P}),d("endobj");var L=p();d("<<"),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d("/StemV "+f.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+C+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(f.metadata.bbox)),d("/FontName /"+ju(f.fontName)),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d(">>"),d("endobj"),f.objectNumber=p();for(var S=0;S<f.metadata.hmtx.widths.length;S++)f.metadata.hmtx.widths[S]=parseInt(f.metadata.hmtx.widths[S]*(1e3/f.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+ju(f.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),d("endobj"),f.isAlreadyPutted=!0}})(o)}]);var l=function(o){var c,f=o.text||"",d=o.x,p=o.y,y=o.options||{},_=o.mutex||{},b=_.pdfEscape,v=_.activeFontKey,C=_.fonts,P=v,L="",S=0,k="",A=C[P].encoding;if(C[P].encoding!=="Identity-H")return{text:f,x:d,y:p,options:y,mutex:_};for(k=f,P=v,Array.isArray(f)&&(k=f[0]),S=0;S<k.length;S+=1)C[P].metadata.hasOwnProperty("cmap")&&(c=C[P].metadata.cmap.unicode.codeMap[k[S].charCodeAt(0)]),c||k[S].charCodeAt(0)<256&&C[P].metadata.hasOwnProperty("Unicode")?L+=k[S]:L+="";var E="";return parseInt(P.slice(1))<14||A==="WinAnsiEncoding"?E=b(L,P).split("").map((function(U){return U.charCodeAt(0).toString(16)})).join(""):A==="Identity-H"&&(E=t(L,C[P])),_.isHex=!0,{text:E,x:d,y:p,options:y,mutex:_}};e.events.push(["postProcessText",function(o){var c=o.text||"",f=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?f.push([l(Object.assign({},d,{text:c[p][0]})).text,c[p][1],c[p][2]]):f.push(l(Object.assign({},d,{text:c[p]})).text);o.text=f}else o.text=l(Object.assign({},d,{text:c})).text}])})(jt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(jt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var l,o,c,f,d,p,y,_=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,A=0;this.__bidiEngine__={};var E=function(F){var R=F.charCodeAt(),ee=R>>8,G=P[ee];return G!==void 0?_[256*G+(255&R)]:ee===252||ee===253?"AL":S.test(ee)?"L":ee===8?"R":"N"},U=function(F){for(var R,ee=0;ee<F.length;ee++){if((R=E(F.charAt(ee)))==="L")return!1;if(R==="R")return!0}return!1},Z=function(F,R,ee,G){var ue,$,X,O,W=R[G];switch(W){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(W="AN");break;case"AL":k=!0,W="R";break;case"WS":W="N";break;case"CS":G<1||G+1>=R.length||(ue=ee[G-1])!=="EN"&&ue!=="AN"||($=R[G+1])!=="EN"&&$!=="AN"?W="N":k&&($="AN"),W=$===ue?$:"N";break;case"ES":W=(ue=G>0?ee[G-1]:"B")==="EN"&&G+1<R.length&&R[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&ee[G-1]==="EN"){W="EN";break}if(k){W="N";break}for(X=G+1,O=R.length;X<O&&R[X]==="ET";)X++;W=X<O&&R[X]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(O=R.length,X=G+1;X<O&&R[X]==="NSM";)X++;if(X<O){var V=F[G],D=V>=1425&&V<=2303||V===64286;if(ue=R[X],D&&(ue==="R"||ue==="AL")){W="R";break}}}W=G<1||(ue=R[G-1])==="B"?"N":ee[G-1];break;case"B":k=!1,l=!0,W=A;break;case"S":o=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":W="N"}return W},q=function(F,R,ee){var G=F.split("");return ee&&B(G,ee,{hiLevel:A}),G.reverse(),R&&R.reverse(),G.join("")},B=function(F,R,ee){var G,ue,$,X,O,W=-1,V=F.length,D=0,N=[],M=A?v:b,Q=[];for(k=!1,l=!1,o=!1,ue=0;ue<V;ue++)Q[ue]=E(F[ue]);for($=0;$<V;$++){if(O=D,N[$]=Z(F,Q,N,$),G=240&(D=M[O][C[N[$]]]),D&=15,R[$]=X=M[D][5],G>0)if(G===16){for(ue=W;ue<$;ue++)R[ue]=1;W=-1}else W=-1;if(M[D][6])W===-1&&(W=$);else if(W>-1){for(ue=W;ue<$;ue++)R[ue]=X;W=-1}Q[$]==="B"&&(R[$]=0),ee.hiLevel|=X}o&&(function(ie,oe,ve){for(var ge=0;ge<ve;ge++)if(ie[ge]==="S"){oe[ge]=A;for(var ke=ge-1;ke>=0&&ie[ke]==="WS";ke--)oe[ke]=A}})(Q,R,V)},te=function(F,R,ee,G,ue){if(!(ue.hiLevel<F)){if(F===1&&A===1&&!l)return R.reverse(),void(ee&&ee.reverse());for(var $,X,O,W,V=R.length,D=0;D<V;){if(G[D]>=F){for(O=D+1;O<V&&G[O]>=F;)O++;for(W=D,X=O-1;W<X;W++,X--)$=R[W],R[W]=R[X],R[X]=$,ee&&($=ee[W],ee[W]=ee[X],ee[X]=$);D=O}D++}}},le=function(F,R,ee){var G=F.split(""),ue={hiLevel:A};return ee||(ee=[]),B(G,ee,ue),(function($,X,O){if(O.hiLevel!==0&&y)for(var W,V=0;V<$.length;V++)X[V]===1&&(W=L.indexOf($[V]))>=0&&($[V]=L[W+1])})(G,ee,ue),te(2,G,R,ee,ue),te(1,G,R,ee,ue),G.join("")};return this.__bidiEngine__.doBidiReorder=function(F,R,ee){if((function(ue,$){if($)for(var X=0;X<ue.length;X++)$[X]=X;f===void 0&&(f=U(ue)),p===void 0&&(p=U(ue))})(F,R),c||!d||p)if(c&&d&&f^p)A=f?1:0,F=q(F,R,ee);else if(!c&&d&&p)A=f?1:0,F=le(F,R,ee),F=q(F,R);else if(!c||f||d||p){if(c&&!d&&f^p)F=q(F,R),f?(A=0,F=le(F,R,ee)):(A=1,F=le(F,R,ee),F=q(F,R));else if(c&&f&&!d&&p)A=1,F=le(F,R,ee),F=q(F,R);else if(!c&&!d&&f^p){var G=y;f?(A=1,F=le(F,R,ee),A=0,y=!1,F=le(F,R,ee),y=G):(A=0,F=le(F,R,ee),F=q(F,R),A=1,y=!1,F=le(F,R,ee),y=G,F=q(F,R))}}else A=0,F=le(F,R,ee);else A=f?1:0,F=le(F,R,ee);return F},this.__bidiEngine__.setOptions=function(F){F&&(c=F.isInputVisual,d=F.isOutputVisual,f=F.isInputRtl,p=F.isOutputRtl,y=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var l=s.text,o=(s.x,s.y,s.options||{}),c=(s.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(l)==="[object Array]"){var f=0;for(c=[],f=0;f<l.length;f+=1)Object.prototype.toString.call(l[f])==="[object Array]"?c.push([t.doBidiReorder(l[f][0]),l[f][1],l[f][2]]):c.push([t.doBidiReorder(l[f])]);s.text=c}else s.text=t.doBidiReorder(l);t.setOptions({isInputVisual:!0})}])})(jt),jt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Fl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new BS(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new NS(this.contents),this.head=new CS(this),this.name=new TS(this),this.cmap=new i0(this),this.toUnicode={},this.hhea=new LS(this),this.maxp=new OS(this),this.hmtx=new IS(this),this.post=new PS(this),this.os2=new AS(this),this.loca=new MS(this),this.glyf=new DS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,l,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,d,p;for(p=[],c=0,f=(d=this.bbox).length;c<f;c++)e=d[c],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(s=255&(l=this.post.italic_angle),(32768&(t=l>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var l,o,c,f;for(c=0,o=0,f=(e=""+e).length;0<=f?o<f:o>f;o=0<=f?++o:--o)l=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(l))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var da,Fl=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,l;for(l=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)l.push(this.writeByte(e.charCodeAt(t)));return l},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,l,o,c,f,d;return e=this.readByte(),t=this.readByte(),s=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),f=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^l)+16777216*(255^o)+65536*(255^c)+256*(255^f)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*l+16777216*o+65536*c+256*f+d},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,l,o;for(o=[],s=0,l=e.length;s<l;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),NS=(function(){var n;function e(t){var s,l,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},l=0,o=this.tableCount;0<=o?l<o:l>o;l=0<=o?++l:--l)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,l,o,c,f,d,p,y,_,b,v,C,P;for(P in v=Object.keys(t).length,d=Math.log(2),_=16*Math.floor(Math.log(v)/d),c=Math.floor(_/d),y=16*v-_,(l=new Fl).writeInt(this.scalarType),l.writeShort(v),l.writeShort(_),l.writeShort(c),l.writeShort(y),o=16*v,p=l.pos+o,f=null,C=[],t)for(b=t[P],l.writeString(P),l.writeInt(n(b)),l.writeInt(p),l.writeInt(b.length),C=C.concat(b),P==="head"&&(f=p),p+=b.length;p%4;)C.push(0),p++;return l.write(C),s=2981146554-n(l.data),l.pos=f+8,l.writeUInt32(s),l.data},n=function(t){var s,l,o,c;for(t=a0.call(t);t.length%4;)t.push(0);for(o=new Fl(t),l=0,s=0,c=t.length;s<c;s=s+=4)l+=o.readUInt32();return 4294967295&l},e})(),SS={}.hasOwnProperty,Wa=function(n,e){for(var t in e)SS.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};da=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var CS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Fl).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e})(),P1=(function(){function n(e,t){var s,l,o,c,f,d,p,y,_,b,v,C,P,L,S,k,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(v=e.readUInt16(),b=v/2,e.pos+=6,o=(function(){var E,U;for(U=[],d=E=0;0<=b?E<b:E>b;d=0<=b?++E:--E)U.push(e.readUInt16());return U})(),e.pos+=2,P=(function(){var E,U;for(U=[],d=E=0;0<=b?E<b:E>b;d=0<=b?++E:--E)U.push(e.readUInt16());return U})(),p=(function(){var E,U;for(U=[],d=E=0;0<=b?E<b:E>b;d=0<=b?++E:--E)U.push(e.readUInt16());return U})(),y=(function(){var E,U;for(U=[],d=E=0;0<=b?E<b:E>b;d=0<=b?++E:--E)U.push(e.readUInt16());return U})(),l=(this.length-e.pos+this.offset)/2,f=(function(){var E,U;for(U=[],d=E=0;0<=l?E<l:E>l;d=0<=l?++E:--E)U.push(e.readUInt16());return U})(),d=S=0,A=o.length;S<A;d=++S)for(L=o[d],s=k=C=P[d];C<=L?k<=L:k>=L;s=C<=L?++k:--k)y[d]===0?c=s+p[d]:(c=f[y[d]/2+(s-C)-(b-d)]||0)!==0&&(c+=p[d]),this.codeMap[s]=65535&c}e.pos=_}return n.encode=function(e,t){var s,l,o,c,f,d,p,y,_,b,v,C,P,L,S,k,A,E,U,Z,q,B,te,le,F,R,ee,G,ue,$,X,O,W,V,D,N,M,Q,ie,oe,ve,ge,ke,$e,He,Ue;switch(G=new Fl,c=Object.keys(e).sort((function(me,pe){return me-pe})),t){case"macroman":for(P=0,L=(function(){var me=[];for(C=0;C<256;++C)me.push(0);return me})(),k={0:0},o={},ue=0,W=c.length;ue<W;ue++)k[ke=e[l=c[ue]]]==null&&(k[ke]=++P),o[l]={old:e[l],new:k[e[l]]},L[l]=k[e[l]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(L),{charMap:o,subtable:G.data,maxGlyphID:P+1};case"unicode":for(R=[],_=[],A=0,k={},s={},S=p=null,$=0,V=c.length;$<V;$++)k[U=e[l=c[$]]]==null&&(k[U]=++A),s[l]={old:U,new:k[U]},f=k[U]-l,S!=null&&f===p||(S&&_.push(S),R.push(l),p=f),S=l;for(S&&_.push(S),_.push(65535),R.push(65535),le=2*(te=R.length),B=2*Math.pow(Math.log(te)/Math.LN2,2),b=Math.log(B/2)/Math.LN2,q=2*te-B,d=[],Z=[],v=[],C=X=0,D=R.length;X<D;C=++X){if(F=R[C],y=_[C],F===65535){d.push(0),Z.push(0);break}if(F-(ee=s[F].new)>=32768)for(d.push(0),Z.push(2*(v.length+te-C)),l=O=F;F<=y?O<=y:O>=y;l=F<=y?++O:--O)v.push(s[l].new);else d.push(ee-F),Z.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*te+2*v.length),G.writeUInt16(0),G.writeUInt16(le),G.writeUInt16(B),G.writeUInt16(b),G.writeUInt16(q),ve=0,N=_.length;ve<N;ve++)l=_[ve],G.writeUInt16(l);for(G.writeUInt16(0),ge=0,M=R.length;ge<M;ge++)l=R[ge],G.writeUInt16(l);for($e=0,Q=d.length;$e<Q;$e++)f=d[$e],G.writeUInt16(f);for(He=0,ie=Z.length;He<ie;He++)E=Z[He],G.writeUInt16(E);for(Ue=0,oe=v.length;Ue<oe;Ue++)P=v[Ue],G.writeUInt16(P);return{charMap:s,subtable:G.data,maxGlyphID:A+1}}},n})(),i0=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,l,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)s=new P1(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var l,o;return s==null&&(s="macroman"),l=P1.encode(t,s),(o=new Fl).writeUInt16(0),o.writeUInt16(1),l.table=o.data.concat(l.subtable),l},e})(),LS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),AS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var s,l;for(l=[],s=0;s<10;++s)l.push(t.readByte());return l})(),this.charRange=(function(){var s,l;for(l=[],s=0;s<4;++s)l.push(t.readInt());return l})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var s,l;for(l=[],s=0;s<2;s=++s)l.push(t.readInt());return l})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),PS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="post",e.prototype.parse=function(t){var s,l,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var c;for(l=t.readUInt16(),this.glyphNameIndex=[],c=0;0<=l?c<l:c>l;c=0<=l?++c:--c)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)s=t.readByte(),o.push(this.names.push(t.readString(s)));return o;case 151552:return l=t.readUInt16(),this.offsets=t.read(l);case 196608:break;case 262144:return this.map=(function(){var f,d,p;for(p=[],c=f=0,d=this.file.maxp.numGlyphs;0<=d?f<d:f>d;c=0<=d?++f:--f)p.push(t.readUInt32());return p}).call(this)}},e})(),ES=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="name",e.prototype.parse=function(t){var s,l,o,c,f,d,p,y,_,b,v;for(t.pos=this.offset,t.readShort(),s=t.readShort(),d=t.readShort(),l=[],c=0;0<=s?c<s:c>s;c=0<=s?++c:--c)l.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(p={},c=_=0,b=l.length;_<b;c=++_)o=l[c],t.pos=o.offset,y=t.readString(o.length),f=new ES(y,o),p[v=o.nameID]==null&&(p[v]=[]),p[o.nameID].push(f);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e})(),OS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),IS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,l,o,c,f,d,p;for(t.pos=this.offset,this.metrics=[],s=0,d=this.file.hhea.numberOfMetrics;0<=d?s<d:s>d;s=0<=d?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var y,_;for(_=[],s=y=0;0<=o?y<o:y>o;s=0<=o?++y:--y)_.push(t.readInt16());return _})(),this.widths=(function(){var y,_,b,v;for(v=[],y=0,_=(b=this.metrics).length;y<_;y++)c=b[y],v.push(c.advance);return v}).call(this),l=this.widths[this.widths.length-1],p=[],s=f=0;0<=o?f<o:f>o;s=0<=o?++f:--f)p.push(this.widths.push(l));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),a0=[].slice,DS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,l,o,c,f,d,p,y,_,b;return t in this.cache?this.cache[t]:(c=this.file.loca,s=this.file.contents,l=c.indexOf(t),(o=c.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+l,f=(d=new Fl(s.read(o))).readShort(),y=d.readShort(),b=d.readShort(),p=d.readShort(),_=d.readShort(),this.cache[t]=f===-1?new FS(d,y,b,p,_):new RS(d,f,y,b,p,_),this.cache[t]))},e.prototype.encode=function(t,s,l){var o,c,f,d,p;for(f=[],c=[],d=0,p=s.length;d<p;d++)o=t[s[d]],c.push(f.length),o&&(f=f.concat(o.encode(l)));return c.push(f.length),{table:f,offsets:c}},e})(),RS=(function(){function n(e,t,s,l,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=l,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),FS=(function(){function n(e,t,s,l,o){var c,f;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=l,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new Fl(a0.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),MS=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,da),e.prototype.tag="loca",e.prototype.parse=function(t){var s,l;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,c;for(c=[],l=0,o=this.length;l<o;l+=2)c.push(2*t.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],l=0,o=this.length;l<o;l+=4)c.push(t.readUInt32());return c}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var l=new Uint32Array(this.offsets.length),o=0,c=0,f=0;f<l.length;++f)if(l[f]=o,c<s.length&&s[c]==f){++c,l[f]=o;var d=this.offsets[f],p=this.offsets[f+1]-d;p>0&&(o+=p)}for(var y=new Array(4*l.length),_=0;_<l.length;++_)y[4*_+3]=255&l[_],y[4*_+2]=(65280&l[_])>>8,y[4*_+1]=(16711680&l[_])>>16,y[4*_]=(4278190080&l[_])>>24;return y},e})(),BS=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,l,o;for(t in l=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=l[s];return e},n.prototype.glyphsFor=function(e){var t,s,l,o,c,f,d;for(l={},c=0,f=e.length;c<f;c++)l[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],l)(s=l[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))s=d[o],l[o]=s;return l},n.prototype.encode=function(e,t){var s,l,o,c,f,d,p,y,_,b,v,C,P,L,S;for(l in s=i0.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),v={0:0},S=s.charMap)v[(d=S[l]).old]=d.new;for(C in b=s.maxGlyphID,c)C in v||(v[C]=b++);return y=(function(k){var A,E;for(A in E={},k)E[k[A]]=A;return E})(v),_=Object.keys(y).sort((function(k,A){return k-A})),P=(function(){var k,A,E;for(E=[],k=0,A=_.length;k<A;k++)f=_[k],E.push(y[f]);return E})(),o=this.font.glyf.encode(c,P,v),p=this.font.loca.encode(o.offsets,P),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},n})();jt.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,l,o,c;if(Array.isArray(t))return"["+(function(){var f,d,p;for(p=[],f=0,d=t.length;f<d;f++)s=t[f],p.push(e.convert(s));return p})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(l in o=["<<"],t)c=t[l],o.push("/"+l+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const $S=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:vS,AcroFormAppearance:dt,AcroFormButton:kr,AcroFormCheckBox:hd,AcroFormChoiceField:Cc,AcroFormComboBox:Ac,AcroFormEditBox:ud,AcroFormListBox:Lc,AcroFormPasswordField:fd,AcroFormPushButton:dd,AcroFormRadioButton:Pc,AcroFormTextField:Ol,GState:Nd,ShadingPattern:Pl,TilingPattern:Sc,default:jt,jsPDF:jt},Symbol.toStringTag,{value:"Module"}));var Oh={exports:{}};const qS=$0($S);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var E1=Oh.exports,T1;function zS(){return T1||(T1=1,(function(n,e){(function(s,l){n.exports=l((function(){try{return qS}catch{}})())})(typeof globalThis<"u"?globalThis:typeof E1<"u"?E1:typeof window<"u"?window:typeof self<"u"?self:B0,function(t){return(function(){var s={172:(function(f,d){var p=this&&this.__extends||(function(){var b=function(v,C){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(P[S]=L[S])},b(v,C)};return function(v,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");b(v,C);function P(){this.constructor=v}v.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}})();Object.defineProperty(d,"__esModule",{value:!0}),d.CellHookData=d.HookData=void 0;var y=(function(){function b(v,C,P){this.table=C,this.pageNumber=C.pageNumber,this.pageCount=this.pageNumber,this.settings=C.settings,this.cursor=P,this.doc=v.getDocument()}return b})();d.HookData=y;var _=(function(b){p(v,b);function v(C,P,L,S,k,A){var E=b.call(this,C,P,A)||this;return E.cell=L,E.row=S,E.column=k,E.section=S.section,E}return v})(y);d.CellHookData=_}),340:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0});var y=p(4),_=p(136),b=p(744),v=p(776),C=p(664),P=p(972);function L(S){S.API.autoTable=function(){for(var k=[],A=0;A<arguments.length;A++)k[A]=arguments[A];var E;k.length===1?E=k[0]:(console.error("Use of deprecated autoTable initiation"),E=k[2]||{},E.columns=k[0],E.body=k[1]);var U=(0,v.parseInput)(this,E),Z=(0,P.createTable)(this,U);return(0,C.drawTable)(this,Z),this},S.API.lastAutoTable=!1,S.API.previousAutoTable=!1,S.API.autoTable.previous=!1,S.API.autoTableText=function(k,A,E,U){(0,_.default)(k,A,E,U,this)},S.API.autoTableSetDefaults=function(k){return b.DocHandler.setDefaults(k,this),this},S.autoTableSetDefaults=function(k,A){b.DocHandler.setDefaults(k,A)},S.API.autoTableHtmlToJson=function(k,A){var E;if(A===void 0&&(A=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var U=new b.DocHandler(this),Z=(0,y.parseHtml)(U,k,window,A,!1),q=Z.head,B=Z.body,te=((E=q[0])===null||E===void 0?void 0:E.map(function(le){return le.content}))||[];return{columns:te,rows:B,data:B}},S.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var k=this.lastAutoTable;return k&&k.finalY?k.finalY:0},S.API.autoTableAddPageContent=function(k){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),S.API.autoTable.globalDefaults||(S.API.autoTable.globalDefaults={}),S.API.autoTable.globalDefaults.addPageContent=k,this},S.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}d.default=L}),136:(function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(y,_,b,v,C){v=v||{};var P=1.15,L=C.internal.scaleFactor,S=C.internal.getFontSize()/L,k=C.getLineHeightFactor?C.getLineHeightFactor():P,A=S*k,E=/\r\n|\r|\n/g,U="",Z=1;if((v.valign==="middle"||v.valign==="bottom"||v.halign==="center"||v.halign==="right")&&(U=typeof y=="string"?y.split(E):y,Z=U.length||1),b+=S*(2-P),v.valign==="middle"?b-=Z/2*A:v.valign==="bottom"&&(b-=Z*A),v.halign==="center"||v.halign==="right"){var q=S;if(v.halign==="center"&&(q*=.5),U&&Z>=1){for(var B=0;B<U.length;B++)C.text(U[B],_-C.getStringUnitWidth(U[B])*q,b),b+=A;return C}_-=C.getStringUnitWidth(y)*q}return v.halign==="justify"?C.text(y,_,b,{maxWidth:v.maxWidth||100,align:"justify"}):C.text(y,_,b),C}d.default=p}),420:(function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getPageAvailableWidth=d.parseSpacing=d.getFillStyle=d.addTableBorder=d.getStringWidth=void 0;function p(C,P,L){L.applyStyles(P,!0);var S=Array.isArray(C)?C:[C],k=S.map(function(A){return L.getTextWidth(A)}).reduce(function(A,E){return Math.max(A,E)},0);return k}d.getStringWidth=p;function y(C,P,L,S){var k=P.settings.tableLineWidth,A=P.settings.tableLineColor;C.applyStyles({lineWidth:k,lineColor:A});var E=_(k,!1);E&&C.rect(L.x,L.y,P.getWidth(C.pageSize().width),S.y-L.y,E)}d.addTableBorder=y;function _(C,P){var L=C>0,S=P||P===0;return L&&S?"DF":L?"S":S?"F":null}d.getFillStyle=_;function b(C,P){var L,S,k,A;if(C=C||P,Array.isArray(C)){if(C.length>=4)return{top:C[0],right:C[1],bottom:C[2],left:C[3]};if(C.length===3)return{top:C[0],right:C[1],bottom:C[2],left:C[1]};if(C.length===2)return{top:C[0],right:C[1],bottom:C[0],left:C[1]};C.length===1?C=C[0]:C=P}return typeof C=="object"?(typeof C.vertical=="number"&&(C.top=C.vertical,C.bottom=C.vertical),typeof C.horizontal=="number"&&(C.right=C.horizontal,C.left=C.horizontal),{left:(L=C.left)!==null&&L!==void 0?L:P,top:(S=C.top)!==null&&S!==void 0?S:P,right:(k=C.right)!==null&&k!==void 0?k:P,bottom:(A=C.bottom)!==null&&A!==void 0?A:P}):(typeof C!="number"&&(C=P),{top:C,right:C,bottom:C,left:C})}d.parseSpacing=b;function v(C,P){var L=b(P.settings.margin,0);return C.pageSize().width-(L.left+L.right)}d.getPageAvailableWidth=v}),796:(function(f,d){var p=this&&this.__extends||(function(){var v=function(C,P){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,S){L.__proto__=S}||function(L,S){for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(L[k]=S[k])},v(C,P)};return function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");v(C,P);function L(){this.constructor=C}C.prototype=P===null?Object.create(P):(L.prototype=P.prototype,new L)}})();Object.defineProperty(d,"__esModule",{value:!0}),d.getTheme=d.defaultStyles=d.HtmlRowInput=void 0;var y=(function(v){p(C,v);function C(P){var L=v.call(this)||this;return L._element=P,L}return C})(Array);d.HtmlRowInput=y;function _(v){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/v,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}d.defaultStyles=_;function b(v){var C={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return C[v]}d.getTheme=b}),903:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseCss=void 0;var y=p(420);function _(L,S,k,A,E){var U={},Z=1.3333333333333333,q=v(S,function(W){return E.getComputedStyle(W).backgroundColor});q!=null&&(U.fillColor=q);var B=v(S,function(W){return E.getComputedStyle(W).color});B!=null&&(U.textColor=B);var te=P(A,k);te&&(U.cellPadding=te);var le="borderTopColor",F=Z*k,R=A.borderTopWidth;if(A.borderBottomWidth===R&&A.borderRightWidth===R&&A.borderLeftWidth===R){var ee=(parseFloat(R)||0)/F;ee&&(U.lineWidth=ee)}else U.lineWidth={top:(parseFloat(A.borderTopWidth)||0)/F,right:(parseFloat(A.borderRightWidth)||0)/F,bottom:(parseFloat(A.borderBottomWidth)||0)/F,left:(parseFloat(A.borderLeftWidth)||0)/F},U.lineWidth.top||(U.lineWidth.right?le="borderRightColor":U.lineWidth.bottom?le="borderBottomColor":U.lineWidth.left&&(le="borderLeftColor"));var G=v(S,function(W){return E.getComputedStyle(W)[le]});G!=null&&(U.lineColor=G);var ue=["left","right","center","justify"];ue.indexOf(A.textAlign)!==-1&&(U.halign=A.textAlign),ue=["middle","bottom","top"],ue.indexOf(A.verticalAlign)!==-1&&(U.valign=A.verticalAlign);var $=parseInt(A.fontSize||"");isNaN($)||(U.fontSize=$/Z);var X=b(A);X&&(U.fontStyle=X);var O=(A.fontFamily||"").toLowerCase();return L.indexOf(O)!==-1&&(U.font=O),U}d.parseCss=_;function b(L){var S="";return(L.fontWeight==="bold"||L.fontWeight==="bolder"||parseInt(L.fontWeight)>=700)&&(S="bold"),(L.fontStyle==="italic"||L.fontStyle==="oblique")&&(S+="italic"),S}function v(L,S){var k=C(L,S);if(!k)return null;var A=k.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!A||!Array.isArray(A))return null;var E=[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])],U=parseInt(A[4]);return U===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function C(L,S){var k=S(L);return k==="rgba(0, 0, 0, 0)"||k==="transparent"||k==="initial"||k==="inherit"?L.parentElement==null?null:C(L.parentElement,S):k}function P(L,S){var k=[L.paddingTop,L.paddingRight,L.paddingBottom,L.paddingLeft],A=96/(72/S),E=(parseInt(L.lineHeight)-parseInt(L.fontSize))/S/2,U=k.map(function(q){return parseInt(q||"0")/A}),Z=(0,y.parseSpacing)(U,0);return E>Z.top&&(Z.top=E),E>Z.bottom&&(Z.bottom=E),Z}}),744:(function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.DocHandler=void 0;var p={},y=(function(){function _(b){this.jsPDFDocument=b,this.userStyles={textColor:b.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:b.internal.getFontSize(),fontStyle:b.internal.getFont().fontStyle,font:b.internal.getFont().fontName,lineWidth:b.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:b.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return _.setDefaults=function(b,v){v===void 0&&(v=null),v?v.__autoTableDocumentDefaults=b:p=b},_.unifyColor=function(b){return Array.isArray(b)?b:typeof b=="number"?[b,b,b]:typeof b=="string"?[b]:null},_.prototype.applyStyles=function(b,v){var C,P,L;v===void 0&&(v=!1),b.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(b.fontStyle);var S=this.jsPDFDocument.internal.getFont(),k=S.fontStyle,A=S.fontName;if(b.font&&(A=b.font),b.fontStyle){k=b.fontStyle;var E=this.getFontList()[A];E&&E.indexOf(k)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),k=E[0])}if(this.jsPDFDocument.setFont(A,k),b.fontSize&&this.jsPDFDocument.setFontSize(b.fontSize),!v){var U=_.unifyColor(b.fillColor);U&&(C=this.jsPDFDocument).setFillColor.apply(C,U),U=_.unifyColor(b.textColor),U&&(P=this.jsPDFDocument).setTextColor.apply(P,U),U=_.unifyColor(b.lineColor),U&&(L=this.jsPDFDocument).setDrawColor.apply(L,U),typeof b.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(b.lineWidth)}},_.prototype.splitTextToSize=function(b,v,C){return this.jsPDFDocument.splitTextToSize(b,v,C)},_.prototype.rect=function(b,v,C,P,L){return this.jsPDFDocument.rect(b,v,C,P,L)},_.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},_.prototype.getTextWidth=function(b){return this.jsPDFDocument.getTextWidth(b)},_.prototype.getDocument=function(){return this.jsPDFDocument},_.prototype.setPage=function(b){this.jsPDFDocument.setPage(b)},_.prototype.addPage=function(){return this.jsPDFDocument.addPage()},_.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},_.prototype.getGlobalOptions=function(){return p||{}},_.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},_.prototype.pageSize=function(){var b=this.jsPDFDocument.internal.pageSize;return b.width==null&&(b={width:b.getWidth(),height:b.getHeight()}),b},_.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},_.prototype.getLineHeightFactor=function(){var b=this.jsPDFDocument;return b.getLineHeightFactor?b.getLineHeightFactor():1.15},_.prototype.getLineHeight=function(b){return b/this.scaleFactor()*this.getLineHeightFactor()},_.prototype.pageNumber=function(){var b=this.jsPDFDocument.internal.getCurrentPageInfo();return b?b.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},_})();d.DocHandler=y}),4:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseHtml=void 0;var y=p(903),_=p(796);function b(P,L,S,k,A){var E,U;k===void 0&&(k=!1),A===void 0&&(A=!1);var Z;typeof L=="string"?Z=S.document.querySelector(L):Z=L;var q=Object.keys(P.getFontList()),B=P.scaleFactor(),te=[],le=[],F=[];if(!Z)return console.error("Html table could not be found with input: ",L),{head:te,body:le,foot:F};for(var R=0;R<Z.rows.length;R++){var ee=Z.rows[R],G=(U=(E=ee==null?void 0:ee.parentElement)===null||E===void 0?void 0:E.tagName)===null||U===void 0?void 0:U.toLowerCase(),ue=v(q,B,S,ee,k,A);ue&&(G==="thead"?te.push(ue):G==="tfoot"?F.push(ue):le.push(ue))}return{head:te,body:le,foot:F}}d.parseHtml=b;function v(P,L,S,k,A,E){for(var U=new _.HtmlRowInput(k),Z=0;Z<k.cells.length;Z++){var q=k.cells[Z],B=S.getComputedStyle(q);if(A||B.display!=="none"){var te=void 0;E&&(te=(0,y.parseCss)(P,q,L,B,S)),U.push({rowSpan:q.rowSpan,colSpan:q.colSpan,styles:te,_element:q,content:C(q)})}}var le=S.getComputedStyle(k);if(U.length>0&&(A||le.display!=="none"))return U}function C(P){var L=P.cloneNode(!0);return L.innerHTML=L.innerHTML.replace(/\n/g,"").replace(/ +/g," "),L.innerHTML=L.innerHTML.split(/<br.*?>/).map(function(S){return S.trim()}).join(`
`),L.innerText||L.textContent||""}}),776:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseInput=void 0;var y=p(4),_=p(356),b=p(420),v=p(744),C=p(792);function P(Z,q){var B=new v.DocHandler(Z),te=B.getDocumentOptions(),le=B.getGlobalOptions();(0,C.default)(B,le,te,q);var F=(0,_.assign)({},le,te,q),R;typeof window<"u"&&(R=window);var ee=L(le,te,q),G=S(le,te,q),ue=k(B,F),$=E(B,F,R);return{id:q.tableId,content:$,hooks:G,styles:ee,settings:ue}}d.parseInput=P;function L(Z,q,B){for(var te={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},le=function(G){if(G==="columnStyles"){var ue=Z[G],$=q[G],X=B[G];te.columnStyles=(0,_.assign)({},ue,$,X)}else{var O=[Z,q,B],W=O.map(function(V){return V[G]||{}});te[G]=(0,_.assign)({},W[0],W[1],W[2])}},F=0,R=Object.keys(te);F<R.length;F++){var ee=R[F];le(ee)}return te}function S(Z,q,B){for(var te=[Z,q,B],le={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},F=0,R=te;F<R.length;F++){var ee=R[F];ee.didParseCell&&le.didParseCell.push(ee.didParseCell),ee.willDrawCell&&le.willDrawCell.push(ee.willDrawCell),ee.didDrawCell&&le.didDrawCell.push(ee.didDrawCell),ee.willDrawPage&&le.willDrawPage.push(ee.willDrawPage),ee.didDrawPage&&le.didDrawPage.push(ee.didDrawPage)}return le}function k(Z,q){var B,te,le,F,R,ee,G,ue,$,X,O,W,V=(0,b.parseSpacing)(q.margin,40/Z.scaleFactor()),D=(B=A(Z,q.startY))!==null&&B!==void 0?B:V.top,N;q.showFoot===!0?N="everyPage":q.showFoot===!1?N="never":N=(te=q.showFoot)!==null&&te!==void 0?te:"everyPage";var M;q.showHead===!0?M="everyPage":q.showHead===!1?M="never":M=(le=q.showHead)!==null&&le!==void 0?le:"everyPage";var Q=(F=q.useCss)!==null&&F!==void 0?F:!1,ie=q.theme||(Q?"plain":"striped"),oe=!!q.horizontalPageBreak,ve=(R=q.horizontalPageBreakRepeat)!==null&&R!==void 0?R:null;return{includeHiddenHtml:(ee=q.includeHiddenHtml)!==null&&ee!==void 0?ee:!1,useCss:Q,theme:ie,startY:D,margin:V,pageBreak:(G=q.pageBreak)!==null&&G!==void 0?G:"auto",rowPageBreak:(ue=q.rowPageBreak)!==null&&ue!==void 0?ue:"auto",tableWidth:($=q.tableWidth)!==null&&$!==void 0?$:"auto",showHead:M,showFoot:N,tableLineWidth:(X=q.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(O=q.tableLineColor)!==null&&O!==void 0?O:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:ve,horizontalPageBreakBehaviour:(W=q.horizontalPageBreakBehaviour)!==null&&W!==void 0?W:"afterAllRows"}}function A(Z,q){var B=Z.getLastAutoTable(),te=Z.scaleFactor(),le=Z.pageNumber(),F=!1;if(B&&B.startPageNumber){var R=B.startPageNumber+B.pageNumber-1;F=R===le}return typeof q=="number"?q:(q==null||q===!1)&&F&&(B==null?void 0:B.finalY)!=null?B.finalY+20/te:null}function E(Z,q,B){var te=q.head||[],le=q.body||[],F=q.foot||[];if(q.html){var R=q.includeHiddenHtml;if(B){var ee=(0,y.parseHtml)(Z,q.html,B,R,q.useCss)||{};te=ee.head||te,le=ee.body||te,F=ee.foot||te}else console.error("Cannot parse html in non browser environment")}var G=q.columns||U(te,le,F);return{columns:G,head:te,body:le,foot:F}}function U(Z,q,B){var te=Z[0]||q[0]||B[0]||[],le=[];return Object.keys(te).filter(function(F){return F!=="_element"}).forEach(function(F){var R=1,ee;Array.isArray(te)?ee=te[parseInt(F)]:ee=te[F],typeof ee=="object"&&!Array.isArray(ee)&&(R=(ee==null?void 0:ee.colSpan)||1);for(var G=0;G<R;G++){var ue=void 0;Array.isArray(te)?ue=le.length:ue=F+(G>0?"_".concat(G):"");var $={dataKey:ue};le.push($)}}),le}}),792:(function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(_,b,v,C){for(var P=function(A){A&&typeof A!="object"&&console.error("The options parameter should be of type object, is: "+typeof A),typeof A.extendWidth<"u"&&(A.tableWidth=A.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof A.margins<"u"&&(typeof A.margin>"u"&&(A.margin=A.margins),console.error("Use of deprecated option: margins, use margin instead.")),A.startY&&typeof A.startY!="number"&&(console.error("Invalid value for startY option",A.startY),delete A.startY),!A.didDrawPage&&(A.afterPageContent||A.beforePageContent||A.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),A.didDrawPage=function(F){_.applyStyles(_.userStyles),A.beforePageContent&&A.beforePageContent(F),_.applyStyles(_.userStyles),A.afterPageContent&&A.afterPageContent(F),_.applyStyles(_.userStyles),A.afterPageAdd&&F.pageNumber>1&&F.afterPageAdd(F),_.applyStyles(_.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(F){A[F]&&console.error('The "'.concat(F,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(F){var R=F[0],ee=F[1];A[ee]&&(console.error("Use of deprecated option ".concat(ee,". Use ").concat(R," instead")),A[R]=A[ee])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(F){var R=typeof F=="string"?F:F[0],ee=typeof F=="string"?F:F[1];typeof A[R]<"u"&&(typeof A.styles[ee]>"u"&&(A.styles[ee]=A[R]),console.error("Use of deprecated option: "+R+", use the style "+ee+" instead."))});for(var E=0,U=["styles","bodyStyles","headStyles","footStyles"];E<U.length;E++){var Z=U[E];y(A[Z]||{})}for(var q=A.columnStyles||{},B=0,te=Object.keys(q);B<te.length;B++){var le=te[B];y(q[le]||{})}},L=0,S=[b,v,C];L<S.length;L++){var k=S[L];P(k)}}d.default=p;function y(_){_.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),_.minCellHeight||(_.minCellHeight=_.rowHeight)):_.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),_.cellWidth||(_.cellWidth=_.columnWidth))}}),260:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.Column=d.Cell=d.Row=d.Table=void 0;var y=p(796),_=p(172),b=p(420),v=(function(){function S(k,A){this.pageNumber=1,this.pageCount=1,this.id=k.id,this.settings=k.settings,this.styles=k.styles,this.hooks=k.hooks,this.columns=A.columns,this.head=A.head,this.body=A.body,this.foot=A.foot}return S.prototype.getHeadHeight=function(k){return this.head.reduce(function(A,E){return A+E.getMaxCellHeight(k)},0)},S.prototype.getFootHeight=function(k){return this.foot.reduce(function(A,E){return A+E.getMaxCellHeight(k)},0)},S.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},S.prototype.callCellHooks=function(k,A,E,U,Z,q){for(var B=0,te=A;B<te.length;B++){var le=te[B],F=new _.CellHookData(k,this,E,U,Z,q),R=le(F)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],R)return!1}return!0},S.prototype.callEndPageHooks=function(k,A){k.applyStyles(k.userStyles);for(var E=0,U=this.hooks.didDrawPage;E<U.length;E++){var Z=U[E];Z(new _.HookData(k,this,A))}},S.prototype.callWillDrawPageHooks=function(k,A){for(var E=0,U=this.hooks.willDrawPage;E<U.length;E++){var Z=U[E];Z(new _.HookData(k,this,A))}},S.prototype.getWidth=function(k){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var A=this.columns.reduce(function(U,Z){return U+Z.wrappedWidth},0);return A}else{var E=this.settings.margin;return k-E.left-E.right}},S})();d.Table=v;var C=(function(){function S(k,A,E,U,Z){Z===void 0&&(Z=!1),this.height=0,this.raw=k,k instanceof y.HtmlRowInput&&(this.raw=k._element,this.element=k._element),this.index=A,this.section=E,this.cells=U,this.spansMultiplePages=Z}return S.prototype.getMaxCellHeight=function(k){var A=this;return k.reduce(function(E,U){var Z;return Math.max(E,((Z=A.cells[U.index])===null||Z===void 0?void 0:Z.height)||0)},0)},S.prototype.hasRowSpan=function(k){var A=this;return k.filter(function(E){var U=A.cells[E.index];return U?U.rowSpan>1:!1}).length>0},S.prototype.canEntireRowFit=function(k,A){return this.getMaxCellHeight(A)<=k},S.prototype.getMinimumRowHeight=function(k,A){var E=this;return k.reduce(function(U,Z){var q=E.cells[Z.index];if(!q)return 0;var B=A.getLineHeight(q.styles.fontSize),te=q.padding("vertical"),le=te+B;return le>U?le:U},0)},S})();d.Row=C;var P=(function(){function S(k,A,E){var U,Z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=A,this.section=E,this.raw=k;var q=k;k!=null&&typeof k=="object"&&!Array.isArray(k)?(this.rowSpan=k.rowSpan||1,this.colSpan=k.colSpan||1,q=(Z=(U=k.content)!==null&&U!==void 0?U:k.title)!==null&&Z!==void 0?Z:k,k._element&&(this.raw=k._element)):(this.rowSpan=1,this.colSpan=1);var B=q!=null?""+q:"",te=/\r\n|\r|\n/g;this.text=B.split(te)}return S.prototype.getTextPos=function(){var k;if(this.styles.valign==="top")k=this.y+this.padding("top");else if(this.styles.valign==="bottom")k=this.y+this.height-this.padding("bottom");else{var A=this.height-this.padding("vertical");k=this.y+A/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var U=this.width-this.padding("horizontal");E=this.x+U/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y:k}},S.prototype.getContentHeight=function(k,A){A===void 0&&(A=1.15);var E=Array.isArray(this.text)?this.text.length:1,U=this.styles.fontSize/k*A,Z=E*U+this.padding("vertical");return Math.max(Z,this.styles.minCellHeight)},S.prototype.padding=function(k){var A=(0,b.parseSpacing)(this.styles.cellPadding,0);return k==="vertical"?A.top+A.bottom:k==="horizontal"?A.left+A.right:A[k]},S})();d.Cell=P;var L=(function(){function S(k,A,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=k,this.raw=A,this.index=E}return S.prototype.getMaxCustomCellWidth=function(k){for(var A=0,E=0,U=k.allRows();E<U.length;E++){var Z=U[E],q=Z.cells[this.index];q&&typeof q.styles.cellWidth=="number"&&(A=Math.max(A,q.styles.cellWidth))}return A},S})();d.Column=L}),356:(function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.assign=void 0;function p(y,_,b,v,C){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var P=Object(y),L=1;L<arguments.length;L++){var S=arguments[L];if(S!=null)for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(P[k]=S[k])}return P}d.assign=p}),972:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.createTable=void 0;var y=p(744),_=p(260),b=p(324),v=p(796),C=p(356);function P(Z,q){var B=new y.DocHandler(Z),te=L(q,B.scaleFactor()),le=new _.Table(q,te);return(0,b.calculateWidths)(B,le),B.applyStyles(B.userStyles),le}d.createTable=P;function L(Z,q){var B=Z.content,te=E(B.columns);if(B.head.length===0){var le=k(te,"head");le&&B.head.push(le)}if(B.foot.length===0){var le=k(te,"foot");le&&B.foot.push(le)}var F=Z.settings.theme,R=Z.styles;return{columns:te,head:S("head",B.head,te,R,F,q),body:S("body",B.body,te,R,F,q),foot:S("foot",B.foot,te,R,F,q)}}function S(Z,q,B,te,le,F){var R={},ee=q.map(function(G,ue){for(var $=0,X={},O=0,W=0,V=0,D=B;V<D.length;V++){var N=D[V];if(R[N.index]==null||R[N.index].left===0)if(W===0){var M=void 0;Array.isArray(G)?M=G[N.index-O-$]:M=G[N.dataKey];var Q={};typeof M=="object"&&!Array.isArray(M)&&(Q=(M==null?void 0:M.styles)||{});var ie=U(Z,N,ue,le,te,F,Q),oe=new _.Cell(M,ie,Z);X[N.dataKey]=oe,X[N.index]=oe,W=oe.colSpan-1,R[N.index]={left:oe.rowSpan-1,times:W}}else W--,O++;else R[N.index].left--,W=R[N.index].times,$++}return new _.Row(G,ue,Z,X)});return ee}function k(Z,q){var B={};return Z.forEach(function(te){if(te.raw!=null){var le=A(q,te.raw);le!=null&&(B[te.dataKey]=le)}}),Object.keys(B).length>0?B:null}function A(Z,q){if(Z==="head"){if(typeof q=="object")return q.header||q.title||null;if(typeof q=="string"||typeof q=="number")return q}else if(Z==="foot"&&typeof q=="object")return q.footer;return null}function E(Z){return Z.map(function(q,B){var te,le,F;return typeof q=="object"?F=(le=(te=q.dataKey)!==null&&te!==void 0?te:q.key)!==null&&le!==void 0?le:B:F=B,new _.Column(F,q,B)})}function U(Z,q,B,te,le,F,R){var ee=(0,v.getTheme)(te),G;Z==="head"?G=le.headStyles:Z==="body"?G=le.bodyStyles:Z==="foot"&&(G=le.footStyles);var ue=(0,C.assign)({},ee.table,ee[Z],le.styles,G),$=le.columnStyles[q.dataKey]||le.columnStyles[q.index]||{},X=Z==="body"?$:{},O=Z==="body"&&B%2===0?(0,C.assign)({},ee.alternateRow,le.alternateRowStyles):{},W=(0,v.defaultStyles)(F),V=(0,C.assign)({},W,ue,O,X);return(0,C.assign)(V,R)}}),664:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.addPage=d.drawTable=void 0;var y=p(420),_=p(260),b=p(744),v=p(356),C=p(136),P=p(224);function L($,X){var O=X.settings,W=O.startY,V=O.margin,D={x:V.left,y:W},N=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),M=W+V.bottom+N;if(O.pageBreak==="avoid"){var Q=X.body,ie=Q.reduce(function(ge,ke){return ge+ke.height},0);M+=ie}var oe=new b.DocHandler($);(O.pageBreak==="always"||O.startY!=null&&M>oe.pageSize().height)&&(ue(oe),D.y=V.top),X.callWillDrawPageHooks(oe,D);var ve=(0,v.assign)({},D);X.startPageNumber=oe.pageNumber(),O.horizontalPageBreak?S(oe,X,ve,D):(oe.applyStyles(oe.userStyles),(O.showHead==="firstPage"||O.showHead==="everyPage")&&X.head.forEach(function(ge){return le(oe,X,ge,D,X.columns)}),oe.applyStyles(oe.userStyles),X.body.forEach(function(ge,ke){var $e=ke===X.body.length-1;te(oe,X,ge,$e,ve,D,X.columns)}),oe.applyStyles(oe.userStyles),(O.showFoot==="lastPage"||O.showFoot==="everyPage")&&X.foot.forEach(function(ge){return le(oe,X,ge,D,X.columns)})),(0,y.addTableBorder)(oe,X,ve,D),X.callEndPageHooks(oe,D),X.finalY=D.y,$.lastAutoTable=X,$.previousAutoTable=X,$.autoTable&&($.autoTable.previous=X),oe.applyStyles(oe.userStyles)}d.drawTable=L;function S($,X,O,W){var V=(0,P.calculateAllColumnsCanFitInPage)($,X),D=X.settings;if(D.horizontalPageBreakBehaviour==="afterAllRows")V.forEach(function(ie,oe){$.applyStyles($.userStyles),oe>0?G($,X,O,W,ie.columns,!0):k($,X,W,ie.columns),A($,X,O,W,ie.columns),U($,X,W,ie.columns)});else for(var N=-1,M=V[0],Q=function(){var ie=N;if(M){$.applyStyles($.userStyles);var oe=M.columns;N>=0?G($,X,O,W,oe,!0):k($,X,W,oe),ie=E($,X,N+1,W,oe),U($,X,W,oe)}var ve=ie-N;V.slice(1).forEach(function(ge){$.applyStyles($.userStyles),G($,X,O,W,ge.columns,!0),E($,X,N+1,W,ge.columns,ve),U($,X,W,ge.columns)}),N=ie};N<X.body.length-1;)Q()}function k($,X,O,W){var V=X.settings;$.applyStyles($.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&X.head.forEach(function(D){return le($,X,D,O,W)})}function A($,X,O,W,V){$.applyStyles($.userStyles),X.body.forEach(function(D,N){var M=N===X.body.length-1;te($,X,D,M,O,W,V)})}function E($,X,O,W,V,D){$.applyStyles($.userStyles),D=D??X.body.length;var N=Math.min(O+D,X.body.length),M=-1;return X.body.slice(O,N).forEach(function(Q,ie){var oe=O+ie===X.body.length-1,ve=ee($,X,oe,W);Q.canEntireRowFit(ve,V)&&(le($,X,Q,W,V),M=O+ie)}),M}function U($,X,O,W){var V=X.settings;$.applyStyles($.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&X.foot.forEach(function(D){return le($,X,D,O,W)})}function Z($,X,O){var W=O.getLineHeight($.styles.fontSize),V=$.padding("vertical"),D=Math.floor((X-V)/W);return Math.max(0,D)}function q($,X,O,W){var V={};$.spansMultiplePages=!0,$.height=0;for(var D=0,N=0,M=O.columns;N<M.length;N++){var Q=M[N],ie=$.cells[Q.index];if(ie){Array.isArray(ie.text)||(ie.text=[ie.text]);var oe=new _.Cell(ie.raw,ie.styles,ie.section);oe=(0,v.assign)(oe,ie),oe.text=[];var ve=Z(ie,X,W);ie.text.length>ve&&(oe.text=ie.text.splice(ve,ie.text.length));var ge=W.scaleFactor(),ke=W.getLineHeightFactor();ie.contentHeight=ie.getContentHeight(ge,ke),ie.contentHeight>=X&&(ie.contentHeight=X,oe.styles.minCellHeight-=X),ie.contentHeight>$.height&&($.height=ie.contentHeight),oe.contentHeight=oe.getContentHeight(ge,ke),oe.contentHeight>D&&(D=oe.contentHeight),V[Q.index]=oe}}var $e=new _.Row($.raw,-1,$.section,V,!0);$e.height=D;for(var He=0,Ue=O.columns;He<Ue.length;He++){var Q=Ue[He],oe=$e.cells[Q.index];oe&&(oe.height=$e.height);var ie=$.cells[Q.index];ie&&(ie.height=$.height)}return $e}function B($,X,O,W){var V=$.pageSize().height,D=W.settings.margin,N=D.top+D.bottom,M=V-N;X.section==="body"&&(M-=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns));var Q=X.getMinimumRowHeight(W.columns,$),ie=Q<O;if(Q>M)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!ie)return!1;var oe=X.hasRowSpan(W.columns),ve=X.getMaxCellHeight(W.columns)>M;return ve?(oe&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||W.settings.rowPageBreak==="avoid")}function te($,X,O,W,V,D,N){var M=ee($,X,W,D);if(O.canEntireRowFit(M,N))le($,X,O,D,N);else if(B($,O,M,X)){var Q=q(O,M,X,$);le($,X,O,D,N),G($,X,V,D,N),te($,X,Q,W,V,D,N)}else G($,X,V,D,N),te($,X,O,W,V,D,N)}function le($,X,O,W,V){W.x=X.settings.margin.left;for(var D=0,N=V;D<N.length;D++){var M=N[D],Q=O.cells[M.index];if(!Q){W.x+=M.width;continue}$.applyStyles(Q.styles),Q.x=W.x,Q.y=W.y;var ie=X.callCellHooks($,X.hooks.willDrawCell,Q,O,M,W);if(ie===!1){W.x+=M.width;continue}F($,Q,W);var oe=Q.getTextPos();(0,C.default)(Q.text,oe.x,oe.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},$.getDocument()),X.callCellHooks($,X.hooks.didDrawCell,Q,O,M,W),W.x+=M.width}W.y+=O.height}function F($,X,O){var W=X.styles;if($.getDocument().setFillColor($.getDocument().getFillColor()),typeof W.lineWidth=="number"){var V=(0,y.getFillStyle)(W.lineWidth,W.fillColor);V&&$.rect(X.x,O.y,X.width,X.height,V)}else typeof W.lineWidth=="object"&&(W.fillColor&&$.rect(X.x,O.y,X.width,X.height,"F"),R($,X,O,W.lineWidth))}function R($,X,O,W){var V,D,N,M;W.top&&(V=O.x,D=O.y,N=O.x+X.width,M=O.y,W.right&&(N+=.5*W.right),W.left&&(V-=.5*W.left),Q(W.top,V,D,N,M)),W.bottom&&(V=O.x,D=O.y+X.height,N=O.x+X.width,M=O.y+X.height,W.right&&(N+=.5*W.right),W.left&&(V-=.5*W.left),Q(W.bottom,V,D,N,M)),W.left&&(V=O.x,D=O.y,N=O.x,M=O.y+X.height,W.top&&(D-=.5*W.top),W.bottom&&(M+=.5*W.bottom),Q(W.left,V,D,N,M)),W.right&&(V=O.x+X.width,D=O.y,N=O.x+X.width,M=O.y+X.height,W.top&&(D-=.5*W.top),W.bottom&&(M+=.5*W.bottom),Q(W.right,V,D,N,M));function Q(ie,oe,ve,ge,ke){$.getDocument().setLineWidth(ie),$.getDocument().line(oe,ve,ge,ke,"S")}}function ee($,X,O,W){var V=X.settings.margin.bottom,D=X.settings.showFoot;return(D==="everyPage"||D==="lastPage"&&O)&&(V+=X.getFootHeight(X.columns)),$.pageSize().height-W.y-V}function G($,X,O,W,V,D){V===void 0&&(V=[]),D===void 0&&(D=!1),$.applyStyles($.userStyles),X.settings.showFoot==="everyPage"&&!D&&X.foot.forEach(function(M){return le($,X,M,W,V)}),X.callEndPageHooks($,W);var N=X.settings.margin;(0,y.addTableBorder)($,X,O,W),ue($),X.pageNumber++,X.pageCount++,W.x=N.left,W.y=N.top,O.y=N.top,X.callWillDrawPageHooks($,W),X.settings.showHead==="everyPage"&&(X.head.forEach(function(M){return le($,X,M,W,V)}),$.applyStyles($.userStyles))}d.addPage=G;function ue($){var X=$.pageNumber();$.setPage(X+1);var O=$.pageNumber();return O===X?($.addPage(),!0):!1}}),224:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.calculateAllColumnsCanFitInPage=void 0;var y=p(420);function _(v,C,P){var L;P===void 0&&(P={});var S=(0,y.getPageAvailableWidth)(v,C),k=new Map,A=[],E=[],U=[];C.settings.horizontalPageBreakRepeat,Array.isArray(C.settings.horizontalPageBreakRepeat)?U=C.settings.horizontalPageBreakRepeat:(typeof C.settings.horizontalPageBreakRepeat=="string"||typeof C.settings.horizontalPageBreakRepeat=="number")&&(U=[C.settings.horizontalPageBreakRepeat]),U.forEach(function(te){var le=C.columns.find(function(F){return F.dataKey===te||F.index===te});le&&!k.has(le.index)&&(k.set(le.index,!0),A.push(le.index),E.push(C.columns[le.index]),S-=le.wrappedWidth)});for(var Z=!0,q=(L=P==null?void 0:P.start)!==null&&L!==void 0?L:0;q<C.columns.length;){if(k.has(q)){q++;continue}var B=C.columns[q].wrappedWidth;if(Z||S>=B)Z=!1,A.push(q),E.push(C.columns[q]),S-=B;else break;q++}return{colIndexes:A,columns:E,lastIndex:q-1}}function b(v,C){for(var P=[],L=0;L<C.columns.length;L++){var S=_(v,C,{start:L});S.columns.length&&(P.push(S),L=S.lastIndex)}return P}d.calculateAllColumnsCanFitInPage=b}),324:(function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.ellipsize=d.resizeColumns=d.calculateWidths=void 0;var y=p(420);function _(A,E){b(A,E);var U=[],Z=0;E.columns.forEach(function(B){var te=B.getMaxCustomCellWidth(E);te?B.width=te:(B.width=B.wrappedWidth,U.push(B)),Z+=B.width});var q=E.getWidth(A.pageSize().width)-Z;q&&(q=v(U,q,function(B){return Math.max(B.minReadableWidth,B.minWidth)})),q&&(q=v(U,q,function(B){return B.minWidth})),q=Math.abs(q),!E.settings.horizontalPageBreak&&q>.1/A.scaleFactor()&&(q=q<1?q:Math.round(q),console.warn("Of the table content, ".concat(q," units width could not fit page"))),P(E),L(E,A),C(E)}d.calculateWidths=_;function b(A,E){var U=A.scaleFactor(),Z=E.settings.horizontalPageBreak,q=(0,y.getPageAvailableWidth)(A,E);E.allRows().forEach(function(B){for(var te=0,le=E.columns;te<le.length;te++){var F=le[te],R=B.cells[F.index];if(R){var ee=E.hooks.didParseCell;E.callCellHooks(A,ee,R,B,F,null);var G=R.padding("horizontal");R.contentWidth=(0,y.getStringWidth)(R.text,R.styles,A)+G;var ue=(0,y.getStringWidth)(R.text.join(" ").split(/[^\S\u00A0]+/),R.styles,A);if(R.minReadableWidth=ue+R.padding("horizontal"),typeof R.styles.cellWidth=="number")R.minWidth=R.styles.cellWidth,R.wrappedWidth=R.styles.cellWidth;else if(R.styles.cellWidth==="wrap"||Z===!0)R.contentWidth>q?(R.minWidth=q,R.wrappedWidth=q):(R.minWidth=R.contentWidth,R.wrappedWidth=R.contentWidth);else{var $=10/U;R.minWidth=R.styles.minCellWidth||$,R.wrappedWidth=R.contentWidth,R.minWidth>R.wrappedWidth&&(R.wrappedWidth=R.minWidth)}}}}),E.allRows().forEach(function(B){for(var te=0,le=E.columns;te<le.length;te++){var F=le[te],R=B.cells[F.index];if(R&&R.colSpan===1)F.wrappedWidth=Math.max(F.wrappedWidth,R.wrappedWidth),F.minWidth=Math.max(F.minWidth,R.minWidth),F.minReadableWidth=Math.max(F.minReadableWidth,R.minReadableWidth);else{var ee=E.styles.columnStyles[F.dataKey]||E.styles.columnStyles[F.index]||{},G=ee.cellWidth||ee.minCellWidth;G&&typeof G=="number"&&(F.minWidth=G,F.wrappedWidth=G)}R&&(R.colSpan>1&&!F.minWidth&&(F.minWidth=R.minWidth),R.colSpan>1&&!F.wrappedWidth&&(F.wrappedWidth=R.minWidth))}})}function v(A,E,U){for(var Z=E,q=A.reduce(function($,X){return $+X.wrappedWidth},0),B=0;B<A.length;B++){var te=A[B],le=te.wrappedWidth/q,F=Z*le,R=te.width+F,ee=U(te),G=R<ee?ee:R;E-=G-te.width,te.width=G}if(E=Math.round(E*1e10)/1e10,E){var ue=A.filter(function($){return E<0?$.width>U($):!0});ue.length&&(E=v(ue,E,U))}return E}d.resizeColumns=v;function C(A){for(var E={},U=1,Z=A.allRows(),q=0;q<Z.length;q++)for(var B=Z[q],te=0,le=A.columns;te<le.length;te++){var F=le[te],R=E[F.index];if(U>1)U--,delete B.cells[F.index];else if(R)R.cell.height+=B.height,U=R.cell.colSpan,delete B.cells[F.index],R.left--,R.left<=1&&delete E[F.index];else{var ee=B.cells[F.index];if(!ee)continue;if(ee.height=B.height,ee.rowSpan>1){var G=Z.length-q,ue=ee.rowSpan>G?G:ee.rowSpan;E[F.index]={cell:ee,left:ue,row:B}}}}}function P(A){for(var E=A.allRows(),U=0;U<E.length;U++)for(var Z=E[U],q=null,B=0,te=0,le=0;le<A.columns.length;le++){var F=A.columns[le];if(te-=1,te>1&&A.columns[le+1])B+=F.width,delete Z.cells[F.index];else if(q){var R=q;delete Z.cells[F.index],q=null,R.width=F.width+B}else{var R=Z.cells[F.index];if(!R)continue;if(te=R.colSpan,B=0,R.colSpan>1){q=R,B+=F.width;continue}R.width=F.width+B}}}function L(A,E){for(var U={count:0,height:0},Z=0,q=A.allRows();Z<q.length;Z++){for(var B=q[Z],te=0,le=A.columns;te<le.length;te++){var F=le[te],R=B.cells[F.index];if(R){E.applyStyles(R.styles,!0);var ee=R.width-R.padding("horizontal");if(R.styles.overflow==="linebreak")R.text=E.splitTextToSize(R.text,ee+1/E.scaleFactor(),{fontSize:R.styles.fontSize});else if(R.styles.overflow==="ellipsize")R.text=S(R.text,ee,R.styles,E,"...");else if(R.styles.overflow==="hidden")R.text=S(R.text,ee,R.styles,E,"");else if(typeof R.styles.overflow=="function"){var G=R.styles.overflow(R.text,ee);typeof G=="string"?R.text=[G]:R.text=G}R.contentHeight=R.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var ue=R.contentHeight/R.rowSpan;R.rowSpan>1&&U.count*U.height<ue*R.rowSpan?U={height:ue,count:R.rowSpan}:U&&U.count>0&&U.height>ue&&(ue=U.height),ue>B.height&&(B.height=ue)}}U.count--}}function S(A,E,U,Z,q){return A.map(function(B){return k(B,E,U,Z,q)})}d.ellipsize=S;function k(A,E,U,Z,q){var B=1e4*Z.scaleFactor();if(E=Math.ceil(E*B)/B,E>=(0,y.getStringWidth)(A,U,Z))return A;for(;E<(0,y.getStringWidth)(A+q,U,Z)&&!(A.length<=1);)A=A.substring(0,A.length-1);return A.trim()+q}}),964:(function(f){if(typeof t>"u"){var d=new Error("Cannot find module 'undefined'");throw d.code="MODULE_NOT_FOUND",d}f.exports=t})},l={};function o(f){var d=l[f];if(d!==void 0)return d.exports;var p=l[f]={exports:{}};return s[f].call(p.exports,p,p.exports,o),p.exports}var c={};return(function(){var f=c;Object.defineProperty(f,"__esModule",{value:!0}),f.Cell=f.Column=f.Row=f.Table=f.CellHookData=f.__drawTable=f.__createTable=f.applyPlugin=void 0;var d=o(340),p=o(776),y=o(664),_=o(972),b=o(260);Object.defineProperty(f,"Table",{enumerable:!0,get:function(){return b.Table}});var v=o(172);Object.defineProperty(f,"CellHookData",{enumerable:!0,get:function(){return v.CellHookData}});var C=o(260);Object.defineProperty(f,"Cell",{enumerable:!0,get:function(){return C.Cell}}),Object.defineProperty(f,"Column",{enumerable:!0,get:function(){return C.Column}}),Object.defineProperty(f,"Row",{enumerable:!0,get:function(){return C.Row}});function P(E){(0,d.default)(E)}f.applyPlugin=P;function L(E,U){var Z=(0,p.parseInput)(E,U),q=(0,_.createTable)(E,Z);(0,y.drawTable)(E,q)}function S(E,U){var Z=(0,p.parseInput)(E,U);return(0,_.createTable)(E,Z)}f.__createTable=S;function k(E,U){(0,y.drawTable)(E,U)}f.__drawTable=k;try{var A=o(964);A.jsPDF&&(A=A.jsPDF),P(A)}catch{}f.default=L})(),c})()})})(Oh)),Oh.exports}zS();async function US(n,e,t,s,l){var G;const o=new jt("p","mm","a4"),c=o.internal.pageSize.getWidth(),f=o.internal.pageSize.getHeight(),d=15;let p=d;const y=[17,24,39],_=[31,41,55],b=[107,114,128],v=[249,250,251],C=ue=>new Intl.NumberFormat("nb-NO",{minimumFractionDigits:2,maximumFractionDigits:2}).format(ue||0)+" kr",P=ue=>ue?new Date(ue).toLocaleDateString("nb-NO",{day:"numeric",month:"short",year:"numeric"}):"-";o.setTextColor(...y),o.setFontSize(14),o.setFont("helvetica","bold"),o.text((t==null?void 0:t.name)||"Firma",d,p+2),o.setFontSize(20),o.text("TILBUD",c-d,p+2,{align:"right"}),p+=6,o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b);const L=[t==null?void 0:t.address,t!=null&&t.postal_code&&(t!=null&&t.city)?`${t.postal_code} ${t.city}`:null,t!=null&&t.org_number?`Org.nr: ${t.org_number}`:null].filter(Boolean).join("  ");o.text(L,d,p+2),o.text(`#${n.quote_number}  ${P(n.created_at)}`,c-d,p+2,{align:"right"}),p+=8,o.setDrawColor(229,231,235),o.setLineWidth(.3),o.line(d,p,c-d,p),p+=8;const S=(c-d*2-15)/2,k=d,A=d+S+15;o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("TILBUD TIL",k,p);let E=p+5;l?(o.setFontSize(10),o.setFont("helvetica","bold"),o.setTextColor(..._),o.text(l.name||"-",k,E),E+=4,o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b),[l.address,l.postal_code||l.city?`${l.postal_code||""} ${l.city||""}`.trim():null,l.org_number?`Org.nr: ${l.org_number}`:null].filter(Boolean).forEach($=>{o.text($,k,E),E+=3.5})):(o.setFontSize(9),o.setTextColor(...b),o.text("Ingen kunde valgt",k,E),E+=4),o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("DETALJER",A,p);let U=p+5;if(o.setFontSize(8),[["Gyldig til:",P(n.valid_until)],["Kontakt:",(s==null?void 0:s.full_name)||"-"],["E-post:",(t==null?void 0:t.email)||"-"],["Tlf:",(t==null?void 0:t.phone)||"-"]].forEach(([ue,$])=>{o.setFont("helvetica","normal"),o.setTextColor(...b),o.text(ue,A,U),o.setFont("helvetica","normal"),o.setTextColor(..._),o.text($,A+25,U),U+=3.5}),p=Math.max(E,U)+6,n.description){o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("BESKRIVELSE",d,p),p+=4,o.setFont("helvetica","normal"),o.setTextColor(..._),o.setFontSize(9);const ue=o.splitTextToSize(n.description,c-d*2);o.text(ue,d,p),p+=ue.length*4+5}const q=e.map(ue=>[ue.description||"-",(ue.quantity||1).toString(),ue.unit_name||"stk",C(ue.unit_price),`${ue.vat_rate||25}%`,C((ue.quantity||1)*(ue.unit_price||0))]);o.autoTable({startY:p,head:[["Beskrivelse","Ant.","Enhet","Pris","MVA","Sum"]],body:q,theme:"plain",styles:{fontSize:8,cellPadding:{top:3,bottom:3,left:3,right:3},textColor:_,lineColor:[229,231,235],lineWidth:.1},headStyles:{fillColor:[243,244,246],textColor:b,fontStyle:"bold",fontSize:7},alternateRowStyles:{fillColor:[252,252,253]},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:14,halign:"center"},2:{cellWidth:14,halign:"center"},3:{cellWidth:25,halign:"right"},4:{cellWidth:14,halign:"center"},5:{cellWidth:28,halign:"right",fontStyle:"bold"}},margin:{left:d,right:d},didDrawPage:ue=>{o.setFontSize(7),o.setTextColor(...b),o.text(`Side ${o.internal.getCurrentPageInfo().pageNumber}`,c/2,f-8,{align:"center"})}}),p=o.lastAutoTable.finalY+8;const B=70,te=c-d-B;o.setFillColor(...v),o.roundedRect(te,p,B,32,2,2,"F");let le=p+7;if(o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b),o.text("Sum eks. mva",te+5,le),o.setTextColor(..._),o.text(C(n.subtotal),te+B-5,le,{align:"right"}),le+=5,o.setTextColor(...b),o.text("MVA",te+5,le),o.setTextColor(..._),o.text(C(n.vat_amount),te+B-5,le,{align:"right"}),le+=4,o.setDrawColor(209,213,219),o.setLineWidth(.2),o.line(te+5,le,te+B-5,le),le+=6,o.setFontSize(10),o.setFont("helvetica","bold"),o.setTextColor(...y),o.text("Totalt",te+5,le),o.text(C(n.total),te+B-5,le,{align:"right"}),p+=42,p<f-40){o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("VILKR",d,p),p+=4,o.setFont("helvetica","normal"),o.setFontSize(7);const ue=n.terms||n.notes||"Tilbudet er gyldig i 30 dager. Betaling: 14 dager netto.",$=o.splitTextToSize(ue,c-d*2);o.text($,d,p)}const F=f-10;o.setDrawColor(229,231,235),o.setLineWidth(.2),o.line(d,F-3,c-d,F-3),o.setFontSize(7),o.setTextColor(...b);const R=[t==null?void 0:t.name,t==null?void 0:t.email,t==null?void 0:t.phone].filter(Boolean).join("    ");o.text(R,c/2,F,{align:"center"});const ee=`Tilbud-${n.quote_number}-${((G=n.title)==null?void 0:G.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"_"))||"tilbud"}.pdf`;o.save(ee)}async function HS(n,e,t,s,l){const o=new jt("p","mm","a4"),c=o.internal.pageSize.getWidth(),f=o.internal.pageSize.getHeight(),d=15;let p=d;const y=[17,24,39],_=[31,41,55],b=[107,114,128],v=[249,250,251],C=ee=>new Intl.NumberFormat("nb-NO",{minimumFractionDigits:2,maximumFractionDigits:2}).format(ee||0)+" kr",P=ee=>ee?new Date(ee).toLocaleDateString("nb-NO",{day:"numeric",month:"short",year:"numeric"}):"-";o.setTextColor(...y),o.setFontSize(14),o.setFont("helvetica","bold"),o.text((t==null?void 0:t.name)||"Firma",d,p+2),o.setFontSize(20),o.text("TILBUD",c-d,p+2,{align:"right"}),p+=6,o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b);const L=[t==null?void 0:t.address,t!=null&&t.postal_code&&(t!=null&&t.city)?`${t.postal_code} ${t.city}`:null,t!=null&&t.org_number?`Org.nr: ${t.org_number}`:null].filter(Boolean).join("  ");o.text(L,d,p+2),o.text(`#${n.quote_number}  ${P(n.created_at)}`,c-d,p+2,{align:"right"}),p+=8,o.setDrawColor(229,231,235),o.setLineWidth(.3),o.line(d,p,c-d,p),p+=8;const S=(c-d*2-15)/2,k=d,A=d+S+15;o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("TILBUD TIL",k,p);let E=p+5;l&&(o.setFontSize(10),o.setFont("helvetica","bold"),o.setTextColor(..._),o.text(l.name||"-",k,E),E+=4,o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b),[l.address,l.postal_code||l.city?`${l.postal_code||""} ${l.city||""}`.trim():null,l.org_number?`Org.nr: ${l.org_number}`:null].filter(Boolean).forEach(G=>{o.text(G,k,E),E+=3.5})),o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("DETALJER",A,p);let U=p+5;if(o.setFontSize(8),[["Gyldig til:",P(n.valid_until)],["Kontakt:",(s==null?void 0:s.full_name)||"-"],["E-post:",(t==null?void 0:t.email)||"-"],["Tlf:",(t==null?void 0:t.phone)||"-"]].forEach(([ee,G])=>{o.setFont("helvetica","normal"),o.setTextColor(...b),o.text(ee,A,U),o.setFont("helvetica","normal"),o.setTextColor(..._),o.text(G,A+25,U),U+=3.5}),p=Math.max(E,U)+6,n.description){o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("BESKRIVELSE",d,p),p+=4,o.setFont("helvetica","normal"),o.setTextColor(..._),o.setFontSize(9);const ee=o.splitTextToSize(n.description,c-d*2);o.text(ee,d,p),p+=ee.length*4+5}const q=e.map(ee=>[ee.description||"-",(ee.quantity||1).toString(),ee.unit_name||"stk",C(ee.unit_price),`${ee.vat_rate||25}%`,C((ee.quantity||1)*(ee.unit_price||0))]);o.autoTable({startY:p,head:[["Beskrivelse","Ant.","Enhet","Pris","MVA","Sum"]],body:q,theme:"plain",styles:{fontSize:8,cellPadding:{top:3,bottom:3,left:3,right:3},textColor:_,lineColor:[229,231,235],lineWidth:.1},headStyles:{fillColor:[243,244,246],textColor:b,fontStyle:"bold",fontSize:7},alternateRowStyles:{fillColor:[252,252,253]},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:14,halign:"center"},2:{cellWidth:14,halign:"center"},3:{cellWidth:25,halign:"right"},4:{cellWidth:14,halign:"center"},5:{cellWidth:28,halign:"right",fontStyle:"bold"}},margin:{left:d,right:d}}),p=o.lastAutoTable.finalY+8;const B=70,te=c-d-B;o.setFillColor(...v),o.roundedRect(te,p,B,32,2,2,"F");let le=p+7;if(o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(...b),o.text("Sum eks. mva",te+5,le),o.setTextColor(..._),o.text(C(n.subtotal),te+B-5,le,{align:"right"}),le+=5,o.setTextColor(...b),o.text("MVA",te+5,le),o.setTextColor(..._),o.text(C(n.vat_amount),te+B-5,le,{align:"right"}),le+=4,o.setDrawColor(209,213,219),o.setLineWidth(.2),o.line(te+5,le,te+B-5,le),le+=6,o.setFontSize(10),o.setFont("helvetica","bold"),o.setTextColor(...y),o.text("Totalt",te+5,le),o.text(C(n.total),te+B-5,le,{align:"right"}),p+=42,p<f-40){o.setFontSize(7),o.setFont("helvetica","bold"),o.setTextColor(...b),o.text("VILKR",d,p),p+=4,o.setFont("helvetica","normal"),o.setFontSize(7);const ee=n.terms||n.notes||"Tilbudet er gyldig i 30 dager. Betaling: 14 dager netto.",G=o.splitTextToSize(ee,c-d*2);o.text(G,d,p)}const F=f-10;o.setDrawColor(229,231,235),o.setLineWidth(.2),o.line(d,F-3,c-d,F-3),o.setFontSize(7),o.setTextColor(...b);const R=[t==null?void 0:t.name,t==null?void 0:t.email,t==null?void 0:t.phone].filter(Boolean).join("    ");return o.text(R,c/2,F,{align:"center"}),o.output("datauristring").split(",")[1]}const WS="_overlay_g04oz_1",VS="_modal_g04oz_31",GS="_header_g04oz_57",KS="_closeBtn_g04oz_87",YS="_content_g04oz_117",JS="_quoteInfo_g04oz_129",QS="_quoteNumber_g04oz_149",XS="_quoteTitle_g04oz_167",ZS="_field_g04oz_179",eC="_emailOptions_g04oz_203",tC="_radioLabel_g04oz_215",nC="_emailPreview_g04oz_273",rC="_input_g04oz_289",sC="_subjectPreview_g04oz_331",iC="_textarea_g04oz_349",aC="_checkboxLabel_g04oz_391",oC="_error_g04oz_421",lC="_footer_g04oz_447",cC="_cancelBtn_g04oz_467",uC="_sendButtons_g04oz_501",dC="_mailtoBtn_g04oz_511",hC="_sendBtn_g04oz_551",fC="_spinner_g04oz_599",pC="_successMessage_g04oz_631",Cn={overlay:WS,modal:VS,header:GS,closeBtn:KS,content:YS,quoteInfo:JS,quoteNumber:QS,quoteTitle:XS,field:ZS,emailOptions:eC,radioLabel:tC,emailPreview:nC,input:rC,subjectPreview:sC,textarea:iC,checkboxLabel:aC,error:oC,footer:lC,cancelBtn:cC,sendButtons:uC,mailtoBtn:dC,sendBtn:hC,spinner:fC,successMessage:pC};function mC({isOpen:n,onClose:e,quote:t,customer:s,organization:l,userEmail:o,onSend:c}){const[f,d]=ae.useState(""),[p,y]=ae.useState(!0),[_,b]=ae.useState(""),[v,C]=ae.useState(!0),[P,L]=ae.useState(""),[S,k]=ae.useState(!1),[A,E]=ae.useState(null),[U,Z]=ae.useState(!1),q=`Hei,

Vedlagt finner du tilbud #${t==null?void 0:t.quote_number} fra ${(l==null?void 0:l.name)||"oss"}.

${t!=null&&t.title?`Tilbud: ${t.title}`:""}
${t!=null&&t.valid_until?`Gyldig til: ${new Date(t.valid_until).toLocaleDateString("nb-NO")}`:""}

Ta gjerne kontakt om du har sprsml.

Med vennlig hilsen,
${(l==null?void 0:l.name)||""}
${l!=null&&l.phone?`Tlf: ${l.phone}`:""}
${l!=null&&l.email?`E-post: ${l.email}`:""}`;ae.useEffect(()=>{n&&(y(!!(s!=null&&s.email)),b(""),C(!0),L(q),E(null),Z(!1),s!=null&&s.email?d(s.email):(d(""),y(!1)))},[n,s,t,l]);const B=ee=>{y(ee),ee&&(s!=null&&s.email)?d(s.email):d(_)},te=ee=>{b(ee.target.value),p||d(ee.target.value)},le=ee=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee),F=async()=>{if(E(null),!f||!le(f)){E("Vennligst oppgi en gyldig e-postadresse");return}k(!0);try{await c({to:f,bcc:v?o:null,subject:`Tilbud fra ${(l==null?void 0:l.name)||"oss"}`,message:P}),Z(!0),setTimeout(()=>{e()},2e3)}catch(ee){console.error("Failed to send email:",ee),E(ee.message||"Kunne ikke sende e-post. Prv igjen senere.")}finally{k(!1)}},R=()=>{const ee=encodeURIComponent(`Tilbud fra ${(l==null?void 0:l.name)||"oss"}`),G=encodeURIComponent(P+`

(Vedlegg: Last ned PDF-en og legg ved manuelt)`),ue=v&&o?`&bcc=${encodeURIComponent(o)}`:"";window.open(`mailto:${f}?subject=${ee}&body=${G}${ue}`,"_blank")};return n?i.jsx("div",{className:Cn.overlay,onClick:e,children:i.jsxs("div",{className:Cn.modal,onClick:ee=>ee.stopPropagation(),children:[i.jsxs("div",{className:Cn.header,children:[i.jsx("h2",{children:"Send tilbud"}),i.jsx("button",{className:Cn.closeBtn,onClick:e,children:i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),U?i.jsxs("div",{className:Cn.successMessage,children:[i.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),i.jsx("h3",{children:"Tilbud sendt!"}),i.jsxs("p",{children:["E-post er sendt til ",f]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Cn.content,children:[i.jsxs("div",{className:Cn.quoteInfo,children:[i.jsxs("span",{className:Cn.quoteNumber,children:["Tilbud #",t==null?void 0:t.quote_number]}),i.jsx("span",{className:Cn.quoteTitle,children:(t==null?void 0:t.title)||"Uten tittel"})]}),i.jsxs("div",{className:Cn.field,children:[i.jsx("label",{children:"Mottaker"}),(s==null?void 0:s.email)&&i.jsxs("div",{className:Cn.emailOptions,children:[i.jsxs("label",{className:Cn.radioLabel,children:[i.jsx("input",{type:"radio",checked:p,onChange:()=>B(!0)}),i.jsx("span",{children:"Kundens e-post"}),i.jsx("span",{className:Cn.emailPreview,children:s.email})]}),i.jsxs("label",{className:Cn.radioLabel,children:[i.jsx("input",{type:"radio",checked:!p,onChange:()=>B(!1)}),i.jsx("span",{children:"Annen e-post"})]})]}),(!(s!=null&&s.email)||!p)&&i.jsx("input",{type:"email",className:Cn.input,placeholder:"navn@eksempel.no",value:_,onChange:te,autoFocus:!(s!=null&&s.email)})]}),i.jsxs("div",{className:Cn.field,children:[i.jsx("label",{children:"Emne"}),i.jsxs("div",{className:Cn.subjectPreview,children:["Tilbud fra ",(l==null?void 0:l.name)||"oss"]})]}),i.jsxs("div",{className:Cn.field,children:[i.jsx("label",{children:"Melding"}),i.jsx("textarea",{className:Cn.textarea,value:P,onChange:ee=>L(ee.target.value),rows:8})]}),i.jsxs("label",{className:Cn.checkboxLabel,children:[i.jsx("input",{type:"checkbox",checked:v,onChange:ee=>C(ee.target.checked)}),i.jsxs("span",{children:["Send kopi til meg (",o,")"]})]}),A&&i.jsxs("div",{className:Cn.error,children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),A]})]}),i.jsxs("div",{className:Cn.footer,children:[i.jsx("button",{className:Cn.cancelBtn,onClick:e,children:"Avbryt"}),i.jsxs("div",{className:Cn.sendButtons,children:[i.jsxs("button",{className:Cn.mailtoBtn,onClick:R,title:"pne i e-postklient",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"pne i e-post"]}),i.jsx("button",{className:Cn.sendBtn,onClick:F,disabled:S||!f,children:S?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:Cn.spinner}),"Sender..."]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),"Send tilbud"]})})]})]})]})]})}):null}const gC="_header_18nel_11",vC="_headerLeft_18nel_29",yC="_searchWrapper_18nel_43",_C="_statusFilter_18nel_55",bC="_statusFilterBtn_18nel_71",wC="_statusFilterBtnActive_18nel_97",xC="_quotesGrid_18nel_109",jC="_quoteCard_18nel_121",kC="_quoteCardDraft_18nel_145",NC="_quoteCardPending_18nel_161",SC="_quoteCardAccepted_18nel_177",CC="_quoteCardRejected_18nel_193",LC="_quoteCardInner_18nel_201",AC="_quoteCardHeader_18nel_215",PC="_quoteCardNumber_18nel_229",EC="_quoteCardTitle_18nel_241",TC="_quoteCardCustomer_18nel_253",OC="_quoteCardTotal_18nel_271",IC="_quoteCardTotalLabel_18nel_285",DC="_quoteCardMeta_18nel_297",RC="_quoteCardDate_18nel_315",FC="_quoteCardActions_18nel_331",MC="_convertBtn_18nel_343",BC="_sendBtn_18nel_385",$C="_pdfBtn_18nel_427",qC="_spinning_18nel_477",zC="_clickableRow_18nel_497",UC="_quoteNumber_18nel_505",HC="_quoteTitle_18nel_515",WC="_customerCell_18nel_523",VC="_totalCell_18nel_535",GC="_dateCell_18nel_545",KC="_actionsColumn_18nel_553",YC="_actionButtons_18nel_561",JC="_deleteBtn_18nel_573",QC="_viewToggle_18nel_583",XC="_viewToggleBtn_18nel_593",ZC="_viewToggleBtnActive_18nel_613",Pt={header:gC,headerLeft:vC,searchWrapper:yC,statusFilter:_C,statusFilterBtn:bC,statusFilterBtnActive:wC,quotesGrid:xC,quoteCard:jC,quoteCardDraft:kC,quoteCardPending:NC,quoteCardAccepted:SC,quoteCardRejected:CC,quoteCardInner:LC,quoteCardHeader:AC,quoteCardNumber:PC,quoteCardTitle:EC,quoteCardCustomer:TC,quoteCardTotal:OC,quoteCardTotalLabel:IC,quoteCardMeta:DC,quoteCardDate:RC,quoteCardActions:FC,convertBtn:MC,sendBtn:BC,pdfBtn:$C,spinning:qC,clickableRow:zC,quoteNumber:UC,quoteTitle:HC,customerCell:WC,totalCell:VC,dateCell:GC,actionsColumn:KC,actionButtons:YC,deleteBtn:JC,viewToggle:QC,viewToggleBtn:XC,viewToggleBtnActive:ZC},Sh={draft:{label:"Utkast",class:"badge-neutral"},pending:{label:"Sendt",class:"badge-warning"},accepted:{label:"Akseptert",class:"badge-success"},rejected:{label:"Avsltt",class:"badge-danger"},expired:{label:"Utlpt",class:"badge-neutral"}};function e6(){const{organization:n,profile:e,user:t}=fr(),s=Gr(),[l,o]=ae.useState([]),[c,f]=ae.useState(!0),[d,p]=ae.useState(""),[y,_]=ae.useState("all"),[b,v]=ae.useState("grid"),[C,P]=ae.useState(null),[L,S]=ae.useState(null),[k,A]=ae.useState(null),[E,U]=ae.useState(null),[Z,q]=ae.useState(null);ae.useEffect(()=>{n!=null&&n.id?B():f(!1)},[n]);const B=async()=>{try{const{data:O,error:W}=await Je.from("quotes").select(`
          *,
          customer:customers(id, name)
        `).eq("organization_id",n.id).order("created_at",{ascending:!1});if(W)throw W;const V=(O||[]).map(D=>D.status==="pending"&&D.valid_until&&ox(Nc(D.valid_until))?{...D,status:"expired"}:D);o(V)}catch(O){console.error("Error fetching quotes:",O)}finally{f(!1)}},te=async(O,W)=>{var V;W.stopPropagation(),A(O.id);try{const{data:D,error:N}=await Je.from("quote_lines").select("*").eq("quote_id",O.id).order("sort_order",{ascending:!0});if(N)throw N;let M=O.customer;if(O.customer_id&&!((V=O.customer)!=null&&V.address)){const{data:Q}=await Je.from("customers").select("*").eq("id",O.customer_id).single();M=Q}await US(O,D||[],n,e,M)}catch(D){console.error("Error generating PDF:",D),alert("Kunne ikke generere PDF. Prv igjen.")}finally{A(null)}},le=async(O,W)=>{W==null||W.stopPropagation();let V=null;if(O.customer_id){const{data:D}=await Je.from("customers").select("*").eq("id",O.customer_id).single();V=D}q(V),U(O)},F=async({to:O,bcc:W,subject:V,message:D})=>{const{data:N,error:M}=await Je.from("quote_lines").select("*").eq("quote_id",E.id).order("sort_order",{ascending:!0});if(M)throw M;const Q=await HS(E,N||[],n,e,Z),{data:ie,error:oe}=await Je.functions.invoke("send-quote-email",{body:{to:O,bcc:W,replyTo:t==null?void 0:t.email,subject:V,message:D,pdfBase64:Q,quoteNumber:E.quote_number,quoteTitle:E.title,organizationName:n==null?void 0:n.name}});if(oe)throw oe;if(E.status==="draft"){const{error:ve}=await Je.from("quotes").update({status:"pending"}).eq("id",E.id);ve||o(l.map(ge=>ge.id===E.id?{...ge,status:"pending"}:ge))}return ie},R=async O=>{try{const{error:W}=await Je.from("quotes").delete().eq("id",O);if(W)throw W;o(l.filter(V=>V.id!==O)),P(null)}catch(W){console.error("Error deleting quote:",W),alert("Kunne ikke slette tilbud. Prv igjen.")}},ee=async O=>{try{const{data:W,error:V}=await Je.from("jobs").insert([{organization_id:n.id,customer_id:O.customer_id,title:O.title,description:O.description,status:"in_progress"}]).select().single();if(V)throw V;const{data:D,error:N}=await Je.from("quote_lines").select("*").eq("quote_id",O.id).order("sort_order");if(N)throw N;if(D&&D.length>0){const Q=D.map(oe=>({job_id:W.id,article_id:oe.article_id,description:oe.description,quantity:oe.quantity,unit_name:oe.unit_name,cost_price:oe.cost_price,unit_price:oe.unit_price,vat_rate:oe.vat_rate,total:oe.total,sort_order:oe.sort_order,quantity_invoiced:0})),{error:ie}=await Je.from("job_lines").insert(Q);if(ie)throw ie}const{error:M}=await Je.from("quotes").update({status:"accepted",accepted_at:new Date().toISOString(),job_id:W.id}).eq("id",O.id);if(M)throw M;o(l.map(Q=>Q.id===O.id?{...Q,status:"accepted",job_id:W.id}:Q)),S(null),s(`/jobber/${W.id}`)}catch(W){console.error("Error converting quote to job:",W),alert("Kunne ikke konvertere tilbud. Prv igjen.")}},G=l.filter(O=>{var D,N,M;const W=((D=O.title)==null?void 0:D.toLowerCase().includes(d.toLowerCase()))||((M=(N=O.customer)==null?void 0:N.name)==null?void 0:M.toLowerCase().includes(d.toLowerCase())),V=y==="all"||O.status===y;return W&&V}),ue=O=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(O||0),$=O=>O?an(Nc(O),"d. MMM yyyy",{locale:Ss}):"-",X=O=>{switch(O){case"draft":return Pt.quoteCardDraft;case"pending":return Pt.quoteCardPending;case"accepted":return Pt.quoteCardAccepted;case"rejected":return Pt.quoteCardRejected;default:return Pt.quoteCardDraft}};return c?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:Pt.header,children:[i.jsxs("div",{className:Pt.headerLeft,children:[i.jsxs("div",{className:`search-input-wrapper ${Pt.searchWrapper}`,children:[i.jsx(Tc,{size:18}),i.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Sk etter tilbud...",value:d,onChange:O=>p(O.target.value)})]}),i.jsxs("div",{className:Pt.statusFilter,children:[i.jsx("button",{className:`${Pt.statusFilterBtn} ${y==="all"?Pt.statusFilterBtnActive:""}`,onClick:()=>_("all"),children:"Alle"}),i.jsx("button",{className:`${Pt.statusFilterBtn} ${y==="pending"?Pt.statusFilterBtnActive:""}`,onClick:()=>_("pending"),children:"Sendt"}),i.jsx("button",{className:`${Pt.statusFilterBtn} ${y==="accepted"?Pt.statusFilterBtnActive:""}`,onClick:()=>_("accepted"),children:"Akseptert"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[i.jsxs("div",{className:Pt.viewToggle,children:[i.jsx("button",{className:`${Pt.viewToggleBtn} ${b==="grid"?Pt.viewToggleBtnActive:""}`,onClick:()=>v("grid"),title:"Kortvisning",children:i.jsx(jv,{size:18})}),i.jsx("button",{className:`${Pt.viewToggleBtn} ${b==="list"?Pt.viewToggleBtnActive:""}`,onClick:()=>v("list"),title:"Listevisning",children:i.jsx(Sv,{size:18})})]}),i.jsxs(on,{to:"/tilbud/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Nytt tilbud"]})]})]}),G.length===0?i.jsx("div",{className:"card",children:i.jsxs("div",{className:"empty-state",children:[i.jsx(ca,{className:"empty-state-icon"}),i.jsx("h3",{className:"empty-state-title",children:d||y!=="all"?"Ingen tilbud funnet":"Ingen tilbud enn"}),i.jsx("p",{className:"empty-state-description",children:d||y!=="all"?"Prv et annet skeord eller filter":"Opprett ditt frste tilbud for  komme i gang."}),!d&&y==="all"&&i.jsxs(on,{to:"/tilbud/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Opprett tilbud"]})]})}):b==="grid"?i.jsx("div",{className:Pt.quotesGrid,children:G.map(O=>{var W,V;return i.jsx("div",{className:`${Pt.quoteCard} ${X(O.status)}`,onClick:()=>s(`/tilbud/${O.id}`),children:i.jsxs("div",{className:Pt.quoteCardInner,children:[i.jsxs("div",{className:Pt.quoteCardHeader,children:[i.jsxs("div",{children:[i.jsxs("div",{className:Pt.quoteCardNumber,children:["#",O.quote_number]}),i.jsx("div",{className:Pt.quoteCardTitle,children:O.title}),O.customer&&i.jsxs("div",{className:Pt.quoteCardCustomer,children:[i.jsx(Ws,{size:12}),O.customer.name]})]}),i.jsxs("div",{children:[i.jsx("span",{className:`badge ${((W=Sh[O.status])==null?void 0:W.class)||"badge-neutral"}`,children:((V=Sh[O.status])==null?void 0:V.label)||O.status}),i.jsxs("div",{className:Pt.quoteCardTotal,children:[ue(O.total),i.jsx("div",{className:Pt.quoteCardTotalLabel,children:"inkl. mva"})]})]})]}),i.jsxs("div",{className:Pt.quoteCardMeta,children:[i.jsxs("div",{className:Pt.quoteCardDate,children:[i.jsx(Ba,{size:12}),"Gyldig til: ",$(O.valid_until)]}),i.jsxs("div",{className:Pt.quoteCardActions,children:[i.jsxs("button",{className:Pt.sendBtn,onClick:D=>le(O,D),title:"Send tilbud",children:[i.jsx(la,{size:12}),"Send"]}),i.jsxs("button",{className:Pt.pdfBtn,onClick:D=>te(O,D),disabled:k===O.id,title:"Last ned PDF",children:[k===O.id?i.jsx(xd,{size:12,className:Pt.spinning}):i.jsx(Mh,{size:12}),"PDF"]}),O.status==="pending"&&i.jsxs("button",{className:Pt.convertBtn,onClick:D=>{D.stopPropagation(),S(O)},title:"Konverter til jobb",children:[i.jsx(Ao,{size:12}),"Til jobb"]})]})]})]})},O.id)})}):i.jsx("div",{className:"card",children:i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Tilbud"}),i.jsx("th",{children:"Kunde"}),i.jsx("th",{children:"Sum"}),i.jsx("th",{children:"Gyldig til"}),i.jsx("th",{children:"Status"}),i.jsx("th",{className:Pt.actionsColumn})]})}),i.jsx("tbody",{children:G.map(O=>{var W,V;return i.jsxs("tr",{className:Pt.clickableRow,onClick:()=>s(`/tilbud/${O.id}`),children:[i.jsxs("td",{children:[i.jsxs("div",{className:Pt.quoteNumber,children:["#",O.quote_number]}),i.jsx("div",{className:Pt.quoteTitle,children:O.title})]}),i.jsx("td",{children:O.customer?i.jsxs("div",{className:Pt.customerCell,children:[i.jsx(Ws,{size:14,className:"text-muted"}),O.customer.name]}):"-"}),i.jsx("td",{className:Pt.totalCell,children:ue(O.total)}),i.jsx("td",{className:Pt.dateCell,children:$(O.valid_until)}),i.jsx("td",{children:i.jsx("span",{className:`badge ${((W=Sh[O.status])==null?void 0:W.class)||"badge-neutral"}`,children:((V=Sh[O.status])==null?void 0:V.label)||O.status})}),i.jsx("td",{children:i.jsxs("div",{className:Pt.actionButtons,children:[i.jsx("button",{className:Pt.sendBtn,onClick:D=>le(O,D),title:"Send tilbud",children:i.jsx(la,{size:14})}),i.jsx("button",{className:Pt.pdfBtn,onClick:D=>te(O,D),disabled:k===O.id,title:"Last ned PDF",children:k===O.id?i.jsx(xd,{size:12,className:Pt.spinning}):i.jsx(Mh,{size:12})}),O.status==="pending"&&i.jsx("button",{className:Pt.convertBtn,onClick:D=>{D.stopPropagation(),S(O)},title:"Konverter til jobb",children:i.jsx(Ao,{size:12})}),i.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:D=>{D.stopPropagation(),s(`/tilbud/${O.id}/rediger`)},title:"Rediger",children:i.jsx(Tl,{size:16})}),i.jsx("button",{className:`btn btn-ghost btn-icon btn-sm ${Pt.deleteBtn}`,onClick:D=>{D.stopPropagation(),P(O)},title:"Slett",children:i.jsx(Ua,{size:16})})]})})]},O.id)})})]})})}),C&&i.jsx("div",{className:"modal-overlay",onClick:()=>P(null),children:i.jsxs("div",{className:"modal",onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Slett tilbud"}),i.jsx("button",{className:"modal-close",onClick:()=>P(null),children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Er du sikker p at du vil slette tilbud ",i.jsxs("strong",{children:["#",C.quote_number]}),"?"]}),i.jsx("p",{className:"text-muted mt-sm",children:"Denne handlingen kan ikke angres."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>P(null),children:"Avbryt"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>R(C.id),children:"Slett"})]})]})}),i.jsx(mC,{isOpen:!!E,onClose:()=>{U(null),q(null)},quote:E,customer:Z,organization:n,userEmail:(t==null?void 0:t.email)||(e==null?void 0:e.email),onSend:F}),L&&i.jsx("div",{className:"modal-overlay",onClick:()=>S(null),children:i.jsxs("div",{className:"modal",onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Konverter til jobb"}),i.jsx("button",{className:"modal-close",onClick:()=>S(null),children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Vil du konvertere tilbud ",i.jsxs("strong",{children:["#",L.quote_number," - ",L.title]})," til en aktiv jobb?"]}),i.jsx("p",{className:"text-muted mt-sm",children:'Tilbudet blir markert som "Akseptert" og en ny jobb opprettes automatisk.'})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>S(null),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>ee(L),children:[i.jsx(Ao,{size:16}),"Konverter til jobb"]})]})]})})]})}const t6="_formCard_l0al2_9",n6="_formSection_l0al2_23",r6="_sectionTitle_l0al2_31",s6="_customerSearch_l0al2_61",i6="_customerDropdown_l0al2_69",a6="_customerOption_l0al2_99",o6="_customerOptionName_l0al2_137",l6="_customerOptionEmail_l0al2_147",c6="_customerOptionCreate_l0al2_157",u6="_selectedCustomer_l0al2_167",d6="_selectedCustomerInfo_l0al2_187",h6="_selectedCustomerName_l0al2_199",f6="_selectedCustomerDetails_l0al2_209",p6="_clearCustomerBtn_l0al2_221",m6="_linesTable_l0al2_249",g6="_articleNumCol_l0al2_311",v6="_descriptionCol_l0al2_319",y6="_qtyCol_l0al2_327",_6="_unitCol_l0al2_335",b6="_costCol_l0al2_343",w6="_priceCol_l0al2_351",x6="_profitCol_l0al2_359",j6="_marginCol_l0al2_369",k6="_vatCol_l0al2_379",N6="_sumCol_l0al2_387",S6="_lineInput_l0al2_397",C6="_lineInputSmall_l0al2_427 _lineInput_l0al2_397",L6="_lineSum_l0al2_451",A6="_lineProfit_l0al2_465",P6="_lineMargin_l0al2_477",E6="_profitPositive_l0al2_491",T6="_profitNegative_l0al2_499",O6="_lineActions_l0al2_507",I6="_saveArticleBtn_l0al2_519",D6="_removeLineBtn_l0al2_559",R6="_addLineBtn_l0al2_595",F6="_totalsSection_l0al2_639",M6="_totalsTable_l0al2_651",B6="_totalsRow_l0al2_659",$6="_total_l0al2_639",q6="_profitRow_l0al2_689",z6="_totalsLabel_l0al2_701",U6="_totalsValue_l0al2_709",H6="_statusOptions_l0al2_721",W6="_statusOption_l0al2_721",V6="_active_l0al2_763",G6="_formActions_l0al2_777",K6="_articlePicker_l0al2_797",Y6="_articleDropdown_l0al2_805",J6="_articleOption_l0al2_835",Q6="_articleNumber_l0al2_867",X6="_articleName_l0al2_881",Z6="_articlePrice_l0al2_891",eL="_quickCreateModal_l0al2_903",tL="_quickCreateFields_l0al2_911",nL="_formRow_l0al2_925",rL="_mobileLineCards_l0al2_939",sL="_linesTableWrapper_l0al2_949",iL="_mobileLineCard_l0al2_939",aL="_mobileLineHeader_l0al2_1031",oL="_mobileLineTitle_l0al2_1047",lL="_mobileLineArticleNum_l0al2_1085",cL="_mobileLineDelete_l0al2_1115",uL="_mobileLineGrid_l0al2_1139",dL="_mobileLineField_l0al2_1153",hL="_mobileLineLabel_l0al2_1165",fL="_mobileLineValue_l0al2_1181",pL="_mobileLineSummary_l0al2_1223",mL="_mobileLineMargin_l0al2_1239",gL="_positive_l0al2_1247",vL="_negative_l0al2_1255",yL="_mobileLineTotal_l0al2_1263",ze={formCard:t6,formSection:n6,sectionTitle:r6,customerSearch:s6,customerDropdown:i6,customerOption:a6,customerOptionName:o6,customerOptionEmail:l6,customerOptionCreate:c6,selectedCustomer:u6,selectedCustomerInfo:d6,selectedCustomerName:h6,selectedCustomerDetails:f6,clearCustomerBtn:p6,linesTable:m6,articleNumCol:g6,descriptionCol:v6,qtyCol:y6,unitCol:_6,costCol:b6,priceCol:w6,profitCol:x6,marginCol:j6,vatCol:k6,sumCol:N6,lineInput:S6,lineInputSmall:C6,lineSum:L6,lineProfit:A6,lineMargin:P6,profitPositive:E6,profitNegative:T6,lineActions:O6,saveArticleBtn:I6,removeLineBtn:D6,addLineBtn:R6,totalsSection:F6,totalsTable:M6,totalsRow:B6,total:$6,profitRow:q6,totalsLabel:z6,totalsValue:U6,statusOptions:H6,statusOption:W6,active:V6,formActions:G6,articlePicker:K6,articleDropdown:Y6,articleOption:J6,articleNumber:Q6,articleName:X6,articlePrice:Z6,quickCreateModal:eL,quickCreateFields:tL,formRow:nL,mobileLineCards:rL,linesTableWrapper:sL,mobileLineCard:iL,mobileLineHeader:aL,mobileLineTitle:oL,mobileLineArticleNum:lL,mobileLineDelete:cL,mobileLineGrid:uL,mobileLineField:dL,mobileLineLabel:hL,mobileLineValue:fL,mobileLineSummary:pL,mobileLineMargin:mL,positive:gL,negative:vL,mobileLineTotal:yL},O1={article_number:"",description:"",quantity:1,unit_name:"stk",cost_price:0,unit_price:0,vat_percent:25},I1=["stk","timer","m","m","m","kg","tonn","lass","liter","pakke","sett","lpemeter","par","rull","boks"];function yp(){const{id:n}=Tu(),e=Gr(),{organization:t}=fr(),s=!!n,[l,o]=ae.useState(!1),[c,f]=ae.useState(!1),[d,p]=ae.useState({title:"",description:"",status:"draft",valid_until:an(oa(new Date,30),"yyyy-MM-dd")}),[y,_]=ae.useState([]),[b,v]=ae.useState(null),[C,P]=ae.useState(""),[L,S]=ae.useState(!1),[k,A]=ae.useState(!1),[E,U]=ae.useState({name:"",phone:"",email:""}),Z=ae.useRef(null),[q,B]=ae.useState([{...O1}]),[te,le]=ae.useState([]),[F,R]=ae.useState({}),[ee,G]=ae.useState({});ae.useEffect(()=>{t!=null&&t.id&&(ue(),$(),s&&X())},[t,n]),ae.useEffect(()=>{const pe=he=>{Z.current&&!Z.current.contains(he.target)&&S(!1)};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[]);const ue=async()=>{const{data:pe}=await Je.from("customers").select("*").eq("organization_id",t.id).order("name");_(pe||[])},$=async()=>{const{data:pe}=await Je.from("articles").select("*").eq("organization_id",t.id).order("name");le(pe||[])},X=async()=>{o(!0);try{const{data:pe,error:he}=await Je.from("quotes").select(`
          *,
          customer:customers(*),
          lines:quote_lines(*, article:articles(article_number))
        `).eq("id",n).single();if(he)throw he;p({title:pe.title||"",description:pe.description||"",status:pe.status||"draft",valid_until:pe.valid_until||an(oa(new Date,30),"yyyy-MM-dd")}),pe.customer&&v(pe.customer),pe.lines&&pe.lines.length>0&&B(pe.lines.map(se=>{var De;return{id:se.id,article_id:se.article_id||null,article_number:((De=se.article)==null?void 0:De.article_number)||"",description:se.description||"",quantity:se.quantity||1,cost_price:se.cost_price||0,unit_price:se.unit_price||0,vat_percent:se.vat_rate||25}}))}catch(pe){console.error("Error fetching quote:",pe),e("/tilbud")}finally{o(!1)}},O=y.filter(pe=>{var he,se,De;return((he=pe.name)==null?void 0:he.toLowerCase().includes(C.toLowerCase()))||((se=pe.email)==null?void 0:se.toLowerCase().includes(C.toLowerCase()))||((De=pe.phone)==null?void 0:De.includes(C))}),W=pe=>{v(pe),P(""),S(!1)},V=async()=>{if(E.name.trim())try{const{data:pe,error:he}=await Je.from("customers").insert([{organization_id:t.id,name:E.name.trim(),phone:E.phone.trim()||null,email:E.email.trim()||null}]).select().single();if(he)throw he;_([...y,pe]),v(pe),U({name:"",phone:"",email:""}),A(!1)}catch(pe){console.error("Error creating customer:",pe),alert("Kunne ikke opprette kunde. Prv igjen.")}},D=()=>{B([...q,{...O1}])},N=(pe,he,se)=>{const De=[...q];De[pe]={...De[pe],[he]:se},B(De)},M=pe=>{q.length!==1&&B(q.filter((he,se)=>se!==pe))},Q=(pe,he,se)=>{const De=["article_number","quantity","cost_price","unit_price"],Xe=De.indexOf(se);if(pe.key==="ArrowLeft"&&Xe>0){pe.preventDefault();const Ie=De[Xe-1],Ye=document.querySelector(`[data-row="${he}"][data-field="${Ie}"]`);Ye&&(Ye.focus(),Ye.select())}else if(pe.key==="ArrowRight"&&Xe<De.length-1){pe.preventDefault();const Ie=De[Xe+1],Ye=document.querySelector(`[data-row="${he}"][data-field="${Ie}"]`);Ye&&(Ye.focus(),Ye.select())}else if(pe.key==="ArrowDown"&&he<q.length-1){pe.preventDefault();const Ie=document.querySelector(`[data-row="${he+1}"][data-field="${se}"]`);Ie&&(Ie.focus(),Ie.select())}else if(pe.key==="ArrowUp"&&he>0){pe.preventDefault();const Ie=document.querySelector(`[data-row="${he-1}"][data-field="${se}"]`);Ie&&(Ie.focus(),Ie.select())}else if(pe.key==="Tab"&&!pe.shiftKey&&Xe===De.length-1&&he<q.length-1){pe.preventDefault();const Ie=document.querySelector(`[data-row="${he+1}"][data-field="${De[0]}"]`);Ie&&(Ie.focus(),Ie.select())}},ie=(pe,he)=>{const se=[...q];se[pe]={...se[pe],article_id:he.id,article_number:he.article_number||"",description:he.name,unit_name:he.unit_name||"stk",cost_price:he.cost_price||0,unit_price:he.sale_price||0},B(se);const De={...F};delete De[pe],R(De),G({...ee,[pe]:!1})},oe=async pe=>{var he;if(!((he=pe.description)!=null&&he.trim())){alert("Artikkelen m ha en beskrivelse/navn");return}try{const{data:se}=await Je.from("articles").select("id").eq("organization_id",t.id).eq("name",pe.description.trim()).single();if(se){const{error:De}=await Je.from("articles").update({article_number:pe.article_number||null,cost_price:pe.cost_price||0,sale_price:pe.unit_price||0,vat_rate:pe.vat_percent||25}).eq("id",se.id);if(De)throw De;le(te.map(Xe=>Xe.id===se.id?{...Xe,article_number:pe.article_number||null,cost_price:pe.cost_price||0,sale_price:pe.unit_price||0,vat_rate:pe.vat_percent||25}:Xe)),alert(`Artikkel "${pe.description}" er oppdatert!`)}else{const{data:De,error:Xe}=await Je.from("articles").insert([{organization_id:t.id,article_number:pe.article_number||null,name:pe.description.trim(),cost_price:pe.cost_price||0,sale_price:pe.unit_price||0,vat_rate:pe.vat_percent||25}]).select().single();if(Xe)throw Xe;le([...te,De]),alert(`Artikkel "${pe.description}" er lagret!`)}}catch(se){console.error("Error saving article:",se),alert("Kunne ikke lagre artikkel. Prv igjen.")}},ve=pe=>{const he=(pe.quantity||0)*(pe.unit_price||0),se=he*((pe.vat_percent||0)/100);return he+se},ge=()=>{let pe=0,he=0,se=0;return q.forEach(De=>{const Xe=(De.quantity||0)*(De.unit_price||0),Ie=(De.quantity||0)*(De.cost_price||0),Ye=Xe*((De.vat_percent||0)/100);pe+=Xe,he+=Ye,se+=Ie}),{subtotal:pe,vat:he,total:pe+he,cost:se,profit:pe-se,margin:pe>0?(pe-se)/pe*100:0}},ke=pe=>{const he=(pe.quantity||0)*(pe.unit_price||0),se=(pe.quantity||0)*(pe.cost_price||0);return he-se},$e=pe=>{const he=(pe.quantity||0)*(pe.unit_price||0),se=(pe.quantity||0)*(pe.cost_price||0);return he===0?0:(he-se)/he*100},He=pe=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(pe||0),Ue=async pe=>{if(pe.preventDefault(),!d.title.trim()){alert("Vennligst fyll inn tittel");return}f(!0);try{const he=ge(),se={organization_id:t.id,customer_id:(b==null?void 0:b.id)||null,title:d.title.trim(),description:d.description.trim()||null,status:d.status,valid_until:d.valid_until||null,subtotal:he.subtotal,vat_amount:he.vat,total:he.total};let De=n;if(s){const{error:Xe}=await Je.from("quotes").update(se).eq("id",n);if(Xe)throw Xe;await Je.from("quote_lines").delete().eq("quote_id",n)}else{const{data:Xe,error:Ie}=await Je.from("quotes").insert([se]).select().single();if(Ie)throw Ie;De=Xe.id}if(q.length>0&&De){const Xe=q.filter(Ie=>Ie.description.trim()).map((Ie,Ye)=>({quote_id:De,sort_order:Ye,article_id:Ie.article_id||null,description:Ie.description.trim(),quantity:Ie.quantity||1,cost_price:Ie.cost_price||0,unit_price:Ie.unit_price||0,vat_rate:Ie.vat_percent||25,total:ve(Ie)}));if(Xe.length>0){const{error:Ie}=await Je.from("quote_lines").insert(Xe);if(Ie)throw Ie}}e("/tilbud")}catch(he){console.error("Error saving quote:",he),alert("Kunne ikke lagre tilbud. Prv igjen.")}finally{f(!1)}},me=ge();return l?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{children:[i.jsxs("div",{className:"page-header",style:{marginBottom:"var(--space-lg)"},children:[i.jsxs(on,{to:"/tilbud",className:"btn btn-ghost",children:[i.jsx(Ad,{size:18}),"Tilbake"]}),i.jsx("h1",{className:"page-title",children:s?"Rediger tilbud":"Nytt tilbud"})]}),i.jsx("form",{onSubmit:Ue,children:i.jsxs("div",{className:ze.formCard,children:[i.jsxs("div",{className:ze.formSection,children:[i.jsxs("h3",{className:ze.sectionTitle,children:[i.jsx(Ws,{size:18}),"Kunde"]}),b?i.jsxs("div",{className:ze.selectedCustomer,children:[i.jsxs("div",{className:ze.selectedCustomerInfo,children:[i.jsx(Ws,{size:16,className:"text-muted"}),i.jsx("span",{className:ze.selectedCustomerName,children:b.name}),(b.email||b.phone)&&i.jsxs("span",{className:ze.selectedCustomerDetails,children:[b.email," ",b.phone&&` ${b.phone}`]})]}),i.jsx("button",{type:"button",className:ze.clearCustomerBtn,onClick:()=>v(null),children:i.jsx(hr,{size:16})})]}):i.jsxs("div",{className:ze.customerSearch,ref:Z,children:[i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Tc,{size:18}),i.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Sk etter kunde...",value:C,onChange:pe=>{P(pe.target.value),S(!0)},onFocus:()=>S(!0)})]}),L&&i.jsxs("div",{className:ze.customerDropdown,children:[O.slice(0,5).map(pe=>i.jsxs("div",{className:ze.customerOption,onClick:()=>W(pe),children:[i.jsx(Ws,{size:14,className:"text-muted"}),i.jsxs("div",{children:[i.jsx("div",{className:ze.customerOptionName,children:pe.name}),pe.email&&i.jsx("div",{className:ze.customerOptionEmail,children:pe.email})]})]},pe.id)),i.jsxs("div",{className:`${ze.customerOption} ${ze.customerOptionCreate}`,onClick:()=>{U({...E,name:C}),A(!0),S(!1)},children:[i.jsx(jn,{size:14}),i.jsx("span",{children:"Opprett ny kunde"})]})]})]})]}),i.jsxs("div",{className:ze.formSection,children:[i.jsxs("h3",{className:ze.sectionTitle,children:[i.jsx(ca,{size:18}),"Tilbudsdetaljer"]}),i.jsxs("div",{className:ze.formRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tittel *"}),i.jsx("input",{type:"text",className:"form-input",value:d.title,onChange:pe=>p({...d,title:pe.target.value}),placeholder:"F.eks. Maling av stue",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Gyldig til"}),i.jsx(qh,{name:"valid_until",value:d.valid_until,onChange:pe=>p({...d,valid_until:pe.target.value})})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Beskrivelse"}),i.jsx("textarea",{className:"form-input",rows:3,value:d.description,onChange:pe=>p({...d,description:pe.target.value}),placeholder:"Beskrivelse av arbeidet..."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Status"}),i.jsx("div",{className:ze.statusOptions,children:[{value:"draft",label:"Utkast"},{value:"pending",label:"Sendt"}].map(pe=>i.jsx("button",{type:"button",className:`${ze.statusOption} ${d.status===pe.value?ze.active:""}`,onClick:()=>p({...d,status:pe.value}),children:pe.label},pe.value))})]})]}),i.jsxs("div",{className:ze.formSection,children:[i.jsxs("h3",{className:ze.sectionTitle,children:[i.jsx(kc,{size:18}),"Artikler / Linjer"]}),i.jsxs("div",{className:ze.linesTableWrapper,children:[i.jsxs("table",{className:ze.linesTable,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:ze.articleNumCol,children:"Art.nr"}),i.jsx("th",{className:ze.descriptionCol,children:"Beskrivelse"}),i.jsx("th",{className:ze.qtyCol,children:"Antall"}),i.jsx("th",{className:ze.unitCol,children:"Enhet"}),i.jsx("th",{className:ze.costCol,children:"Kostpris"}),i.jsx("th",{className:ze.priceCol,children:"Pris"}),i.jsx("th",{className:ze.profitCol,children:"Fortjeneste"}),i.jsx("th",{className:ze.marginCol,children:"DG %"}),i.jsx("th",{className:ze.vatCol,children:"MVA %"}),i.jsx("th",{className:ze.sumCol,children:"Sum"}),i.jsx("th",{})]})}),i.jsx("tbody",{children:q.map((pe,he)=>{var se;return i.jsxs("tr",{children:[i.jsxs("td",{className:ze.articlePicker,children:[i.jsx("input",{type:"text",className:ze.lineInput,value:pe.article_number||"",onChange:De=>{N(he,"article_number",De.target.value),G({...ee,[he]:!0})},onFocus:()=>G({...ee,[he]:!0}),onBlur:()=>setTimeout(()=>G({...ee,[he]:!1}),200),onKeyDown:De=>Q(De,he,"article_number"),"data-row":he,"data-field":"article_number",placeholder:""}),ee[he]&&te.length>0&&pe.article_number&&i.jsx("div",{className:ze.articleDropdown,children:te.filter(De=>{var Xe,Ie;return(Ie=De.article_number)==null?void 0:Ie.toLowerCase().includes(((Xe=pe.article_number)==null?void 0:Xe.toLowerCase())||"")}).slice(0,5).map(De=>i.jsxs("div",{className:ze.articleOption,onMouseDown:()=>ie(he,De),children:[i.jsx("div",{className:ze.articleNumber,children:De.article_number}),i.jsx("div",{className:ze.articleName,children:De.name}),De.sale_price&&i.jsx("div",{className:ze.articlePrice,children:He(De.sale_price)})]},De.id))})]}),i.jsxs("td",{className:ze.articlePicker,children:[i.jsx("input",{type:"text",className:ze.lineInput,value:F[he]!==void 0?F[he]:pe.description,onChange:De=>{R({...F,[he]:De.target.value}),N(he,"description",De.target.value),G({...ee,[he]:!0})},onFocus:()=>G({...ee,[he]:!0}),onBlur:()=>setTimeout(()=>G({...ee,[he]:!1}),200),placeholder:"Skriv eller velg artikkel..."}),ee[he]&&te.length>0&&i.jsx("div",{className:ze.articleDropdown,children:te.filter(De=>{var Xe;return De.name.toLowerCase().includes(((Xe=pe.description)==null?void 0:Xe.toLowerCase())||"")}).slice(0,5).map(De=>i.jsxs("div",{className:ze.articleOption,onMouseDown:()=>ie(he,De),children:[i.jsx("div",{className:ze.articleName,children:De.name}),De.sale_price&&i.jsx("div",{className:ze.articlePrice,children:He(De.sale_price)})]},De.id))})]}),i.jsx("td",{children:i.jsx("input",{type:"number",className:ze.lineInputSmall,value:pe.quantity||"",onChange:De=>N(he,"quantity",parseFloat(De.target.value)||0),onFocus:De=>De.target.select(),onKeyDown:De=>Q(De,he,"quantity"),"data-row":he,"data-field":"quantity",min:"0",step:"0.5",placeholder:"0"})}),i.jsx("td",{children:i.jsx("select",{className:ze.lineInputSmall,value:pe.unit_name||"stk",onChange:De=>N(he,"unit_name",De.target.value),children:I1.map(De=>i.jsx("option",{value:De,children:De},De))})}),i.jsx("td",{children:i.jsx("input",{type:"number",className:ze.lineInputSmall,value:pe.cost_price||"",onChange:De=>N(he,"cost_price",parseFloat(De.target.value)||0),onFocus:De=>De.target.select(),onKeyDown:De=>Q(De,he,"cost_price"),"data-row":he,"data-field":"cost_price",min:"0",placeholder:"0"})}),i.jsx("td",{children:i.jsx("input",{type:"number",className:ze.lineInputSmall,value:pe.unit_price||"",onChange:De=>N(he,"unit_price",parseFloat(De.target.value)||0),onFocus:De=>De.target.select(),onKeyDown:De=>Q(De,he,"unit_price"),"data-row":he,"data-field":"unit_price",min:"0",placeholder:"0"})}),i.jsx("td",{className:`${ze.lineProfit} ${ke(pe)>=0?ze.profitPositive:ze.profitNegative}`,children:He(ke(pe))}),i.jsxs("td",{className:`${ze.lineMargin} ${$e(pe)>=0?ze.profitPositive:ze.profitNegative}`,children:[$e(pe).toFixed(1),"%"]}),i.jsx("td",{children:i.jsxs("select",{className:ze.lineInput,value:pe.vat_percent,onChange:De=>N(he,"vat_percent",parseFloat(De.target.value)),children:[i.jsx("option",{value:0,children:"0%"}),i.jsx("option",{value:12,children:"12%"}),i.jsx("option",{value:15,children:"15%"}),i.jsx("option",{value:25,children:"25%"})]})}),i.jsx("td",{className:ze.lineSum,children:He(ve(pe))}),i.jsxs("td",{className:ze.lineActions,children:[i.jsx("button",{type:"button",className:ze.saveArticleBtn,onClick:()=>oe(pe),title:"Lagre som artikkel",disabled:!((se=pe.description)!=null&&se.trim()),children:i.jsx(mb,{size:14})}),i.jsx("button",{type:"button",className:ze.removeLineBtn,onClick:()=>M(he),disabled:q.length===1,title:"Fjern linje",children:i.jsx(hr,{size:16})})]})]},he)})})]}),i.jsxs("button",{type:"button",className:ze.addLineBtn,onClick:D,children:[i.jsx(jn,{size:16}),"Legg til linje"]})]}),i.jsxs("div",{className:ze.mobileLineCards,children:[q.map((pe,he)=>i.jsxs("div",{className:ze.mobileLineCard,children:[i.jsxs("div",{className:ze.mobileLineHeader,children:[i.jsxs("div",{className:ze.mobileLineTitle,children:[i.jsx("input",{type:"text",value:F[he]!==void 0?F[he]:pe.description,onChange:se=>{R({...F,[he]:se.target.value}),N(he,"description",se.target.value)},placeholder:"Beskrivelse..."}),i.jsx("div",{className:ze.mobileLineArticleNum,children:i.jsx("input",{type:"text",value:pe.article_number||"",onChange:se=>N(he,"article_number",se.target.value),placeholder:"Art.nr"})})]}),i.jsx("button",{type:"button",className:ze.mobileLineDelete,onClick:()=>M(he),disabled:q.length===1,children:i.jsx(hr,{size:18})})]}),i.jsxs("div",{className:ze.mobileLineGrid,children:[i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"Antall"}),i.jsx("div",{className:ze.mobileLineValue,children:i.jsx("input",{type:"number",value:pe.quantity||"",onChange:se=>N(he,"quantity",parseFloat(se.target.value)||0),placeholder:"0"})})]}),i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"Enhet"}),i.jsx("div",{className:ze.mobileLineValue,children:i.jsx("select",{value:pe.unit_name||"stk",onChange:se=>N(he,"unit_name",se.target.value),children:I1.map(se=>i.jsx("option",{value:se,children:se},se))})})]}),i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"Kostpris"}),i.jsx("div",{className:ze.mobileLineValue,children:i.jsx("input",{type:"number",value:pe.cost_price||"",onChange:se=>N(he,"cost_price",parseFloat(se.target.value)||0),placeholder:"0"})})]}),i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"Pris"}),i.jsx("div",{className:ze.mobileLineValue,children:i.jsx("input",{type:"number",value:pe.unit_price||"",onChange:se=>N(he,"unit_price",parseFloat(se.target.value)||0),placeholder:"0"})})]}),i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"MVA %"}),i.jsx("div",{className:ze.mobileLineValue,children:i.jsxs("select",{value:pe.vat_percent,onChange:se=>N(he,"vat_percent",parseFloat(se.target.value)),children:[i.jsx("option",{value:0,children:"0%"}),i.jsx("option",{value:12,children:"12%"}),i.jsx("option",{value:15,children:"15%"}),i.jsx("option",{value:25,children:"25%"})]})})]}),i.jsxs("div",{className:ze.mobileLineField,children:[i.jsx("span",{className:ze.mobileLineLabel,children:"DG %"}),i.jsxs("div",{className:`${ze.mobileLineMargin} ${$e(pe)>=0?ze.positive:ze.negative}`,children:[$e(pe).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:ze.mobileLineSummary,children:[i.jsxs("span",{className:`${ze.mobileLineMargin} ${ke(pe)>=0?ze.positive:ze.negative}`,children:["Fortjeneste: ",He(ke(pe))]}),i.jsx("span",{className:ze.mobileLineTotal,children:He(ve(pe))})]})]},he)),i.jsxs("button",{type:"button",className:ze.addLineBtn,onClick:D,children:[i.jsx(jn,{size:16}),"Legg til linje"]})]}),i.jsx("div",{className:ze.totalsSection,children:i.jsxs("div",{className:ze.totalsTable,children:[i.jsxs("div",{className:ze.totalsRow,children:[i.jsx("span",{className:ze.totalsLabel,children:"Subtotal eks. mva"}),i.jsx("span",{className:ze.totalsValue,children:He(me.subtotal)})]}),i.jsxs("div",{className:ze.totalsRow,children:[i.jsx("span",{className:ze.totalsLabel,children:"MVA"}),i.jsx("span",{className:ze.totalsValue,children:He(me.vat)})]}),i.jsxs("div",{className:`${ze.totalsRow} ${ze.total}`,children:[i.jsx("span",{className:ze.totalsLabel,children:"Totalt inkl. mva"}),i.jsx("span",{className:ze.totalsValue,children:He(me.total)})]}),i.jsxs("div",{className:`${ze.totalsRow} ${ze.profitRow}`,children:[i.jsx("span",{className:ze.totalsLabel,children:"Fortjeneste eks. mva"}),i.jsx("span",{className:`${ze.totalsValue} ${me.profit>=0?ze.profitPositive:ze.profitNegative}`,children:He(me.profit)})]}),i.jsxs("div",{className:ze.totalsRow,children:[i.jsx("span",{className:ze.totalsLabel,children:"Dekningsgrad"}),i.jsxs("span",{className:`${ze.totalsValue} ${me.margin>=0?ze.profitPositive:ze.profitNegative}`,children:[me.margin.toFixed(1),"%"]})]})]})})]}),i.jsxs("div",{className:ze.formActions,children:[i.jsx(on,{to:"/tilbud",className:"btn btn-secondary",children:"Avbryt"}),i.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:c,children:[i.jsx($a,{size:18}),c?"Lagrer...":s?"Oppdater tilbud":"Opprett tilbud"]})]})]})}),k&&i.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:i.jsxs("div",{className:`modal ${ze.quickCreateModal}`,onClick:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Opprett ny kunde"}),i.jsx("button",{className:"modal-close",onClick:()=>A(!1),children:""})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:ze.quickCreateFields,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Navn *"}),i.jsx("input",{type:"text",className:"form-input",value:E.name,onChange:pe=>U({...E,name:pe.target.value}),autoFocus:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Telefon"}),i.jsx("input",{type:"tel",className:"form-input",value:E.phone,onChange:pe=>U({...E,phone:pe.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"E-post"}),i.jsx("input",{type:"email",className:"form-input",value:E.email,onChange:pe=>U({...E,email:pe.target.value})})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>A(!1),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:V,disabled:!E.name.trim(),children:[i.jsx(jn,{size:16}),"Opprett kunde"]})]})]})})]})}const _L="_header_kno4t_1",bL="_title_kno4t_15",wL="_subtitle_kno4t_27",xL="_statsGrid_kno4t_41",jL="_statCard_kno4t_55",kL="_statLabel_kno4t_75",NL="_statValue_kno4t_89",SL="_statSuccess_kno4t_99",CL="_statWarning_kno4t_107",LL="_statDanger_kno4t_115",AL="_filters_kno4t_125",PL="_searchWrapper_kno4t_139",EL="_searchIcon_kno4t_151",TL="_searchInput_kno4t_167",OL="_statusFilters_kno4t_175",IL="_filterBtn_kno4t_187",DL="_filterBtnActive_kno4t_219",RL="_emptyState_kno4t_243",FL="_invoicesList_kno4t_299",ML="_listHeader_kno4t_313",BL="_invoiceRow_kno4t_339",$L="_invoiceInfo_kno4t_369",qL="_invoiceNumber_kno4t_381",zL="_invoiceTitle_kno4t_391",UL="_customerName_kno4t_401",HL="_date_kno4t_411",WL="_overdueDate_kno4t_421",VL="_amount_kno4t_431",GL="_statusBadge_kno4t_441",KL="_actions_kno4t_461",YL="_menuBtn_kno4t_469",JL="_dropdown_kno4t_507",QL="_deleteBtn_kno4t_571",XL="_deleteWarning_kno4t_587",ZL="_mobileInvoiceCards_kno4t_749",e8="_mobileInvoiceCard_kno4t_749",t8="_mobileCardHeader_kno4t_801",n8="_mobileCardInfo_kno4t_815",r8="_mobileCardGrid_kno4t_837",s8="_mobileCardItem_kno4t_853",i8="_mobileCardLabel_kno4t_865",a8="_mobileCardValue_kno4t_879",o8="_overdue_kno4t_421",l8="_mobileCardFooter_kno4t_907",c8="_mobileCardAmount_kno4t_925",pt={header:_L,title:bL,subtitle:wL,statsGrid:xL,statCard:jL,statLabel:kL,statValue:NL,statSuccess:SL,statWarning:CL,statDanger:LL,filters:AL,searchWrapper:PL,searchIcon:EL,searchInput:TL,statusFilters:OL,filterBtn:IL,filterBtnActive:DL,emptyState:RL,invoicesList:FL,listHeader:ML,invoiceRow:BL,invoiceInfo:$L,invoiceNumber:qL,invoiceTitle:zL,customerName:UL,date:HL,overdueDate:WL,amount:VL,statusBadge:GL,actions:KL,menuBtn:YL,dropdown:JL,deleteBtn:QL,deleteWarning:XL,mobileInvoiceCards:ZL,mobileInvoiceCard:e8,mobileCardHeader:t8,mobileCardInfo:n8,mobileCardGrid:r8,mobileCardItem:s8,mobileCardLabel:i8,mobileCardValue:a8,overdue:o8,mobileCardFooter:l8,mobileCardAmount:c8},id={draft:{label:"Utkast",icon:ca,color:"var(--color-text-secondary)"},sent:{label:"Sendt",icon:jd,color:"var(--color-primary)"},paid:{label:"Betalt",icon:Dl,color:"var(--color-success)"},overdue:{label:"Forfalt",icon:Lb,color:"var(--color-error)"},cancelled:{label:"Kansellert",icon:_b,color:"var(--color-text-muted)"}};function u8(){const n=Gr(),{organization:e}=fr(),[t,s]=ae.useState([]),[l,o]=ae.useState(!0),[c,f]=ae.useState(""),[d,p]=ae.useState("all"),[y,_]=ae.useState(null),[b,v]=ae.useState(null);ae.useEffect(()=>{e!=null&&e.id&&C()},[e]),ae.useEffect(()=>{const E=async()=>{const U=new Date().toISOString().split("T")[0],Z=t.filter(q=>q.status==="sent"&&q.due_date&&q.due_date<U);if(Z.length>0){for(const q of Z)await Je.from("invoices").update({status:"overdue"}).eq("id",q.id);C()}};t.length>0&&E()},[t.length]);const C=async()=>{try{const{data:E,error:U}=await Je.from("invoices").select(`
          *,
          customer:customers(id, name, email),
          job:jobs(id, title)
        `).eq("organization_id",e.id).order("created_at",{ascending:!1});if(U)throw U;s(E||[])}catch(E){console.error("Error fetching invoices:",E)}finally{o(!1)}},P=async E=>{try{const{error:U}=await Je.from("invoices").delete().eq("id",E);if(U)throw U;s(t.filter(Z=>Z.id!==E)),v(null)}catch(U){console.error("Error deleting invoice:",U),alert("Kunne ikke slette faktura. Prv igjen.")}},L=async(E,U)=>{try{const Z={status:U};U==="sent"?Z.sent_at=new Date().toISOString():U==="paid"&&(Z.paid_at=new Date().toISOString());const{error:q}=await Je.from("invoices").update(Z).eq("id",E);if(q)throw q;s(t.map(B=>B.id===E?{...B,...Z}:B)),_(null)}catch(Z){console.error("Error updating invoice:",Z),alert("Kunne ikke oppdatere faktura. Prv igjen.")}},S=E=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(E||0),k=t.filter(E=>{var q,B,te,le;const U=((q=E.invoice_number)==null?void 0:q.toString().includes(c))||((B=E.title)==null?void 0:B.toLowerCase().includes(c.toLowerCase()))||((le=(te=E.customer)==null?void 0:te.name)==null?void 0:le.toLowerCase().includes(c.toLowerCase())),Z=d==="all"||E.status===d;return U&&Z}),A={total:t.length,draft:t.filter(E=>E.status==="draft").length,sent:t.filter(E=>E.status==="sent").length,paid:t.filter(E=>E.status==="paid").length,overdue:t.filter(E=>E.status==="overdue").length,totalAmount:t.filter(E=>E.status!=="cancelled").reduce((E,U)=>E+(U.total||0),0),paidAmount:t.filter(E=>E.status==="paid").reduce((E,U)=>E+(U.total||0),0),pendingAmount:t.filter(E=>["sent","overdue"].includes(E.status)).reduce((E,U)=>E+(U.total||0),0)};return l?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{className:"page-container",children:[i.jsxs("div",{className:pt.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:pt.title,children:"Fakturaer"}),i.jsxs("p",{className:pt.subtitle,children:[A.total," ",A.total===1?"faktura":"fakturaer"," totalt"]})]}),i.jsxs(on,{to:"/fakturaer/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Ny faktura"]})]}),i.jsxs("div",{className:pt.statsGrid,children:[i.jsxs("div",{className:pt.statCard,children:[i.jsx("span",{className:pt.statLabel,children:"Totalt fakturert"}),i.jsx("span",{className:pt.statValue,children:S(A.totalAmount)})]}),i.jsxs("div",{className:pt.statCard,children:[i.jsx("span",{className:pt.statLabel,children:"Betalt"}),i.jsx("span",{className:`${pt.statValue} ${pt.statSuccess}`,children:S(A.paidAmount)})]}),i.jsxs("div",{className:pt.statCard,children:[i.jsx("span",{className:pt.statLabel,children:"Utestende"}),i.jsx("span",{className:`${pt.statValue} ${pt.statWarning}`,children:S(A.pendingAmount)})]}),i.jsxs("div",{className:pt.statCard,children:[i.jsx("span",{className:pt.statLabel,children:"Forfalt"}),i.jsx("span",{className:`${pt.statValue} ${pt.statDanger}`,children:A.overdue})]})]}),i.jsxs("div",{className:pt.filters,children:[i.jsxs("div",{className:pt.searchWrapper,children:[i.jsx(Tc,{size:18,className:pt.searchIcon}),i.jsx("input",{type:"text",className:`form-input ${pt.searchInput}`,placeholder:"Sk p fakturanummer, tittel eller kunde...",value:c,onChange:E=>f(E.target.value)})]}),i.jsxs("div",{className:pt.statusFilters,children:[i.jsx("button",{className:`${pt.filterBtn} ${d==="all"?pt.filterBtnActive:""}`,onClick:()=>p("all"),children:"Alle"}),Object.entries(id).map(([E,U])=>i.jsx("button",{className:`${pt.filterBtn} ${d===E?pt.filterBtnActive:""}`,onClick:()=>p(E),children:U.label},E))]})]}),k.length===0?i.jsxs("div",{className:pt.emptyState,children:[i.jsx(ca,{size:48,strokeWidth:1.5}),i.jsx("h3",{children:"Ingen fakturaer"}),i.jsx("p",{children:c||d!=="all"?"Ingen fakturaer matcher sket ditt.":"Opprett din frste faktura for  komme i gang."}),!c&&d==="all"&&i.jsxs(on,{to:"/fakturaer/ny",className:"btn btn-primary",children:[i.jsx(jn,{size:18}),"Ny faktura"]})]}):i.jsxs("div",{className:pt.invoicesList,children:[i.jsxs("div",{className:pt.listHeader,children:[i.jsx("span",{children:"Faktura"}),i.jsx("span",{children:"Kunde"}),i.jsx("span",{children:"Dato"}),i.jsx("span",{children:"Forfall"}),i.jsx("span",{children:"Belp"}),i.jsx("span",{children:"Status"}),i.jsx("span",{})]}),k.map(E=>{var B,te;const U=id[E.status]||id.draft,Z=U.icon,q=E.status==="sent"&&E.due_date&&new Date(E.due_date)<new Date;return i.jsxs("div",{className:pt.invoiceRow,onClick:()=>n(`/fakturaer/${E.id}`),children:[i.jsxs("div",{className:pt.invoiceInfo,children:[i.jsxs("span",{className:pt.invoiceNumber,children:["#",E.invoice_number]}),i.jsx("span",{className:pt.invoiceTitle,children:E.title||"Uten tittel"})]}),i.jsx("span",{className:pt.customerName,children:((B=E.customer)==null?void 0:B.name)||"Ingen kunde"}),i.jsx("span",{className:pt.date,children:E.invoice_date?an(new Date(E.invoice_date),"d. MMM yyyy",{locale:Ss}):"-"}),i.jsx("span",{className:`${pt.date} ${q?pt.overdueDate:""}`,children:E.due_date?an(new Date(E.due_date),"d. MMM yyyy",{locale:Ss}):"-"}),i.jsx("span",{className:pt.amount,children:S(E.total)}),i.jsxs("span",{className:pt.statusBadge,style:{backgroundColor:`${U.color}15`,color:U.color},children:[i.jsx(Z,{size:14}),U.label]}),i.jsxs("div",{className:pt.actions,onClick:le=>le.stopPropagation(),children:[i.jsx("button",{className:pt.menuBtn,onClick:()=>_(y===E.id?null:E.id),children:i.jsx(wb,{size:18})}),y===E.id&&i.jsxs("div",{className:pt.dropdown,children:[i.jsxs("button",{onClick:()=>n(`/fakturaer/${E.id}`),children:[i.jsx(xb,{size:16}),"Vis faktura"]}),E.status==="draft"&&i.jsxs("button",{onClick:()=>L(E.id,"sent"),children:[i.jsx(jd,{size:16}),"Marker som sendt"]}),["sent","overdue"].includes(E.status)&&i.jsxs("button",{onClick:()=>L(E.id,"paid"),children:[i.jsx(Dl,{size:16}),"Marker som betalt"]}),((te=E.customer)==null?void 0:te.email)&&E.status==="draft"&&i.jsxs("button",{onClick:()=>n(`/fakturaer/${E.id}?send=true`),children:[i.jsx(la,{size:16}),"Send p e-post"]}),i.jsxs("button",{onClick:()=>n(`/fakturaer/${E.id}?pdf=true`),children:[i.jsx(Mh,{size:16}),"Last ned PDF"]}),E.status==="draft"&&i.jsxs("button",{className:pt.deleteBtn,onClick:()=>v(E),children:[i.jsx(Ua,{size:16}),"Slett"]})]})]})]},E.id)}),i.jsx("div",{className:pt.mobileInvoiceCards,children:k.map(E=>{var B;const U=id[E.status]||id.draft,Z=U.icon,q=E.status==="sent"&&E.due_date&&new Date(E.due_date)<new Date;return i.jsxs("div",{className:pt.mobileInvoiceCard,onClick:()=>n(`/fakturaer/${E.id}`),children:[i.jsxs("div",{className:pt.mobileCardHeader,children:[i.jsxs("div",{className:pt.mobileCardInfo,children:[i.jsxs("h4",{children:["#",E.invoice_number," ",E.title||""]}),i.jsx("span",{children:((B=E.customer)==null?void 0:B.name)||"Ingen kunde"})]}),i.jsxs("span",{className:pt.statusBadge,style:{backgroundColor:`${U.color}15`,color:U.color},children:[i.jsx(Z,{size:14}),U.label]})]}),i.jsxs("div",{className:pt.mobileCardGrid,children:[i.jsxs("div",{className:pt.mobileCardItem,children:[i.jsx("span",{className:pt.mobileCardLabel,children:"Fakturadato"}),i.jsx("span",{className:pt.mobileCardValue,children:E.invoice_date?an(new Date(E.invoice_date),"d. MMM yyyy",{locale:Ss}):"-"})]}),i.jsxs("div",{className:pt.mobileCardItem,children:[i.jsx("span",{className:pt.mobileCardLabel,children:"Forfall"}),i.jsx("span",{className:`${pt.mobileCardValue} ${q?pt.overdue:""}`,children:E.due_date?an(new Date(E.due_date),"d. MMM yyyy",{locale:Ss}):"-"})]})]}),i.jsx("div",{className:pt.mobileCardFooter,children:i.jsx("span",{className:pt.mobileCardAmount,children:S(E.total)})})]},E.id)})})]}),b&&i.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:i.jsxs("div",{className:"modal modal-sm",onClick:E=>E.stopPropagation(),children:[i.jsx("div",{className:"modal-header",children:i.jsx("h3",{className:"modal-title",children:"Slett faktura"})}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Er du sikker p at du vil slette faktura ",i.jsxs("strong",{children:["#",b.invoice_number]}),"?"]}),i.jsx("p",{className:pt.deleteWarning,children:"Denne handlingen kan ikke angres."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>v(null),children:"Avbryt"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>P(b.id),children:"Slett faktura"})]})]})})]})}const d8="_header_w7bg7_1",h8="_headerLeft_w7bg7_19",f8="_backButton_w7bg7_31",p8="_title_w7bg7_65",m8="_statusBadge_w7bg7_77",g8="_headerActions_w7bg7_95",v8="_content_w7bg7_105",y8="_formColumn_w7bg7_121",_8="_card_w7bg7_133",b8="_cardTitle_w7bg7_141",w8="_dateRow_w7bg7_165",x8="_customerSelect_w7bg7_179",j8="_selectedCustomer_w7bg7_187",k8="_changeBtn_w7bg7_217",N8="_customerDropdown_w7bg7_247",S8="_customerOption_w7bg7_275",C8="_customerInfo_w7bg7_325",L8="_linesHeader_w7bg7_337",A8="_desktopLinesTable_w7bg7_359",P8="_noLines_w7bg7_367",E8="_linesTable_w7bg7_381",T8="_linesTableHeader_w7bg7_393",O8="_lineRow_w7bg7_417",I8="_lineSum_w7bg7_455",D8="_lineActions_w7bg7_463",R8="_iconBtn_w7bg7_473",F8="_deleteBtn_w7bg7_511",M8="_totals_w7bg7_523",B8="_totalRow_w7bg7_543",$8="_grandTotal_w7bg7_557",q8="_lineFormRow_w7bg7_571",z8="_previewColumn_w7bg7_585",U8="_previewCard_w7bg7_595",H8="_previewHeader_w7bg7_609",W8="_preview_w7bg7_585",V8="_invoicePreview_w7bg7_649",G8="_previewTop_w7bg7_667",K8="_previewOrgName_w7bg7_693",Y8="_previewInvoiceInfo_w7bg7_705",J8="_previewCustomer_w7bg7_733",Q8="_previewTitle_w7bg7_749",X8="_previewTable_w7bg7_773",Z8="_previewTotals_w7bg7_823",e7="_previewGrandTotal_w7bg7_855",t7="_previewPayment_w7bg7_871",n7="_previewTerms_w7bg7_893",r7="_sendModalContent_w7bg7_907",s7="_sendModalNote_w7bg7_951",i7="_mobileLines_w7bg7_1145",a7="_mobileLineCard_w7bg7_1167",o7="_mobileLineHeader_w7bg7_1181",l7="_mobileLineTitle_w7bg7_1197",c7="_mobileLineGrid_w7bg7_1211",u7="_mobileLineItem_w7bg7_1223",d7="_mobileLineLabel_w7bg7_1235",h7="_mobileLineValue_w7bg7_1249",f7="_mobileLineFooter_w7bg7_1259",p7="_mobileLineSum_w7bg7_1275",m7="_editing_w7bg7_1289",et={header:d8,headerLeft:h8,backButton:f8,title:p8,statusBadge:m8,headerActions:g8,content:v8,formColumn:y8,card:_8,cardTitle:b8,dateRow:w8,customerSelect:x8,selectedCustomer:j8,changeBtn:k8,customerDropdown:N8,customerOption:S8,customerInfo:C8,linesHeader:L8,desktopLinesTable:A8,noLines:P8,linesTable:E8,linesTableHeader:T8,lineRow:O8,lineSum:I8,lineActions:D8,iconBtn:R8,deleteBtn:F8,totals:M8,totalRow:B8,grandTotal:$8,lineFormRow:q8,previewColumn:z8,previewCard:U8,previewHeader:H8,preview:W8,invoicePreview:V8,previewTop:G8,previewOrgName:K8,previewInvoiceInfo:Y8,previewCustomer:J8,previewTitle:Q8,previewTable:X8,previewTotals:Z8,previewGrandTotal:e7,previewPayment:t7,previewTerms:n7,sendModalContent:r7,sendModalNote:s7,mobileLines:i7,mobileLineCard:a7,mobileLineHeader:o7,mobileLineTitle:l7,mobileLineGrid:c7,mobileLineItem:u7,mobileLineLabel:d7,mobileLineValue:h7,mobileLineFooter:f7,mobileLineSum:p7,editing:m7},D1={draft:{label:"Utkast",color:"var(--color-text-secondary)"},sent:{label:"Sendt",color:"var(--color-primary)"},paid:{label:"Betalt",color:"var(--color-success)"},overdue:{label:"Forfalt",color:"var(--color-error)"},cancelled:{label:"Kansellert",color:"var(--color-text-muted)"}};function R1(){const{id:n}=Tu(),[e]=rv(),t=Gr(),{organization:s,profile:l}=fr(),o=n==="ny",[c,f]=ae.useState(null),[d,p]=ae.useState([]),[y,_]=ae.useState(!o),[b,v]=ae.useState(!1),[C,P]=ae.useState([]),[L,S]=ae.useState(null),[k,A]=ae.useState(!1),[E,U]=ae.useState(""),[Z,q]=ae.useState(!1),[B,te]=ae.useState(null),[le,F]=ae.useState(!1),[R,ee]=ae.useState(!1),G=ae.useRef(null),[ue,$]=ae.useState({title:"",description:"",invoice_date:an(new Date,"yyyy-MM-dd"),due_date:an(new Date(Date.now()+336*60*60*1e3),"yyyy-MM-dd"),status:"draft",notes:"",terms:"Betaling innen forfallsdato. Ved forsinket betaling plper forsinkelsesrenter.",payment_reference:""}),[X,O]=ae.useState({description:"",quantity:1,unit_name:"stk",unit_price:0,cost_price:0,vat_rate:25});ae.useEffect(()=>{W(),o||V()},[n,s]),ae.useEffect(()=>{const me=pe=>{G.current&&!G.current.contains(pe.target)&&A(!1)};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[]),ae.useEffect(()=>{e.get("send")==="true"&&c&&F(!0)},[e,c]);const W=async()=>{if(!(s!=null&&s.id))return;const{data:me}=await Je.from("customers").select("id, name, email, phone, address, postal_code, city, organization_number").eq("organization_id",s.id).order("name");P(me||[])},V=async()=>{try{const{data:me,error:pe}=await Je.from("invoices").select(`
          *,
          customer:customers(*)
        `).eq("id",n).single();if(pe)throw pe;f(me),S(me.customer),$({title:me.title||"",description:me.description||"",invoice_date:me.invoice_date||an(new Date,"yyyy-MM-dd"),due_date:me.due_date||"",status:me.status||"draft",notes:me.notes||"",terms:me.terms||"",payment_reference:me.payment_reference||""});const{data:he,error:se}=await Je.from("invoice_lines").select("*").eq("invoice_id",n).order("sort_order");if(se)throw se;p(he||[])}catch(me){console.error("Error fetching invoice:",me),t("/fakturaer")}finally{_(!1)}},D=()=>{let me=0,pe=0;return d.forEach(he=>{const se=(he.quantity||0)*(he.unit_price||0);me+=se,pe+=se*((he.vat_rate||25)/100)}),{subtotal:me,vatAmount:pe,total:me+pe}},N=async()=>{if(!L){alert("Velg en kunde");return}v(!0);try{const me=D(),pe={organization_id:s.id,customer_id:L.id,...ue,subtotal:me.subtotal,vat_amount:me.vatAmount,total:me.total,invoice_date:ue.invoice_date||null,due_date:ue.due_date||null};if(o){const{data:he}=await Je.rpc("get_next_invoice_number",{org_id:s.id});pe.invoice_number=he||1,pe.created_by=l==null?void 0:l.id;const{data:se,error:De}=await Je.from("invoices").insert([pe]).select().single();if(De)throw De;if(d.length>0){const Xe=d.map((Ie,Ye)=>({invoice_id:se.id,...Ie,sort_order:Ye}));await Je.from("invoice_lines").insert(Xe)}t(`/fakturaer/${se.id}`,{replace:!0})}else{const{error:he}=await Je.from("invoices").update(pe).eq("id",n);if(he)throw he;f({...c,...pe})}}catch(me){console.error("Error saving invoice:",me),alert("Kunne ikke lagre faktura. Prv igjen.")}finally{v(!1)}},M=async()=>{if(!X.description.trim())return;const me=X.quantity*X.unit_price,pe={...X,total:me};if(o)p([...d,{...pe,id:`temp-${Date.now()}`}]);else try{const{data:he,error:se}=await Je.from("invoice_lines").insert([{invoice_id:n,...pe,sort_order:d.length}]).select().single();if(se)throw se;p([...d,he])}catch(he){console.error("Error adding line:",he),alert("Kunne ikke legge til linje. Prv igjen.");return}O({description:"",quantity:1,unit_name:"stk",unit_price:0,cost_price:0,vat_rate:25}),q(!1)},Q=async(me,pe)=>{if(o||me.toString().startsWith("temp-"))p(d.map(he=>he.id===me?{...he,...pe}:he));else try{await Je.from("invoice_lines").update(pe).eq("id",me),p(d.map(he=>he.id===me?{...he,...pe}:he))}catch(he){console.error("Error updating line:",he)}te(null)},ie=async me=>{if(o||me.toString().startsWith("temp-"))p(d.filter(pe=>pe.id!==me));else try{await Je.from("invoice_lines").delete().eq("id",me),p(d.filter(pe=>pe.id!==me))}catch(pe){console.error("Error deleting line:",pe)}},oe=async()=>{if(!(L!=null&&L.email)){alert("Kunden har ingen e-postadresse");return}ee(!0);try{await N();const{data:me,error:pe}=await Je.functions.invoke("send-invoice-email",{body:{invoiceId:n,customerEmail:L.email,customerName:L.name,organizationName:s.name,invoiceNumber:c==null?void 0:c.invoice_number,total:D().total,dueDate:ue.due_date}});if(pe)throw pe;await Je.from("invoices").update({status:"sent",sent_at:new Date().toISOString()}).eq("id",n),$({...ue,status:"sent"}),f({...c,status:"sent",sent_at:new Date().toISOString()}),F(!1),alert("Faktura sendt til "+L.email)}catch(me){console.error("Error sending invoice:",me),alert("Kunne ikke sende faktura. Prv igjen.")}finally{ee(!1)}},ve=async()=>{try{await Je.from("invoices").update({status:"paid",paid_at:new Date().toISOString()}).eq("id",n),$({...ue,status:"paid"}),f({...c,status:"paid",paid_at:new Date().toISOString()})}catch(me){console.error("Error marking as paid:",me),alert("Kunne ikke oppdatere status. Prv igjen.")}},ge=me=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(me||0),ke=C.filter(me=>{var pe,he;return((pe=me.name)==null?void 0:pe.toLowerCase().includes(E.toLowerCase()))||((he=me.email)==null?void 0:he.toLowerCase().includes(E.toLowerCase()))});if(y)return i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})});const $e=D(),He=D1[ue.status]||D1.draft,Ue=ue.status==="draft";return i.jsxs("div",{className:"page-container",children:[i.jsxs("div",{className:et.header,children:[i.jsxs("div",{className:et.headerLeft,children:[i.jsx(on,{to:"/fakturaer",className:et.backButton,children:i.jsx(Ad,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:et.title,children:o?"Ny faktura":`Faktura #${c==null?void 0:c.invoice_number}`}),!o&&i.jsx("span",{className:et.statusBadge,style:{backgroundColor:He.color},children:He.label})]})]}),i.jsxs("div",{className:et.headerActions,children:[Ue&&i.jsxs("button",{className:"btn btn-secondary",onClick:N,disabled:b,children:[i.jsx($a,{size:18}),b?"Lagrer...":"Lagre"]}),!o&&ue.status==="draft"&&(L==null?void 0:L.email)&&i.jsxs("button",{className:"btn btn-primary",onClick:()=>F(!0),children:[i.jsx(jd,{size:18}),"Send faktura"]}),["sent","overdue"].includes(ue.status)&&i.jsxs("button",{className:"btn btn-success",onClick:ve,children:[i.jsx(Dl,{size:18}),"Marker som betalt"]})]})]}),i.jsxs("div",{className:et.content,children:[i.jsxs("div",{className:et.formColumn,children:[i.jsxs("div",{className:`card ${et.card}`,children:[i.jsxs("h3",{className:et.cardTitle,children:[i.jsx(Ws,{size:18}),"Kunde"]}),Ue?i.jsx("div",{className:et.customerSelect,ref:G,children:L?i.jsxs("div",{className:et.selectedCustomer,children:[i.jsxs("div",{children:[i.jsx("strong",{children:L.name}),L.email&&i.jsx("p",{children:L.email}),L.address&&i.jsxs("p",{children:[L.address,", ",L.postal_code," ",L.city]})]}),i.jsx("button",{className:et.changeBtn,onClick:()=>{S(null),A(!0)},children:"Endre"})]}):i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-input",placeholder:"Sk etter kunde...",value:E,onChange:me=>{U(me.target.value),A(!0)},onFocus:()=>A(!0)}),k&&ke.length>0&&i.jsx("div",{className:et.customerDropdown,children:ke.map(me=>i.jsxs("div",{className:et.customerOption,onClick:()=>{S(me),U(""),A(!1)},children:[i.jsx("strong",{children:me.name}),me.email&&i.jsx("span",{children:me.email})]},me.id))})]})}):i.jsxs("div",{className:et.customerInfo,children:[i.jsx("strong",{children:L==null?void 0:L.name}),(L==null?void 0:L.email)&&i.jsx("p",{children:L.email}),(L==null?void 0:L.address)&&i.jsxs("p",{children:[L.address,", ",L.postal_code," ",L.city]})]})]}),i.jsxs("div",{className:`card ${et.card}`,children:[i.jsxs("h3",{className:et.cardTitle,children:[i.jsx(ca,{size:18}),"Fakturadetaljer"]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tittel"}),i.jsx("input",{type:"text",className:"form-input",value:ue.title,onChange:me=>$({...ue,title:me.target.value}),placeholder:"F.eks. Arbeid utfrt i desember",disabled:!Ue})]}),i.jsxs("div",{className:et.dateRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Fakturadato"}),i.jsx(qh,{name:"invoice_date",value:ue.invoice_date,onChange:me=>$({...ue,invoice_date:me.target.value}),disabled:!Ue})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Forfallsdato"}),i.jsx(qh,{name:"due_date",value:ue.due_date,onChange:me=>$({...ue,due_date:me.target.value}),disabled:!Ue})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Beskrivelse"}),i.jsx("textarea",{className:"form-input",rows:3,value:ue.description,onChange:me=>$({...ue,description:me.target.value}),placeholder:"Beskrivelse av arbeidet...",disabled:!Ue})]})]}),i.jsxs("div",{className:`card ${et.card}`,children:[i.jsxs("div",{className:et.linesHeader,children:[i.jsxs("h3",{className:et.cardTitle,children:[i.jsx(lm,{size:18}),"Fakturalinjer"]}),Ue&&i.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>q(!0),children:[i.jsx(jn,{size:16}),"Legg til"]})]}),d.length===0?i.jsx("p",{className:et.noLines,children:"Ingen linjer lagt til"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:et.desktopLinesTable,children:i.jsxs("div",{className:et.linesTable,children:[i.jsxs("div",{className:et.linesTableHeader,children:[i.jsx("span",{children:"Beskrivelse"}),i.jsx("span",{children:"Antall"}),i.jsx("span",{children:"Pris"}),i.jsx("span",{children:"MVA"}),i.jsx("span",{children:"Sum"}),Ue&&i.jsx("span",{})]}),d.map(me=>{const pe=(me.quantity||0)*(me.unit_price||0),he=B===me.id;return i.jsx("div",{className:et.lineRow,children:he?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-input",defaultValue:me.description,onBlur:se=>Q(me.id,{description:se.target.value}),autoFocus:!0}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.quantity,onBlur:se=>Q(me.id,{quantity:parseFloat(se.target.value)||0})}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.unit_price,onBlur:se=>Q(me.id,{unit_price:parseFloat(se.target.value)||0})}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.vat_rate||25,onBlur:se=>Q(me.id,{vat_rate:parseFloat(se.target.value)||25})}),i.jsx("span",{children:ge(pe)}),i.jsx("button",{className:et.iconBtn,onClick:()=>te(null),children:i.jsx(hr,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:me.description}),i.jsxs("span",{children:[me.quantity," ",me.unit_name]}),i.jsx("span",{children:ge(me.unit_price)}),i.jsxs("span",{children:[me.vat_rate||25,"%"]}),i.jsx("span",{className:et.lineSum,children:ge(pe)}),Ue&&i.jsxs("div",{className:et.lineActions,children:[i.jsx("button",{className:et.iconBtn,onClick:()=>te(me.id),children:i.jsx(Tl,{size:16})}),i.jsx("button",{className:`${et.iconBtn} ${et.deleteBtn}`,onClick:()=>ie(me.id),children:i.jsx(Ua,{size:16})})]})]})},me.id)})]})}),i.jsx("div",{className:et.mobileLines,children:d.map(me=>{const pe=(me.quantity||0)*(me.unit_price||0),he=B===me.id;return i.jsx("div",{className:`${et.mobileLineCard} ${he?et.editing:""}`,children:he?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:et.mobileLineHeader,children:[i.jsx("input",{type:"text",className:"form-input",defaultValue:me.description,placeholder:"Beskrivelse",onBlur:se=>Q(me.id,{description:se.target.value})}),i.jsx("button",{className:et.iconBtn,onClick:()=>te(null),children:i.jsx(hr,{size:18})})]}),i.jsxs("div",{className:et.mobileLineGrid,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Antall"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.quantity,onBlur:se=>Q(me.id,{quantity:parseFloat(se.target.value)||0})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Enhet"}),i.jsx("input",{type:"text",className:"form-input",defaultValue:me.unit_name,onBlur:se=>Q(me.id,{unit_name:se.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Pris"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.unit_price,onBlur:se=>Q(me.id,{unit_price:parseFloat(se.target.value)||0})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"MVA %"}),i.jsx("input",{type:"number",className:"form-input",defaultValue:me.vat_rate||25,onBlur:se=>Q(me.id,{vat_rate:parseFloat(se.target.value)||25})})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:et.mobileLineHeader,children:[i.jsx("span",{className:et.mobileLineTitle,children:me.description}),Ue&&i.jsxs("div",{className:et.lineActions,children:[i.jsx("button",{className:et.iconBtn,onClick:()=>te(me.id),children:i.jsx(Tl,{size:18})}),i.jsx("button",{className:`${et.iconBtn} ${et.deleteBtn}`,onClick:()=>ie(me.id),children:i.jsx(Ua,{size:18})})]})]}),i.jsxs("div",{className:et.mobileLineGrid,children:[i.jsxs("div",{className:et.mobileLineItem,children:[i.jsx("span",{className:et.mobileLineLabel,children:"Antall"}),i.jsxs("span",{className:et.mobileLineValue,children:[me.quantity," ",me.unit_name]})]}),i.jsxs("div",{className:et.mobileLineItem,children:[i.jsx("span",{className:et.mobileLineLabel,children:"Pris"}),i.jsx("span",{className:et.mobileLineValue,children:ge(me.unit_price)})]}),i.jsxs("div",{className:et.mobileLineItem,children:[i.jsx("span",{className:et.mobileLineLabel,children:"MVA"}),i.jsxs("span",{className:et.mobileLineValue,children:[me.vat_rate||25,"%"]})]})]}),i.jsx("div",{className:et.mobileLineFooter,children:i.jsx("span",{className:et.mobileLineSum,children:ge(pe)})})]})},me.id)})})]}),i.jsxs("div",{className:et.totals,children:[i.jsxs("div",{className:et.totalRow,children:[i.jsx("span",{children:"Sum eks. mva:"}),i.jsx("span",{children:ge($e.subtotal)})]}),i.jsxs("div",{className:et.totalRow,children:[i.jsx("span",{children:"MVA:"}),i.jsx("span",{children:ge($e.vatAmount)})]}),i.jsxs("div",{className:`${et.totalRow} ${et.grandTotal}`,children:[i.jsx("span",{children:" betale:"}),i.jsx("span",{children:ge($e.total)})]})]})]}),i.jsxs("div",{className:`card ${et.card}`,children:[i.jsxs("h3",{className:et.cardTitle,children:[i.jsx(gb,{size:18}),"Betaling og vilkr"]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"KID / Betalingsreferanse"}),i.jsx("input",{type:"text",className:"form-input",value:ue.payment_reference,onChange:me=>$({...ue,payment_reference:me.target.value}),placeholder:"Valgfri betalingsreferanse",disabled:!Ue})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Betalingsvilkr"}),i.jsx("textarea",{className:"form-input",rows:2,value:ue.terms,onChange:me=>$({...ue,terms:me.target.value}),disabled:!Ue})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Notater"}),i.jsx("textarea",{className:"form-input",rows:2,value:ue.notes,onChange:me=>$({...ue,notes:me.target.value}),placeholder:"Interne notater (vises ikke p faktura)",disabled:!Ue})]})]})]}),i.jsx("div",{className:et.previewColumn,children:i.jsxs("div",{className:et.previewCard,children:[i.jsxs("div",{className:et.previewHeader,children:[i.jsx("h3",{children:"Forhndsvisning"}),i.jsxs("button",{className:"btn btn-secondary btn-sm",children:[i.jsx(Mh,{size:16}),"PDF"]})]}),i.jsx("div",{className:et.preview,children:i.jsxs("div",{className:et.invoicePreview,children:[i.jsxs("div",{className:et.previewTop,children:[i.jsxs("div",{children:[i.jsx("h2",{className:et.previewOrgName,children:s==null?void 0:s.name}),i.jsx("p",{children:s==null?void 0:s.address}),i.jsxs("p",{children:[s==null?void 0:s.postal_code," ",s==null?void 0:s.city]}),(s==null?void 0:s.organization_number)&&i.jsxs("p",{children:["Org.nr: ",s.organization_number]})]}),i.jsxs("div",{className:et.previewInvoiceInfo,children:[i.jsx("h1",{children:"FAKTURA"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Fakturanr:"})," ",(c==null?void 0:c.invoice_number)||"NY"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Dato:"})," ",ue.invoice_date?an(new Date(ue.invoice_date),"d. MMM yyyy",{locale:Ss}):"-"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Forfall:"})," ",ue.due_date?an(new Date(ue.due_date),"d. MMM yyyy",{locale:Ss}):"-"]})]})]}),i.jsxs("div",{className:et.previewCustomer,children:[i.jsx("strong",{children:"Faktureres til:"}),i.jsx("p",{children:(L==null?void 0:L.name)||"Velg kunde"}),(L==null?void 0:L.address)&&i.jsx("p",{children:L.address}),((L==null?void 0:L.postal_code)||(L==null?void 0:L.city))&&i.jsxs("p",{children:[L.postal_code," ",L.city]})]}),ue.title&&i.jsxs("div",{className:et.previewTitle,children:[i.jsx("strong",{children:ue.title}),ue.description&&i.jsx("p",{children:ue.description})]}),i.jsxs("table",{className:et.previewTable,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Beskrivelse"}),i.jsx("th",{children:"Antall"}),i.jsx("th",{children:"Pris"}),i.jsx("th",{children:"MVA"}),i.jsx("th",{children:"Sum"})]})}),i.jsx("tbody",{children:d.map(me=>i.jsxs("tr",{children:[i.jsx("td",{children:me.description}),i.jsxs("td",{children:[me.quantity," ",me.unit_name]}),i.jsx("td",{children:ge(me.unit_price)}),i.jsxs("td",{children:[me.vat_rate||25,"%"]}),i.jsx("td",{children:ge((me.quantity||0)*(me.unit_price||0))})]},me.id))})]}),i.jsxs("div",{className:et.previewTotals,children:[i.jsxs("div",{children:[i.jsx("span",{children:"Sum eks. mva:"})," ",i.jsx("span",{children:ge($e.subtotal)})]}),i.jsxs("div",{children:[i.jsx("span",{children:"MVA:"})," ",i.jsx("span",{children:ge($e.vatAmount)})]}),i.jsxs("div",{className:et.previewGrandTotal,children:[i.jsx("span",{children:" betale:"})," ",i.jsx("span",{children:ge($e.total)})]})]}),i.jsxs("div",{className:et.previewPayment,children:[i.jsx("p",{children:i.jsx("strong",{children:"Betalingsinformasjon:"})}),i.jsxs("p",{children:["Kontonummer: ",(s==null?void 0:s.bank_account)||"[Sett opp i innstillinger]"]}),ue.payment_reference&&i.jsxs("p",{children:["KID: ",ue.payment_reference]})]}),ue.terms&&i.jsx("div",{className:et.previewTerms,children:i.jsx("p",{children:ue.terms})})]})})]})})]}),Z&&i.jsx("div",{className:"modal-overlay",onClick:()=>q(!1),children:i.jsxs("div",{className:"modal",onClick:me=>me.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Legg til linje"}),i.jsx("button",{className:"modal-close",onClick:()=>q(!1),children:i.jsx(hr,{size:20})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Beskrivelse *"}),i.jsx("input",{type:"text",className:"form-input",value:X.description,onChange:me=>O({...X,description:me.target.value}),placeholder:"Beskrivelse av vare/tjeneste"})]}),i.jsxs("div",{className:et.lineFormRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Antall"}),i.jsx("input",{type:"number",className:"form-input",value:X.quantity,onChange:me=>O({...X,quantity:parseFloat(me.target.value)||1})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Enhet"}),i.jsx("input",{type:"text",className:"form-input",value:X.unit_name,onChange:me=>O({...X,unit_name:me.target.value})})]})]}),i.jsxs("div",{className:et.lineFormRow,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Pris per enhet (eks. mva)"}),i.jsx("input",{type:"number",className:"form-input",value:X.unit_price,onChange:me=>O({...X,unit_price:parseFloat(me.target.value)||0})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"MVA %"}),i.jsx("input",{type:"number",className:"form-input",value:X.vat_rate,onChange:me=>O({...X,vat_rate:parseFloat(me.target.value)||25})})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>q(!1),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:M,disabled:!X.description.trim(),children:[i.jsx(jn,{size:18}),"Legg til"]})]})]})}),le&&i.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:i.jsxs("div",{className:"modal",onClick:me=>me.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Send faktura"}),i.jsx("button",{className:"modal-close",onClick:()=>F(!1),children:i.jsx(hr,{size:20})})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:et.sendModalContent,children:[i.jsx(la,{size:48,strokeWidth:1.5}),i.jsxs("p",{children:["Faktura #",c==null?void 0:c.invoice_number," vil bli sendt til:"]}),i.jsx("strong",{children:L==null?void 0:L.email}),i.jsx("p",{className:et.sendModalNote,children:"Fakturaen sendes som PDF-vedlegg p e-post."})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>F(!1),children:"Avbryt"}),i.jsxs("button",{className:"btn btn-primary",onClick:oe,disabled:R,children:[i.jsx(jd,{size:18}),R?"Sender...":"Send faktura"]})]})]})})]})}const g7="_container_unq9v_1",v7="_loading_unq9v_13",y7="_spinner_unq9v_33",_7="_header_unq9v_53",b7="_headerLeft_unq9v_77",w7="_title_unq9v_89",x7="_count_unq9v_109",j7="_headerRight_unq9v_125",k7="_searchWrapper_unq9v_137",N7="_searchIcon_unq9v_145",S7="_searchInput_unq9v_163",C7="_addButton_unq9v_195",L7="_errorMessage_unq9v_245",A7="_successMessage_unq9v_247",P7="_closeMessage_unq9v_289",E7="_bulkActions_unq9v_315",T7="_deleteButton_unq9v_339",O7="_cancelButton_unq9v_375",I7="_tableWrapper_unq9v_409",D7="_table_unq9v_409",R7="_row_unq9v_485",F7="_editedRow_unq9v_493",M7="_newRow_unq9v_501",B7="_newIcon_unq9v_509",$7="_mobileCards_unq9v_519",q7="_checkboxCol_unq9v_529",z7="_articleNumCol_unq9v_553",U7="_nameCol_unq9v_561",H7="_unitCol_unq9v_569",W7="_priceCol_unq9v_577",V7="_marginCol_unq9v_585",G7="_vatCol_unq9v_595",K7="_categoryCol_unq9v_603",Y7="_actionsCol_unq9v_611",J7="_input_unq9v_623",Q7="_select_unq9v_703",X7="_marginValue_unq9v_779",Z7="_negative_unq9v_797",eA="_saveButton_unq9v_807",tA="_cancelEditButton_unq9v_809",nA="_emptyState_unq9v_885",rA="_mobileCard_unq9v_519",sA="_mobileCardHeader_unq9v_1095",iA="_mobileCardCheckbox_unq9v_1111",aA="_mobileCardTitle_unq9v_1129",oA="_mobileCardArticleNum_unq9v_1167",lA="_mobileCardGrid_unq9v_1197",cA="_mobileCardField_unq9v_1211",uA="_mobileCardLabel_unq9v_1223",dA="_mobileCardValue_unq9v_1239",hA="_mobileCardMargin_unq9v_1281",fA="_positive_unq9v_1299",pA="_mobileCardActions_unq9v_1315",Oe={container:g7,loading:v7,spinner:y7,header:_7,headerLeft:b7,title:w7,count:x7,headerRight:j7,searchWrapper:k7,searchIcon:N7,searchInput:S7,addButton:C7,errorMessage:L7,successMessage:A7,closeMessage:P7,bulkActions:E7,deleteButton:T7,cancelButton:O7,tableWrapper:I7,table:D7,row:R7,editedRow:F7,newRow:M7,newIcon:B7,mobileCards:$7,checkboxCol:q7,articleNumCol:z7,nameCol:U7,unitCol:H7,priceCol:W7,marginCol:V7,vatCol:G7,categoryCol:K7,actionsCol:Y7,input:J7,select:Q7,marginValue:X7,negative:Z7,saveButton:eA,cancelEditButton:tA,emptyState:nA,mobileCard:rA,mobileCardHeader:sA,mobileCardCheckbox:iA,mobileCardTitle:aA,mobileCardArticleNum:oA,mobileCardGrid:lA,mobileCardField:cA,mobileCardLabel:uA,mobileCardValue:dA,mobileCardMargin:hA,positive:fA,mobileCardActions:pA},mA={article_number:"",name:"",description:"",unit_name:"stk",cost_price:"",sale_price:"",vat_rate:25,category:"",is_active:!0},Ch=["stk","timer","m","m","m","kg","tonn","lass","liter","pakke","sett","lpemeter","par","rull","boks"];function gA(){const{profile:n}=fr(),[e,t]=ae.useState([]),[s,l]=ae.useState(!0),[o,c]=ae.useState(!1),[f,d]=ae.useState(""),[p,y]=ae.useState([]),[_,b]=ae.useState({}),[v,C]=ae.useState(null),[P,L]=ae.useState(null),[S,k]=ae.useState(null);ae.useEffect(()=>{n!=null&&n.organization_id&&A()},[n==null?void 0:n.organization_id]);const A=async()=>{try{l(!0);const{data:O,error:W}=await Je.from("articles").select("*").eq("organization_id",n.organization_id).order("article_number",{ascending:!0,nullsFirst:!1}).order("name",{ascending:!0});if(W)throw W;t(O||[])}catch(O){console.error("Feil ved henting av artikler:",O),L("Kunne ikke hente artikler")}finally{l(!1)}},E=(O,W,V)=>{b(D=>({...D,[O]:{...D[O]||e.find(N=>N.id===O),[W]:V}}))},U=O=>!!_[O],Z=async O=>{const W=_[O];if(W)try{c(!0);const{error:V}=await Je.from("articles").update({article_number:W.article_number||null,name:W.name,description:W.description||null,unit_name:W.unit_name||"stk",cost_price:parseFloat(W.cost_price)||0,sale_price:parseFloat(W.sale_price)||0,vat_rate:parseFloat(W.vat_rate)||25,category:W.category||null,is_active:W.is_active,updated_at:new Date().toISOString()}).eq("id",O);if(V)throw V;t(D=>D.map(N=>N.id===O?{...N,...W}:N)),b(D=>{const N={...D};return delete N[O],N}),G("Artikkel lagret")}catch(V){console.error("Feil ved lagring:",V),L("Kunne ikke lagre artikkel")}finally{c(!1)}},q=O=>{b(W=>{const V={...W};return delete V[O],V})},B=()=>{C({...mA})},te=async()=>{if(!v.name.trim()){L("Navn er pkrevd");return}try{c(!0);const{data:O,error:W}=await Je.from("articles").insert({organization_id:n.organization_id,article_number:v.article_number||null,name:v.name,description:v.description||null,unit_name:v.unit_name||"stk",cost_price:parseFloat(v.cost_price)||0,sale_price:parseFloat(v.sale_price)||0,vat_rate:parseFloat(v.vat_rate)||25,category:v.category||null,is_active:v.is_active}).select().single();if(W)throw W;t(V=>[O,...V]),C(null),G("Artikkel opprettet")}catch(O){console.error("Feil ved opprettelse:",O),L("Kunne ikke opprette artikkel")}finally{c(!1)}},le=()=>{C(null)},F=O=>{y(W=>W.includes(O)?W.filter(V=>V!==O):[...W,O])},R=()=>{p.length===ue.length?y([]):y(ue.map(O=>O.id))},ee=async()=>{if(p.length===0)return;const O=p.length===1?"Er du sikker p at du vil slette denne artikkelen?":`Er du sikker p at du vil slette ${p.length} artikler?`;if(window.confirm(O+`

Tidligere lagrede tilbud vil ikke pvirkes.`))try{c(!0);const{error:W}=await Je.from("articles").delete().in("id",p);if(W)throw W;t(V=>V.filter(D=>!p.includes(D.id))),y([]),G(`${p.length} artikkel(er) slettet`)}catch(W){console.error("Feil ved sletting:",W),L("Kunne ikke slette artikler")}finally{c(!1)}},G=O=>{k(O),setTimeout(()=>k(null),3e3)},ue=e.filter(O=>{var V,D,N,M;const W=f.toLowerCase();return(((V=O.article_number)==null?void 0:V.toLowerCase())||"").includes(W)||(((D=O.name)==null?void 0:D.toLowerCase())||"").includes(W)||(((N=O.description)==null?void 0:N.toLowerCase())||"").includes(W)||(((M=O.category)==null?void 0:M.toLowerCase())||"").includes(W)}),$=(O,W)=>_[O.id]?_[O.id][W]:O[W],X=(O,W)=>{const V=parseFloat(O)||0,D=parseFloat(W)||0;return D<=0?null:((D-V)/D*100).toFixed(1)};return s?i.jsxs("div",{className:Oe.loading,children:[i.jsx(xd,{className:Oe.spinner,size:32}),i.jsx("p",{children:"Laster artikler..."})]}):i.jsxs("div",{className:Oe.container,children:[i.jsxs("div",{className:Oe.header,children:[i.jsxs("div",{className:Oe.headerLeft,children:[i.jsxs("h1",{className:Oe.title,children:[i.jsx(kc,{size:24}),"Artikler"]}),i.jsxs("span",{className:Oe.count,children:[e.length," artikler"]})]}),i.jsxs("div",{className:Oe.headerRight,children:[i.jsxs("div",{className:Oe.searchWrapper,children:[i.jsx(Tc,{size:18,className:Oe.searchIcon}),i.jsx("input",{type:"text",placeholder:"Sk i artikler...",value:f,onChange:O=>d(O.target.value),className:Oe.searchInput})]}),i.jsxs("button",{onClick:B,className:Oe.addButton,disabled:v!==null,children:[i.jsx(jn,{size:18}),"Ny artikkel"]})]})]}),P&&i.jsxs("div",{className:Oe.errorMessage,children:[i.jsx(Eo,{size:18}),P,i.jsx("button",{onClick:()=>L(null),className:Oe.closeMessage,children:i.jsx(hr,{size:16})})]}),S&&i.jsxs("div",{className:Oe.successMessage,children:[i.jsx(vb,{size:18}),S]}),p.length>0&&i.jsxs("div",{className:Oe.bulkActions,children:[i.jsxs("span",{children:[p.length," valgt"]}),i.jsxs("button",{onClick:ee,className:Oe.deleteButton,children:[i.jsx(Ua,{size:16}),"Slett valgte"]}),i.jsx("button",{onClick:()=>y([]),className:Oe.cancelButton,children:"Avbryt"})]}),i.jsxs("div",{className:Oe.tableWrapper,children:[i.jsxs("table",{className:Oe.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:Oe.checkboxCol,children:i.jsx("input",{type:"checkbox",checked:p.length===ue.length&&ue.length>0,onChange:R})}),i.jsx("th",{className:Oe.articleNumCol,children:"Art.nr"}),i.jsx("th",{className:Oe.nameCol,children:"Navn"}),i.jsx("th",{className:Oe.unitCol,children:"Enhet"}),i.jsx("th",{className:Oe.priceCol,children:"Kostpris"}),i.jsx("th",{className:Oe.priceCol,children:"Salgspris"}),i.jsx("th",{className:Oe.marginCol,children:"DG%"}),i.jsx("th",{className:Oe.vatCol,children:"MVA%"}),i.jsx("th",{className:Oe.categoryCol,children:"Kategori"}),i.jsx("th",{className:Oe.actionsCol,children:"Handlinger"})]})}),i.jsxs("tbody",{children:[v&&i.jsxs("tr",{className:Oe.newRow,children:[i.jsx("td",{className:Oe.checkboxCol,children:i.jsx(kc,{size:16,className:Oe.newIcon})}),i.jsx("td",{className:Oe.articleNumCol,children:i.jsx("input",{type:"text",value:v.article_number,onChange:O=>C({...v,article_number:O.target.value}),placeholder:"Art.nr",className:Oe.input,autoFocus:!0})}),i.jsx("td",{className:Oe.nameCol,children:i.jsx("input",{type:"text",value:v.name,onChange:O=>C({...v,name:O.target.value}),placeholder:"Navn *",className:Oe.input})}),i.jsx("td",{className:Oe.unitCol,children:i.jsx("select",{value:v.unit_name,onChange:O=>C({...v,unit_name:O.target.value}),className:Oe.select,children:Ch.map(O=>i.jsx("option",{value:O,children:O},O))})}),i.jsx("td",{className:Oe.priceCol,children:i.jsx("input",{type:"number",value:v.cost_price,onChange:O=>C({...v,cost_price:O.target.value}),placeholder:"0",className:Oe.input})}),i.jsx("td",{className:Oe.priceCol,children:i.jsx("input",{type:"number",value:v.sale_price,onChange:O=>C({...v,sale_price:O.target.value}),placeholder:"0",className:Oe.input})}),i.jsx("td",{className:Oe.marginCol,children:i.jsx("span",{className:Oe.marginValue,children:X(v.cost_price,v.sale_price)??"-"})}),i.jsx("td",{className:Oe.vatCol,children:i.jsx("input",{type:"number",value:v.vat_rate,onChange:O=>C({...v,vat_rate:O.target.value}),placeholder:"25",className:Oe.input})}),i.jsx("td",{className:Oe.categoryCol,children:i.jsx("input",{type:"text",value:v.category,onChange:O=>C({...v,category:O.target.value}),placeholder:"Kategori",className:Oe.input})}),i.jsxs("td",{className:Oe.actionsCol,children:[i.jsx("button",{onClick:te,className:Oe.saveButton,disabled:o,title:"Lagre",children:i.jsx($a,{size:16})}),i.jsx("button",{onClick:le,className:Oe.cancelEditButton,title:"Avbryt",children:i.jsx(hr,{size:16})})]})]}),ue.map(O=>{const W=U(O.id),V=$(O,"cost_price"),D=$(O,"sale_price"),N=X(V,D);return i.jsxs("tr",{className:`${Oe.row} ${W?Oe.editedRow:""}`,children:[i.jsx("td",{className:Oe.checkboxCol,children:i.jsx("input",{type:"checkbox",checked:p.includes(O.id),onChange:()=>F(O.id)})}),i.jsx("td",{className:Oe.articleNumCol,children:i.jsx("input",{type:"text",value:$(O,"article_number")||"",onChange:M=>E(O.id,"article_number",M.target.value),placeholder:"",className:Oe.input})}),i.jsx("td",{className:Oe.nameCol,children:i.jsx("input",{type:"text",value:$(O,"name")||"",onChange:M=>E(O.id,"name",M.target.value),placeholder:"Navn",className:Oe.input})}),i.jsx("td",{className:Oe.unitCol,children:i.jsx("select",{value:$(O,"unit_name")||"stk",onChange:M=>E(O.id,"unit_name",M.target.value),className:Oe.select,children:Ch.map(M=>i.jsx("option",{value:M,children:M},M))})}),i.jsx("td",{className:Oe.priceCol,children:i.jsx("input",{type:"number",value:V??"",onChange:M=>E(O.id,"cost_price",M.target.value),placeholder:"0",className:Oe.input})}),i.jsx("td",{className:Oe.priceCol,children:i.jsx("input",{type:"number",value:D??"",onChange:M=>E(O.id,"sale_price",M.target.value),placeholder:"0",className:Oe.input})}),i.jsx("td",{className:Oe.marginCol,children:i.jsx("span",{className:`${Oe.marginValue} ${N&&parseFloat(N)<0?Oe.negative:""}`,children:N??"-"})}),i.jsx("td",{className:Oe.vatCol,children:i.jsx("input",{type:"number",value:$(O,"vat_rate")??"",onChange:M=>E(O.id,"vat_rate",M.target.value),placeholder:"25",className:Oe.input})}),i.jsx("td",{className:Oe.categoryCol,children:i.jsx("input",{type:"text",value:$(O,"category")||"",onChange:M=>E(O.id,"category",M.target.value),placeholder:"",className:Oe.input})}),i.jsx("td",{className:Oe.actionsCol,children:W&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Z(O.id),className:Oe.saveButton,disabled:o,title:"Lagre",children:i.jsx($a,{size:16})}),i.jsx("button",{onClick:()=>q(O.id),className:Oe.cancelEditButton,title:"Angre",children:i.jsx(hr,{size:16})})]})})]},O.id)})]})]}),i.jsxs("div",{className:Oe.mobileCards,children:[v&&i.jsxs("div",{className:`${Oe.mobileCard} ${Oe.newRow}`,children:[i.jsxs("div",{className:Oe.mobileCardHeader,children:[i.jsx("div",{className:Oe.mobileCardCheckbox,children:i.jsx(kc,{size:18,className:Oe.newIcon})}),i.jsxs("div",{className:Oe.mobileCardTitle,children:[i.jsx("input",{type:"text",value:v.name,onChange:O=>C({...v,name:O.target.value}),placeholder:"Navn p artikkel *",autoFocus:!0}),i.jsx("div",{className:Oe.mobileCardArticleNum,children:i.jsx("input",{type:"text",value:v.article_number,onChange:O=>C({...v,article_number:O.target.value}),placeholder:"Artikkelnummer"})})]})]}),i.jsxs("div",{className:Oe.mobileCardGrid,children:[i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Enhet"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("select",{value:v.unit_name,onChange:O=>C({...v,unit_name:O.target.value}),children:Ch.map(O=>i.jsx("option",{value:O,children:O},O))})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"MVA %"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:v.vat_rate,onChange:O=>C({...v,vat_rate:O.target.value}),placeholder:"25"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Kostpris"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:v.cost_price,onChange:O=>C({...v,cost_price:O.target.value}),placeholder:"0"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Salgspris"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:v.sale_price,onChange:O=>C({...v,sale_price:O.target.value}),placeholder:"0"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"DG %"}),i.jsxs("div",{className:`${Oe.mobileCardMargin} ${X(v.cost_price,v.sale_price)>=0?Oe.positive:Oe.negative}`,children:[X(v.cost_price,v.sale_price)??"-","%"]})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Kategori"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"text",value:v.category,onChange:O=>C({...v,category:O.target.value}),placeholder:"Kategori"})})]})]}),i.jsxs("div",{className:Oe.mobileCardActions,children:[i.jsxs("button",{onClick:te,className:Oe.saveButton,disabled:o,children:[i.jsx($a,{size:16}),"Lagre"]}),i.jsxs("button",{onClick:le,className:Oe.cancelEditButton,children:[i.jsx(hr,{size:16}),"Avbryt"]})]})]}),ue.map(O=>{const W=U(O.id),V=$(O,"cost_price"),D=$(O,"sale_price"),N=X(V,D);return i.jsxs("div",{className:`${Oe.mobileCard} ${W?Oe.editedRow:""}`,children:[i.jsxs("div",{className:Oe.mobileCardHeader,children:[i.jsx("div",{className:Oe.mobileCardCheckbox,children:i.jsx("input",{type:"checkbox",checked:p.includes(O.id),onChange:()=>F(O.id)})}),i.jsxs("div",{className:Oe.mobileCardTitle,children:[i.jsx("input",{type:"text",value:$(O,"name")||"",onChange:M=>E(O.id,"name",M.target.value),placeholder:"Navn"}),i.jsx("div",{className:Oe.mobileCardArticleNum,children:i.jsx("input",{type:"text",value:$(O,"article_number")||"",onChange:M=>E(O.id,"article_number",M.target.value),placeholder:"Art.nr"})})]})]}),i.jsxs("div",{className:Oe.mobileCardGrid,children:[i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Enhet"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("select",{value:$(O,"unit_name")||"stk",onChange:M=>E(O.id,"unit_name",M.target.value),children:Ch.map(M=>i.jsx("option",{value:M,children:M},M))})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"MVA %"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:$(O,"vat_rate")??"",onChange:M=>E(O.id,"vat_rate",M.target.value),placeholder:"25"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Kostpris"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:V??"",onChange:M=>E(O.id,"cost_price",M.target.value),placeholder:"0"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Salgspris"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"number",value:D??"",onChange:M=>E(O.id,"sale_price",M.target.value),placeholder:"0"})})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"DG %"}),i.jsxs("div",{className:`${Oe.mobileCardMargin} ${N&&parseFloat(N)>=0?Oe.positive:Oe.negative}`,children:[N??"-","%"]})]}),i.jsxs("div",{className:Oe.mobileCardField,children:[i.jsx("span",{className:Oe.mobileCardLabel,children:"Kategori"}),i.jsx("div",{className:Oe.mobileCardValue,children:i.jsx("input",{type:"text",value:$(O,"category")||"",onChange:M=>E(O.id,"category",M.target.value),placeholder:""})})]})]}),W&&i.jsxs("div",{className:Oe.mobileCardActions,children:[i.jsxs("button",{onClick:()=>Z(O.id),className:Oe.saveButton,disabled:o,children:[i.jsx($a,{size:16}),"Lagre"]}),i.jsxs("button",{onClick:()=>q(O.id),className:Oe.cancelEditButton,children:[i.jsx(hr,{size:16}),"Angre"]})]})]},O.id)})]}),ue.length===0&&!v&&i.jsxs("div",{className:Oe.emptyState,children:[i.jsx(kc,{size:48,strokeWidth:1}),i.jsx("h3",{children:"Ingen artikler funnet"}),i.jsx("p",{children:f?"Prv  endre sket ditt":'Klikk "Ny artikkel" for  legge til din frste artikkel'})]})]})]})}const vA="_container_kk57r_1",yA="_header_kk57r_11",_A="_title_kk57r_29",bA="_subtitle_kk57r_43",wA="_section_kk57r_57",xA="_sectionTitle_kk57r_65",jA="_invitationsList_kk57r_87",kA="_invitationCard_kk57r_99",NA="_invitationInfo_kk57r_119",SA="_invitationIcon_kk57r_131",CA="_invitationEmail_kk57r_139",LA="_invitationRole_kk57r_149",AA="_invitationMeta_kk57r_167",PA="_invitationDate_kk57r_179",EA="_cancelBtn_kk57r_189",TA="_employeesGrid_kk57r_221",OA="_employeeCard_kk57r_233",IA="_employeeHeader_kk57r_257",DA="_avatar_kk57r_271",RA="_employeeInfo_kk57r_319",FA="_employeeName_kk57r_329",MA="_youBadge_kk57r_349",BA="_roleBadge_kk57r_367",$A="_gold_kk57r_387",qA="_blue_kk57r_397",zA="_gray_kk57r_407",UA="_employeeActions_kk57r_417",HA="_roleSelect_kk57r_429",WA="_removeBtn_kk57r_459",VA="_employeeDetails_kk57r_489",GA="_detailItem_kk57r_505",KA="_modalOverlay_kk57r_553",YA="_modal_kk57r_553",JA="_modalHeader_kk57r_605",QA="_modalClose_kk57r_635",XA="_modalContent_kk57r_665",ZA="_modalDescription_kk57r_673",eP="_errorMessage_kk57r_687",tP="_formGroup_kk57r_707",nP="_input_kk57r_731",rP="_roleOptions_kk57r_775",sP="_roleOption_kk57r_775",iP="_selected_kk57r_819",aP="_roleOptionTitle_kk57r_857",oP="_roleOptionDesc_kk57r_871",lP="_modalFooter_kk57r_883",cP="_cancelButton_kk57r_895",uP="_submitButton_kk57r_931",dP="_spinner_kk57r_985",hP="_spin_kk57r_985",fP="_successState_kk57r_1005",wt={container:vA,header:yA,title:_A,subtitle:bA,section:wA,sectionTitle:xA,invitationsList:jA,invitationCard:kA,invitationInfo:NA,invitationIcon:SA,invitationEmail:CA,invitationRole:LA,invitationMeta:AA,invitationDate:PA,cancelBtn:EA,employeesGrid:TA,employeeCard:OA,employeeHeader:IA,avatar:DA,employeeInfo:RA,employeeName:FA,youBadge:MA,roleBadge:BA,gold:$A,blue:qA,gray:zA,employeeActions:UA,roleSelect:HA,removeBtn:WA,employeeDetails:VA,detailItem:GA,modalOverlay:KA,modal:YA,modalHeader:JA,modalClose:QA,modalContent:XA,modalDescription:ZA,errorMessage:eP,formGroup:tP,input:nP,roleOptions:rP,roleOption:sP,selected:iP,roleOptionTitle:aP,roleOptionDesc:oP,modalFooter:lP,cancelButton:cP,submitButton:uP,spinner:dP,spin:hP,successState:fP},_p={owner:{label:"Eier",icon:bb,color:"gold"},admin:{label:"Administrator",icon:um,color:"blue"},employee:{label:"Ansatt",icon:Ws,color:"gray"}};function pP(){const{organization:n,profile:e,isOwner:t,isAdmin:s}=fr(),[l,o]=ae.useState([]),[c,f]=ae.useState([]),[d,p]=ae.useState(!0),[y,_]=ae.useState(!1),[b,v]=ae.useState(""),[C,P]=ae.useState("employee"),[L,S]=ae.useState(!1),[k,A]=ae.useState(null),[E,U]=ae.useState(null),Z=t||s;ae.useEffect(()=>{n!=null&&n.id&&(q(),Z&&B())},[n,Z]);const q=async()=>{try{const{data:G,error:ue}=await Je.from("profiles").select("*").eq("organization_id",n.id).order("role",{ascending:!0}).order("full_name",{ascending:!0});if(ue)throw ue;o(G||[])}catch(G){console.error("Error fetching employees:",G)}finally{p(!1)}},B=async()=>{try{const{data:G,error:ue}=await Je.from("invitations").select("*").eq("organization_id",n.id).eq("status","pending").order("created_at",{ascending:!1});if(ue)throw ue;f(G||[])}catch(G){console.error("Error fetching invitations:",G)}},te=async G=>{if(G.preventDefault(),A(null),U(null),!b.trim()){A("E-postadresse er pkrevd");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){A("Ugyldig e-postadresse");return}if(c.find(X=>X.email.toLowerCase()===b.toLowerCase())){A("Denne e-postadressen er allerede invitert");return}if(l.find(X=>{var O;return((O=X.email)==null?void 0:O.toLowerCase())===b.toLowerCase()})){A("Denne personen er allerede ansatt i bedriften");return}S(!0);try{const{data:X,error:O}=await Je.from("invitations").insert({organization_id:n.id,email:b.toLowerCase(),role:C,invited_by:e.id}).select().single();if(O)throw O;const{error:W}=await Je.functions.invoke("send-invitation-email",{body:{to:b,token:X.token,organizationName:n.name,inviterName:e.full_name||e.email,inviterEmail:e.email,role:C}});W&&console.error("Email error:",W),f([X,...c]),v(""),P("employee"),U("Invitasjon sendt!"),setTimeout(()=>{_(!1),U(null)},2e3)}catch(X){console.error("Error creating invitation:",X),A(X.message||"Kunne ikke sende invitasjon")}finally{S(!1)}},le=async G=>{try{const{error:ue}=await Je.from("invitations").update({status:"cancelled"}).eq("id",G);if(ue)throw ue;f(c.filter($=>$.id!==G))}catch(ue){console.error("Error cancelling invitation:",ue)}},F=async G=>{if(confirm("Er du sikker p at du vil fjerne denne ansatte?"))try{const{error:ue}=await Je.from("profiles").update({organization_id:null,role:"employee"}).eq("id",G);if(ue)throw ue;o(l.filter($=>$.id!==G))}catch(ue){console.error("Error removing employee:",ue)}},R=async(G,ue)=>{try{const{error:$}=await Je.from("profiles").update({role:ue}).eq("id",G);if($)throw $;o(l.map(X=>X.id===G?{...X,role:ue}:X))}catch($){console.error("Error updating role:",$)}},ee=G=>G?G.split(" ").map(ue=>ue[0]).join("").toUpperCase().slice(0,2):"?";return d?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):i.jsxs("div",{className:wt.container,children:[i.jsxs("div",{className:wt.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:wt.title,children:"Ansatte"}),i.jsxs("p",{className:wt.subtitle,children:[l.length," ",l.length===1?"ansatt":"ansatte"," i ",n==null?void 0:n.name]})]}),Z&&i.jsxs("button",{className:"btn btn-primary",onClick:()=>_(!0),children:[i.jsx(jn,{size:18}),"Inviter ansatt"]})]}),Z&&c.length>0&&i.jsxs("div",{className:wt.section,children:[i.jsxs("h2",{className:wt.sectionTitle,children:[i.jsx(Cu,{size:18}),"Ventende invitasjoner (",c.length,")"]}),i.jsx("div",{className:wt.invitationsList,children:c.map(G=>i.jsxs("div",{className:wt.invitationCard,children:[i.jsxs("div",{className:wt.invitationInfo,children:[i.jsx(la,{size:16,className:wt.invitationIcon}),i.jsxs("div",{children:[i.jsx("span",{className:wt.invitationEmail,children:G.email}),i.jsx("span",{className:wt.invitationRole,children:G.role==="admin"?"Administrator":"Ansatt"})]})]}),i.jsxs("div",{className:wt.invitationMeta,children:[i.jsxs("span",{className:wt.invitationDate,children:["Utlper ",new Date(G.expires_at).toLocaleDateString("nb-NO")]}),i.jsx("button",{className:wt.cancelBtn,onClick:()=>le(G.id),title:"Kanseller invitasjon",children:i.jsx(hr,{size:16})})]})]},G.id))})]}),i.jsxs("div",{className:wt.section,children:[i.jsxs("h2",{className:wt.sectionTitle,children:[i.jsx(Lu,{size:18}),"Ansatte"]}),l.length===0?i.jsx("div",{className:"card",children:i.jsxs("div",{className:"empty-state",children:[i.jsx(Lu,{className:"empty-state-icon"}),i.jsx("h3",{className:"empty-state-title",children:"Ingen ansatte enn"}),i.jsx("p",{className:"empty-state-description",children:"Inviter dine frste ansatte for  komme i gang."}),Z&&i.jsxs("button",{className:"btn btn-primary",onClick:()=>_(!0),children:[i.jsx(jn,{size:18}),"Inviter ansatt"]})]})}):i.jsx("div",{className:wt.employeesGrid,children:l.map(G=>{var O,W,V;const ue=((O=_p[G.role])==null?void 0:O.icon)||Ws,$=G.id===e.id,X=Z&&!$&&G.role!=="owner";return i.jsxs("div",{className:wt.employeeCard,children:[i.jsxs("div",{className:wt.employeeHeader,children:[i.jsx("div",{className:wt.avatar,children:G.avatar_url?i.jsx("img",{src:G.avatar_url,alt:G.full_name}):i.jsx("span",{children:ee(G.full_name)})}),i.jsxs("div",{className:wt.employeeInfo,children:[i.jsxs("h3",{className:wt.employeeName,children:[G.full_name||"Uten navn",$&&i.jsx("span",{className:wt.youBadge,children:"deg"})]}),i.jsxs("span",{className:`${wt.roleBadge} ${wt[(W=_p[G.role])==null?void 0:W.color]}`,children:[i.jsx(ue,{size:12}),(V=_p[G.role])==null?void 0:V.label]})]}),X&&i.jsxs("div",{className:wt.employeeActions,children:[i.jsxs("select",{value:G.role,onChange:D=>R(G.id,D.target.value),className:wt.roleSelect,children:[i.jsx("option",{value:"employee",children:"Ansatt"}),i.jsx("option",{value:"admin",children:"Administrator"})]}),i.jsx("button",{className:wt.removeBtn,onClick:()=>F(G.id),title:"Fjern fra bedrift",children:i.jsx(Ua,{size:16})})]})]}),i.jsxs("div",{className:wt.employeeDetails,children:[G.email&&i.jsxs("div",{className:wt.detailItem,children:[i.jsx(la,{size:14}),i.jsx("a",{href:`mailto:${G.email}`,children:G.email})]}),G.phone&&i.jsxs("div",{className:wt.detailItem,children:[i.jsx(Yh,{size:14}),i.jsx("a",{href:`tel:${G.phone}`,children:G.phone})]})]})]},G.id)})})]}),y&&i.jsx("div",{className:wt.modalOverlay,onClick:()=>_(!1),children:i.jsxs("div",{className:wt.modal,onClick:G=>G.stopPropagation(),children:[i.jsxs("div",{className:wt.modalHeader,children:[i.jsx("h2",{children:"Inviter ansatt"}),i.jsx("button",{className:wt.modalClose,onClick:()=>_(!1),children:i.jsx(hr,{size:20})})]}),E?i.jsxs("div",{className:wt.successState,children:[i.jsx(Dl,{size:48}),i.jsx("h3",{children:"Invitasjon sendt!"}),i.jsxs("p",{children:["En e-post er sendt til ",b]})]}):i.jsxs("form",{onSubmit:te,className:wt.modalContent,children:[i.jsxs("p",{className:wt.modalDescription,children:["Skriv inn e-postadressen til personen du vil invitere. De vil motta en e-post med en lenke for  bli med i ",n==null?void 0:n.name,"."]}),k&&i.jsx("div",{className:wt.errorMessage,children:k}),i.jsxs("div",{className:wt.formGroup,children:[i.jsx("label",{children:"E-postadresse"}),i.jsx("input",{type:"email",value:b,onChange:G=>v(G.target.value),placeholder:"navn@eksempel.no",className:wt.input,autoFocus:!0})]}),i.jsxs("div",{className:wt.formGroup,children:[i.jsx("label",{children:"Rolle"}),i.jsxs("div",{className:wt.roleOptions,children:[i.jsxs("label",{className:`${wt.roleOption} ${C==="employee"?wt.selected:""}`,children:[i.jsx("input",{type:"radio",name:"role",value:"employee",checked:C==="employee",onChange:G=>P(G.target.value)}),i.jsx(Ws,{size:20}),i.jsxs("div",{children:[i.jsx("span",{className:wt.roleOptionTitle,children:"Ansatt"}),i.jsx("span",{className:wt.roleOptionDesc,children:"Kan se og redigere jobber, kunder og tilbud"})]})]}),i.jsxs("label",{className:`${wt.roleOption} ${C==="admin"?wt.selected:""}`,children:[i.jsx("input",{type:"radio",name:"role",value:"admin",checked:C==="admin",onChange:G=>P(G.target.value)}),i.jsx(um,{size:20}),i.jsxs("div",{children:[i.jsx("span",{className:wt.roleOptionTitle,children:"Administrator"}),i.jsx("span",{className:wt.roleOptionDesc,children:"Full tilgang inkludert ansatthndtering"})]})]})]})]}),i.jsxs("div",{className:wt.modalFooter,children:[i.jsx("button",{type:"button",className:wt.cancelButton,onClick:()=>_(!1),children:"Avbryt"}),i.jsx("button",{type:"submit",className:wt.submitButton,disabled:L,children:L?i.jsxs(i.Fragment,{children:[i.jsx(xd,{size:18,className:wt.spinner}),"Sender..."]}):i.jsxs(i.Fragment,{children:[i.jsx(jd,{size:18}),"Send invitasjon"]})})]})]})]})})]})}const mP="_container_zmfof_1",gP="_card_zmfof_19",vP="_header_zmfof_39",yP="_logo_zmfof_49",_P="_subtitle_zmfof_93",bP="_loading_zmfof_115",wP="_errorState_zmfof_137",xP="_successState_zmfof_181",jP="_errorMessage_zmfof_225",kP="_form_zmfof_247",NP="_formInfo_zmfof_259",SP="_formGroup_zmfof_273",CP="_input_zmfof_297",LP="_primaryBtn_zmfof_351",AP="_submitBtn_zmfof_353",PP="_spinner_zmfof_411",Wt={container:mP,card:gP,header:vP,logo:yP,subtitle:_P,loading:bP,errorState:wP,successState:xP,errorMessage:jP,form:kP,formInfo:NP,formGroup:SP,input:CP,primaryBtn:LP,submitBtn:AP,spinner:PP};function EP(){var k,A;const{token:n}=Tu(),e=Gr(),[t,s]=ae.useState(null),[l,o]=ae.useState(!0),[c,f]=ae.useState(null),[d,p]=ae.useState("loading"),[y,_]=ae.useState({fullName:"",password:"",confirmPassword:""}),[b,v]=ae.useState(!1);ae.useEffect(()=>{C()},[n]);const C=async()=>{try{const{data:E,error:U}=await Je.from("invitations").select(`
          *,
          organizations(name)
        `).eq("token",n).single();if(U||!E){p("error"),f("Invitasjonen er ugyldig eller finnes ikke."),o(!1);return}if(new Date(E.expires_at)<new Date){p("error"),f("Denne invitasjonen har utlpt. Be om en ny invitasjon."),o(!1);return}if(E.status==="accepted"){p("error"),f("Denne invitasjonen er allerede brukt."),o(!1);return}s(E);const{data:Z}=await Je.from("profiles").select("id, email").eq("email",E.email).limit(1);Z&&Z.length>0?p("login"):p("register"),o(!1)}catch(E){console.error("Error checking invitation:",E),p("error"),f("Kunne ikke hente invitasjonsdetaljer."),o(!1)}},P=async E=>{if(E.preventDefault(),v(!0),f(null),y.password!==y.confirmPassword){f("Passordene stemmer ikke overens."),v(!1);return}if(y.password.length<6){f("Passordet m vre minst 6 tegn."),v(!1);return}try{const{data:U,error:Z}=await Je.auth.signUp({email:t.email,password:y.password,options:{data:{full_name:y.fullName}}});if(Z)throw Z;const{error:q}=await Je.rpc("accept_invitation",{invitation_token:n});if(q)throw q;U.user&&await Je.from("profiles").update({full_name:y.fullName}).eq("id",U.user.id),p("success")}catch(U){console.error("Registration error:",U),f(U.message||"Kunne ikke fullfre registreringen.")}finally{v(!1)}},L=async E=>{E.preventDefault(),v(!0),f(null);try{const{error:U}=await Je.auth.signInWithPassword({email:t.email,password:y.password});if(U)throw U;const{error:Z}=await Je.rpc("accept_invitation",{invitation_token:n});if(Z)throw Z;p("success")}catch(U){console.error("Login error:",U),f(U.message||"Kunne ikke logge inn.")}finally{v(!1)}},S=()=>{e("/",{replace:!0}),window.location.reload()};return l?i.jsx("div",{className:Wt.container,children:i.jsx("div",{className:Wt.card,children:i.jsxs("div",{className:Wt.loading,children:[i.jsx("svg",{className:Wt.spinner,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M12 2v4m0 12v4m-8-10h4m12 0h4m-2.636-7.364l-2.828 2.828m-8.486 8.486l-2.828 2.828m14.142 0l-2.828-2.828m-8.486-8.486L4.636 4.636"})}),i.jsx("p",{children:"Laster invitasjon..."})]})})}):d==="error"?i.jsx("div",{className:Wt.container,children:i.jsx("div",{className:Wt.card,children:i.jsxs("div",{className:Wt.errorState,children:[i.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),i.jsx("h2",{children:"Invitasjon ugyldig"}),i.jsx("p",{children:c}),i.jsx("button",{className:Wt.primaryBtn,onClick:()=>e("/login"),children:"G til innlogging"})]})})}):d==="success"?i.jsx("div",{className:Wt.container,children:i.jsx("div",{className:Wt.card,children:i.jsxs("div",{className:Wt.successState,children:[i.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),i.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),i.jsxs("h2",{children:["Velkommen til ",(k=t==null?void 0:t.organizations)==null?void 0:k.name,"!"]}),i.jsx("p",{children:"Du er n medlem av organisasjonen og kan begynne  bruke EasyWork."}),i.jsx("button",{className:Wt.primaryBtn,onClick:S,children:"G til dashboard"})]})})}):i.jsx("div",{className:Wt.container,children:i.jsxs("div",{className:Wt.card,children:[i.jsxs("div",{className:Wt.header,children:[i.jsx("div",{className:Wt.logo,children:i.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),i.jsxs("h1",{children:["Bli med i ",(A=t==null?void 0:t.organizations)==null?void 0:A.name]}),i.jsxs("p",{className:Wt.subtitle,children:["Du har blitt invitert som ",i.jsx("strong",{children:(t==null?void 0:t.role)==="admin"?"Administrator":"Ansatt"})]})]}),c&&i.jsx("div",{className:Wt.errorMessage,children:c}),d==="register"&&i.jsxs("form",{onSubmit:P,className:Wt.form,children:[i.jsx("p",{className:Wt.formInfo,children:"Opprett en konto for  godta invitasjonen."}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"E-post"}),i.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:Wt.input})]}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"Fullt navn"}),i.jsx("input",{type:"text",value:y.fullName,onChange:E=>_({...y,fullName:E.target.value}),placeholder:"Ola Nordmann",required:!0,className:Wt.input})]}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"Passord"}),i.jsx("input",{type:"password",value:y.password,onChange:E=>_({...y,password:E.target.value}),placeholder:"Minst 6 tegn",required:!0,className:Wt.input})]}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"Bekreft passord"}),i.jsx("input",{type:"password",value:y.confirmPassword,onChange:E=>_({...y,confirmPassword:E.target.value}),placeholder:"Skriv passordet p nytt",required:!0,className:Wt.input})]}),i.jsx("button",{type:"submit",className:Wt.submitBtn,disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:Wt.spinner,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M12 2v4m0 12v4m-8-10h4m12 0h4"})}),"Oppretter konto..."]}):"Opprett konto og bli med"})]}),d==="login"&&i.jsxs("form",{onSubmit:L,className:Wt.form,children:[i.jsx("p",{className:Wt.formInfo,children:"Du har allerede en konto. Logg inn for  godta invitasjonen."}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"E-post"}),i.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:Wt.input})]}),i.jsxs("div",{className:Wt.formGroup,children:[i.jsx("label",{children:"Passord"}),i.jsx("input",{type:"password",value:y.password,onChange:E=>_({...y,password:E.target.value}),placeholder:"Ditt passord",required:!0,className:Wt.input})]}),i.jsx("button",{type:"submit",className:Wt.submitBtn,disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:Wt.spinner,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M12 2v4m0 12v4m-8-10h4m12 0h4"})}),"Logger inn..."]}):"Logg inn og bli med"})]})]})})}const TP="_container_tx5zl_1",OP="_header_tx5zl_11",IP="_title_tx5zl_29",DP="_subtitle_tx5zl_41",RP="_message_tx5zl_55",FP="_success_tx5zl_75",MP="_error_tx5zl_87",BP="_content_tx5zl_101",$P="_sidebar_tx5zl_117",qP="_navItem_tx5zl_135",zP="_active_tx5zl_185",UP="_chevron_tx5zl_203",HP="_main_tx5zl_225",WP="_section_tx5zl_233",VP="_sectionTitle_tx5zl_247",GP="_sectionDesc_tx5zl_265",KP="_formGrid_tx5zl_279",YP="_integrationList_tx5zl_293",JP="_integrationCard_tx5zl_307",QP="_selected_tx5zl_339",XP="_integrationRadio_tx5zl_349",ZP="_integrationInfo_tx5zl_371",eE="_integrationSettings_tx5zl_397",tE="_integrationNote_tx5zl_421",nE="_checkboxLabel_tx5zl_465",rE="_noAccess_tx5zl_495",sE="_mobileSave_tx5zl_545",iE="_btn_tx5zl_643",Vt={container:TP,header:OP,title:IP,subtitle:DP,message:RP,success:FP,error:MP,content:BP,sidebar:$P,navItem:qP,active:zP,chevron:UP,main:HP,section:WP,sectionTitle:VP,sectionDesc:GP,formGrid:KP,integrationList:YP,integrationCard:JP,selected:QP,integrationRadio:XP,integrationInfo:ZP,integrationSettings:eE,integrationNote:tE,checkboxLabel:nE,noAccess:rE,mobileSave:sE,btn:iE},aE=[{id:"company",label:"Bedriftsinformasjon",icon:wd},{id:"bank",label:"Bankinformasjon",icon:lm},{id:"invoice",label:"Fakturainnstillinger",icon:ca},{id:"integrations",label:"Integrasjoner",icon:Nv}],Lh=[{id:"none",name:"Ingen integrasjon",description:"Bruk EasyWork standalone"},{id:"tripletex",name:"Tripletex",description:"Norges mest populre regnskapsprogram"},{id:"duett",name:"Duett",description:"Komplett konomisystem"},{id:"visma",name:"Visma eAccounting",description:"Regnskap i skyen"},{id:"fiken",name:"Fiken",description:"Enkelt regnskap for sm bedrifter"},{id:"poweroffice",name:"PowerOffice Go",description:"Moderne regnskapslsning"}];function oE(){var P,L,S;const{profile:n,organization:e,setOrganization:t}=fr(),[s,l]=ae.useState("company"),[o,c]=ae.useState(!1),[f,d]=ae.useState(null),[p,y]=ae.useState({name:"",org_number:"",email:"",phone:"",address:"",postal_code:"",city:"",country:"Norge",website:"",bank_account:"",bank_name:"",iban:"",swift_bic:"",invoice_prefix:"",invoice_start_number:1,default_payment_days:14,default_vat_rate:25,default_invoice_terms:"Betaling innen forfallsdato. Ved forsinket betaling plper forsinkelsesrenter.",default_invoice_notes:"",integration_provider:"none",integration_api_key:"",integration_enabled:!1}),_=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="owner";ae.useEffect(()=>{e&&y({name:e.name||"",org_number:e.org_number||"",email:e.email||"",phone:e.phone||"",address:e.address||"",postal_code:e.postal_code||"",city:e.city||"",country:e.country||"Norge",website:e.website||"",bank_account:e.bank_account||"",bank_name:e.bank_name||"",iban:e.iban||"",swift_bic:e.swift_bic||"",invoice_prefix:e.invoice_prefix||"",invoice_start_number:e.invoice_start_number||1,default_payment_days:e.default_payment_days||14,default_vat_rate:e.default_vat_rate||25,default_invoice_terms:e.default_invoice_terms||"Betaling innen forfallsdato. Ved forsinket betaling plper forsinkelsesrenter.",default_invoice_notes:e.default_invoice_notes||"",integration_provider:e.integration_provider||"none",integration_api_key:e.integration_api_key||"",integration_enabled:e.integration_enabled||!1})},[e]);const b=async()=>{if(!_){d({type:"error",text:"Du har ikke tilgang til  endre innstillinger"});return}c(!0),d(null);try{const{data:k,error:A}=await Je.from("organizations").update({name:p.name,org_number:p.org_number||null,email:p.email||null,phone:p.phone||null,address:p.address||null,postal_code:p.postal_code||null,city:p.city||null,country:p.country||"Norge",website:p.website||null,bank_account:p.bank_account||null,bank_name:p.bank_name||null,iban:p.iban||null,swift_bic:p.swift_bic||null,invoice_prefix:p.invoice_prefix||null,invoice_start_number:p.invoice_start_number||1,default_payment_days:p.default_payment_days||14,default_vat_rate:p.default_vat_rate||25,default_invoice_terms:p.default_invoice_terms||null,default_invoice_notes:p.default_invoice_notes||null,integration_provider:p.integration_provider||"none",integration_api_key:p.integration_api_key||null,integration_enabled:p.integration_enabled||!1,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(A)throw A;t(k),d({type:"success",text:"Innstillinger lagret!"}),setTimeout(()=>d(null),3e3)}catch(k){console.error("Error saving settings:",k),d({type:"error",text:"Kunne ikke lagre innstillinger. Prv igjen."})}finally{c(!1)}},v=k=>{const A=k.replace(/\D/g,"");return A.length<=4?A:A.length<=6?`${A.slice(0,4)}.${A.slice(4)}`:`${A.slice(0,4)}.${A.slice(4,6)}.${A.slice(6,11)}`},C=k=>{const A=v(k.target.value);y({...p,bank_account:A})};return _?i.jsxs("div",{className:Vt.container,children:[i.jsxs("div",{className:Vt.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Vt.title,children:"Innstillinger"}),i.jsx("p",{className:Vt.subtitle,children:"Administrer bedriftens innstillinger"})]}),i.jsxs("button",{className:"btn btn-primary",onClick:b,disabled:o,children:[i.jsx($a,{size:18}),o?"Lagrer...":"Lagre endringer"]})]}),f&&i.jsxs("div",{className:`${Vt.message} ${Vt[f.type]}`,children:[f.type==="success"?i.jsx(Dl,{size:18}):i.jsx(Eo,{size:18}),f.text]}),i.jsxs("div",{className:Vt.content,children:[i.jsx("nav",{className:Vt.sidebar,children:aE.map(k=>{const A=k.icon;return i.jsxs("button",{className:`${Vt.navItem} ${s===k.id?Vt.active:""}`,onClick:()=>l(k.id),children:[i.jsx(A,{size:20}),i.jsx("span",{children:k.label}),i.jsx(Th,{size:16,className:Vt.chevron})]},k.id)})}),i.jsxs("div",{className:Vt.main,children:[s==="company"&&i.jsxs("div",{className:Vt.section,children:[i.jsxs("h2",{className:Vt.sectionTitle,children:[i.jsx(wd,{size:22}),"Bedriftsinformasjon"]}),i.jsx("p",{className:Vt.sectionDesc,children:"Denne informasjonen vises p fakturaer og tilbud."}),i.jsxs("div",{className:Vt.formGrid,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Firmanavn *"}),i.jsx("input",{type:"text",className:"form-input",value:p.name,onChange:k=>y({...p,name:k.target.value}),placeholder:"Ditt firma AS"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Organisasjonsnummer"}),i.jsx("input",{type:"text",className:"form-input",value:p.org_number,onChange:k=>y({...p,org_number:k.target.value}),placeholder:"123 456 789"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"E-post"}),i.jsx("input",{type:"email",className:"form-input",value:p.email,onChange:k=>y({...p,email:k.target.value}),placeholder:"post@firma.no"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Telefon"}),i.jsx("input",{type:"tel",className:"form-input",value:p.phone,onChange:k=>y({...p,phone:k.target.value}),placeholder:"+47 123 45 678"})]}),i.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[i.jsx("label",{className:"form-label",children:"Adresse"}),i.jsx("input",{type:"text",className:"form-input",value:p.address,onChange:k=>y({...p,address:k.target.value}),placeholder:"Gateadresse 123"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Postnummer"}),i.jsx("input",{type:"text",className:"form-input",value:p.postal_code,onChange:k=>y({...p,postal_code:k.target.value}),placeholder:"0123"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Sted"}),i.jsx("input",{type:"text",className:"form-input",value:p.city,onChange:k=>y({...p,city:k.target.value}),placeholder:"Oslo"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Land"}),i.jsx("input",{type:"text",className:"form-input",value:p.country,onChange:k=>y({...p,country:k.target.value}),placeholder:"Norge"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Nettside"}),i.jsx("input",{type:"url",className:"form-input",value:p.website,onChange:k=>y({...p,website:k.target.value}),placeholder:"https://www.firma.no"})]})]})]}),s==="bank"&&i.jsxs("div",{className:Vt.section,children:[i.jsxs("h2",{className:Vt.sectionTitle,children:[i.jsx(lm,{size:22}),"Bankinformasjon"]}),i.jsx("p",{className:Vt.sectionDesc,children:"Kontonummer og bankdetaljer som vises p fakturaer."}),i.jsxs("div",{className:Vt.formGrid,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Kontonummer"}),i.jsx("input",{type:"text",className:"form-input",value:p.bank_account,onChange:C,placeholder:"1234.56.12345",maxLength:13}),i.jsx("span",{className:"form-hint",children:"Norsk format: XXXX.XX.XXXXX"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Banknavn"}),i.jsx("input",{type:"text",className:"form-input",value:p.bank_name,onChange:k=>y({...p,bank_name:k.target.value}),placeholder:"DNB, Nordea, SpareBank 1..."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"IBAN (valgfritt)"}),i.jsx("input",{type:"text",className:"form-input",value:p.iban,onChange:k=>y({...p,iban:k.target.value.toUpperCase()}),placeholder:"NO12 3456 7890 1234 56"}),i.jsx("span",{className:"form-hint",children:"For internasjonale betalinger"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"SWIFT/BIC (valgfritt)"}),i.jsx("input",{type:"text",className:"form-input",value:p.swift_bic,onChange:k=>y({...p,swift_bic:k.target.value.toUpperCase()}),placeholder:"DNBANOKK"})]})]})]}),s==="invoice"&&i.jsxs("div",{className:Vt.section,children:[i.jsxs("h2",{className:Vt.sectionTitle,children:[i.jsx(ca,{size:22}),"Fakturainnstillinger"]}),i.jsx("p",{className:Vt.sectionDesc,children:"Standardverdier og innstillinger for fakturaer."}),i.jsxs("div",{className:Vt.formGrid,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Fakturanummer-prefix"}),i.jsx("input",{type:"text",className:"form-input",value:p.invoice_prefix,onChange:k=>y({...p,invoice_prefix:k.target.value}),placeholder:"F-"}),i.jsx("span",{className:"form-hint",children:'F.eks. "F-" gir fakturanummer F-1, F-2...'})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Startnummer"}),i.jsx("input",{type:"number",className:"form-input",value:p.invoice_start_number,onChange:k=>y({...p,invoice_start_number:parseInt(k.target.value)||1}),min:1}),i.jsx("span",{className:"form-hint",children:"Frste fakturanummer"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Standard betalingsfrist"}),i.jsxs("select",{className:"form-select",value:p.default_payment_days,onChange:k=>y({...p,default_payment_days:parseInt(k.target.value)}),children:[i.jsx("option",{value:7,children:"7 dager"}),i.jsx("option",{value:10,children:"10 dager"}),i.jsx("option",{value:14,children:"14 dager"}),i.jsx("option",{value:21,children:"21 dager"}),i.jsx("option",{value:30,children:"30 dager"}),i.jsx("option",{value:45,children:"45 dager"}),i.jsx("option",{value:60,children:"60 dager"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Standard MVA-sats"}),i.jsxs("select",{className:"form-select",value:p.default_vat_rate,onChange:k=>y({...p,default_vat_rate:parseFloat(k.target.value)}),children:[i.jsx("option",{value:0,children:"0% (Fritatt)"}),i.jsx("option",{value:12,children:"12% (Mat)"}),i.jsx("option",{value:15,children:"15% (Transport)"}),i.jsx("option",{value:25,children:"25% (Standard)"})]})]}),i.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[i.jsx("label",{className:"form-label",children:"Standard betalingsvilkr"}),i.jsx("textarea",{className:"form-textarea",rows:3,value:p.default_invoice_terms,onChange:k=>y({...p,default_invoice_terms:k.target.value}),placeholder:"Betaling innen forfallsdato..."})]}),i.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[i.jsx("label",{className:"form-label",children:"Standard fakturanotat"}),i.jsx("textarea",{className:"form-textarea",rows:2,value:p.default_invoice_notes,onChange:k=>y({...p,default_invoice_notes:k.target.value}),placeholder:"Vises nederst p alle fakturaer..."})]})]})]}),s==="integrations"&&i.jsxs("div",{className:Vt.section,children:[i.jsxs("h2",{className:Vt.sectionTitle,children:[i.jsx(Nv,{size:22}),"Integrasjoner"]}),i.jsx("p",{className:Vt.sectionDesc,children:"Koble til eksternt regnskapssystem for automatisk synkronisering."}),i.jsx("div",{className:Vt.integrationList,children:Lh.map(k=>i.jsxs("div",{className:`${Vt.integrationCard} ${p.integration_provider===k.id?Vt.selected:""}`,onClick:()=>y({...p,integration_provider:k.id}),children:[i.jsx("div",{className:Vt.integrationRadio,children:i.jsx("input",{type:"radio",name:"integration",checked:p.integration_provider===k.id,onChange:()=>y({...p,integration_provider:k.id})})}),i.jsxs("div",{className:Vt.integrationInfo,children:[i.jsx("h4",{children:k.name}),i.jsx("p",{children:k.description})]})]},k.id))}),p.integration_provider!=="none"&&i.jsxs("div",{className:Vt.integrationSettings,children:[i.jsxs("h3",{children:["Integrasjonsinnstillinger for ",(P=Lh.find(k=>k.id===p.integration_provider))==null?void 0:P.name]}),i.jsxs("div",{className:Vt.formGrid,children:[i.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[i.jsx("label",{className:"form-label",children:"API-nkkel"}),i.jsx("input",{type:"password",className:"form-input",value:p.integration_api_key,onChange:k=>y({...p,integration_api_key:k.target.value}),placeholder:"Lim inn API-nkkel her..."}),i.jsxs("span",{className:"form-hint",children:["Finn API-nkkelen i innstillingene til ",(L=Lh.find(k=>k.id===p.integration_provider))==null?void 0:L.name]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{className:Vt.checkboxLabel,children:[i.jsx("input",{type:"checkbox",checked:p.integration_enabled,onChange:k=>y({...p,integration_enabled:k.target.checked})}),i.jsx("span",{children:"Aktiver integrasjon"})]}),i.jsx("span",{className:"form-hint",children:"Nr aktivert vil fakturaer automatisk sendes til regnskapssystemet"})]})]}),i.jsxs("div",{className:Vt.integrationNote,children:[i.jsx(Eo,{size:18}),i.jsxs("p",{children:[i.jsx("strong",{children:"Merk:"})," Integrasjonen synkroniserer kun n vei fra EasyWork til regnskapssystemet. Fakturaer som opprettes i EasyWork vil automatisk opprettes i ",(S=Lh.find(k=>k.id===p.integration_provider))==null?void 0:S.name,"."]})]})]})]})]})]}),i.jsx("div",{className:Vt.mobileSave,children:i.jsxs("button",{className:"btn btn-primary w-full",onClick:b,disabled:o,children:[i.jsx($a,{size:18}),o?"Lagrer...":"Lagre endringer"]})})]}):i.jsxs("div",{className:Vt.noAccess,children:[i.jsx(um,{size:64}),i.jsx("h2",{children:"Ingen tilgang"}),i.jsx("p",{children:"Du m vre administrator eller eier for  se innstillinger."})]})}function lE({children:n}){const{user:e,organization:t,loading:s}=fr();return s?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):e?t?n:i.jsx(Il,{to:"/setup",replace:!0}):i.jsx(Il,{to:"/logg-inn",replace:!0})}function cE({children:n}){const{user:e,organization:t,loading:s}=fr();return s?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):e?t?i.jsx(Il,{to:"/dashboard",replace:!0}):n:i.jsx(Il,{to:"/logg-inn",replace:!0})}function uE({children:n}){const{user:e,organization:t,loading:s}=fr();return s?i.jsx("div",{className:"loading-screen",children:i.jsx("div",{className:"spinner"})}):e?t?i.jsx(Il,{to:"/dashboard",replace:!0}):i.jsx(Il,{to:"/setup",replace:!0}):n}function bp({title:n}){return i.jsx("div",{className:"card",children:i.jsxs("div",{className:"empty-state",children:[i.jsx("h3",{className:"empty-state-title",children:n}),i.jsx("p",{className:"empty-state-description",children:"Denne siden er under utvikling og kommer snart."})]})})}function dE(){return i.jsxs(J2,{children:[i.jsxs(fn,{element:i.jsx(uE,{children:i.jsx(Db,{})}),children:[i.jsx(fn,{path:"/logg-inn",element:i.jsx(Rb,{})}),i.jsx(fn,{path:"/registrer",element:i.jsx(Fb,{})})]}),i.jsx(fn,{path:"/setup",element:i.jsx(cE,{children:i.jsx(Qb,{})})}),i.jsx(fn,{path:"/invitasjon/:token",element:i.jsx(EP,{})}),i.jsxs(fn,{element:i.jsx(lE,{children:i.jsx(Ib,{})}),children:[i.jsx(fn,{path:"/dashboard",element:i.jsx(Xb,{})}),i.jsx(fn,{path:"/kalender",element:i.jsx(eN,{})}),i.jsx(fn,{path:"/kunder",element:i.jsx(fN,{})}),i.jsx(fn,{path:"/kunder/ny",element:i.jsx(lp,{})}),i.jsx(fn,{path:"/kunder/:id",element:i.jsx(lp,{})}),i.jsx(fn,{path:"/kunder/:id/rediger",element:i.jsx(lp,{})}),i.jsx(fn,{path:"/jobber",element:i.jsx(s3,{})}),i.jsx(fn,{path:"/jobber/ny",element:i.jsx(l1,{})}),i.jsx(fn,{path:"/jobber/:id",element:i.jsx(M4,{})}),i.jsx(fn,{path:"/jobber/:id/rediger",element:i.jsx(l1,{})}),i.jsx(fn,{path:"/tilbud",element:i.jsx(e6,{})}),i.jsx(fn,{path:"/tilbud/ny",element:i.jsx(yp,{})}),i.jsx(fn,{path:"/tilbud/:id",element:i.jsx(yp,{})}),i.jsx(fn,{path:"/tilbud/:id/rediger",element:i.jsx(yp,{})}),i.jsx(fn,{path:"/fakturaer",element:i.jsx(u8,{})}),i.jsx(fn,{path:"/fakturaer/ny",element:i.jsx(R1,{})}),i.jsx(fn,{path:"/fakturaer/:id",element:i.jsx(R1,{})}),i.jsx(fn,{path:"/artikler",element:i.jsx(gA,{})}),i.jsx(fn,{path:"/timer",element:i.jsx(bp,{title:"Timeregistrering"})}),i.jsx(fn,{path:"/kjoretoy",element:i.jsx(bp,{title:"Kjrety"})}),i.jsx(fn,{path:"/dokumenter",element:i.jsx(bp,{title:"Dokumenter"})}),i.jsx(fn,{path:"/ansatte",element:i.jsx(pP,{})}),i.jsx(fn,{path:"/innstillinger",element:i.jsx(oE,{})})]}),i.jsx(fn,{path:"/",element:i.jsx(Il,{to:"/dashboard",replace:!0})}),i.jsx(fn,{path:"*",element:i.jsx(Il,{to:"/dashboard",replace:!0})})]})}Q0.createRoot(document.getElementById("root")).render(i.jsx(H0.StrictMode,{children:i.jsx(wy,{children:i.jsx(ub,{children:i.jsx(dE,{})})})}));export{kn as _,B0 as c,F1 as g};
